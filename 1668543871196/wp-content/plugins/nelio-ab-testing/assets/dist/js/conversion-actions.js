!function(){var n={d:function(e,o){for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},o:function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r:function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},e={};!function(){"use strict";n.r(e),n.d(e,{conversionActions:function(){return r}});var o={};n.r(o),n.d(o,{getConversionActionType:function(){return a},getConversionActionTypes:function(){return c}});var t={};n.r(t),n.d(t,{addConversionActionTypes:function(){return u},removeConversionActionTypes:function(){return f}});var r={};n.r(r),n.d(r,{STORE_NAME:function(){return l},createConversionAction:function(){return C},registerConversionActionType:function(){return S}});var i=window.wp.data,s=window.lodash;function c(n){return(0,s.values)(n.conversionActionTypes)}function a(n,e){return n.conversionActionTypes[e]}function u(n){return{type:"ADD_CONVERSION_ACTION_TYPES",conversionActionTypes:(0,s.castArray)(n)}}function f(n){return{type:"REMOVE_CONVERSION_ACTION_TYPES",names:(0,s.castArray)(n)}}var p,l="nab/conversion-actions",d={conversionActionTypes:{}},y=function(){return y=Object.assign||function(n){for(var e,o=1,t=arguments.length;o<t;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},y.apply(this,arguments)};(0,i.registerStore)(l,{reducer:function(n,e){var o;return void 0===n&&(n=d),null!==(o=function(n,e){switch(e.type){case"ADD_CONVERSION_ACTION_TYPES":return y(y({},n),{conversionActionTypes:y(y({},n.conversionActionTypes),(0,s.keyBy)(e.conversionActionTypes,"name"))});case"REMOVE_CONVERSION_ACTION_TYPES":return y(y({},n),{conversionActionTypes:(0,s.omit)(n.conversionActionTypes,e.names)})}}(n,e))&&void 0!==o?o:n},selectors:o,actions:t});var v=new Uint8Array(16);function m(){if(!p&&!(p="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(v)}for(var g=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,T=function(n){return"string"==typeof n&&g.test(n)},b=[],h=0;h<256;++h)b.push((h+256).toString(16).substr(1));var O=function(n,e,o){var t=(n=n||{}).random||(n.rng||m)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,e){o=o||0;for(var r=0;r<16;++r)e[o+r]=t[r];return e}return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(b[n[e+0]]+b[n[e+1]]+b[n[e+2]]+b[n[e+3]]+"-"+b[n[e+4]]+b[n[e+5]]+"-"+b[n[e+6]]+b[n[e+7]]+"-"+b[n[e+8]]+b[n[e+9]]+"-"+b[n[e+10]]+b[n[e+11]]+b[n[e+12]]+b[n[e+13]]+b[n[e+14]]+b[n[e+15]]).toLowerCase();if(!T(o))throw TypeError("Stringified UUID is invalid");return o}(t)},A=function(){return A=Object.assign||function(n){for(var e,o=1,t=arguments.length;o<t;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},A.apply(this,arguments)};function C(n,e){var o=(0,(0,i.select)(l).getConversionActionType)(n);if(o)return{id:O(),type:n,attributes:A(A({},o.attributes),e||{})}}var w=window.nab.utils,_=function(){return _=Object.assign||function(n){for(var e,o=1,t=arguments.length;o<t;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},_.apply(this,arguments)};function S(n,e){var o=_({name:n,validate:function(){return{}}},e);if("string"==typeof n)if(/^[a-z][a-z0-9-]*\/[a-z][a-z0-9-]*$/.test(n))if((0,i.select)(l).getConversionActionType(n))console.error("Conversion action “".concat(n,"” is already registered."));else if(E(o))if(N(o))if(j(o))if(P(o))if((0,w.isValidIcon)(o.icon))if(R(o)){if(V(o))return(0,i.dispatch)(l).addConversionActionTypes(o),o;console.error("The “edit” property must be a valid function.")}else console.error("The “view” property must be a valid function.");else console.error("The icon passed is invalid. The icon should be an element or a function.");else console.error("The conversion action “".concat(n,"” must have an icon."));else console.error("Conversion action “".concat(n,"” should specify its default attributes."));else console.error("Conversion action “".concat(n,"” should specify a description."));else console.error("Conversion action “".concat(n,"” should specify a title."));else console.error("Conversion action names must contain a namespace prefix, include only lowercase alphanumeric characters or dashes, and start with a letter. Example: my-plugin/my-custom-conversion-action");else console.error("Conversion action names must be strings.")}var E=function(n){return"string"==typeof n.title&&!!n.title},N=function(n){return"string"==typeof n.description&&!!n.description},j=function(n){return!!n.attributes},P=function(n){return"icon"in n},R=function(n){return(0,s.isFunction)(n.view)},V=function(n){return(0,s.isFunction)(n.edit)}}();var o=nab="undefined"==typeof nab?{}:nab;for(var t in e)o[t]=e[t];e.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})}();