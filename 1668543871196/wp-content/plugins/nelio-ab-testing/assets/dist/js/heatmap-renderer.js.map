{"version":3,"file":"js/heatmap-renderer.js","mappings":"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AACA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,WAAW,0BAA0B;AACrC,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY;AACZ,aAAa,WAAW,KAAK;AAC7B;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,SAAS;AAC3B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,WAAW;AAC/B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,YAAY;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,eAAe;AACrC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,aAAa;AAClC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,SAAS;AAC3B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,aAAa;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEwL;;;;;;;;;;;;;;;;AC/mBjL,SAAS,gBAAgB,CAC/B,MAAc,EACd,KAAuB;IAEvB,IAAK,OAAO,KAAK,KAAK,EAAG;QACxB,OAAO,SAAS,CAAC;KACjB,CAAC,QAAQ;IAEV,KAAK,GAAG,UAAI,KAAK,aAAL,KAAK,cAAL,KAAK,GAAI,EAAE,CAAG,CAAC;IAC3B,IAAM,GAAG,GAAG,KAAK,CAAE,MAAM,CAAC,QAAQ,CAAE,KAAK,CAAE,CAAE;QAC5C,CAAC,CAAC,CAAC,CAAC;QACJ,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAE,KAAK,CAAE,CAAC;IAE5B,QAAS,MAAM,EAAG;QACjB,KAAK,SAAS;YACb,OAAO,eAAe,CAAE,KAAK,CAAE,CAAC;QAEjC,KAAK,QAAQ;YACZ,OAAO,cAAc,CAAE,KAAK,CAAE,CAAC;QAEhC,KAAK,IAAI;YACR,OAAO,UAAU,CAAE,KAAK,CAAE,CAAC;QAE5B,KAAK,SAAS;YACb,OAAO,eAAe,CAAE,KAAK,CAAE,CAAC;QAEjC,KAAK,WAAW;YACf,OAAO,iBAAiB,CAAE,GAAG,CAAE,CAAC;QAEjC,KAAK,WAAW;YACf,OAAO,iBAAiB,CAAE,GAAG,CAAE,CAAC;QAEjC;YACC,OAAO,eAAe,CAAE,GAAG,CAAE,CAAC;KAC/B,CAAC,YAAY;AACf,CAAC,CAAC,wBAAwB;AAE1B,UAAU;AACV,UAAU;AACV,UAAU;AAEV,SAAS,eAAe,CAAE,KAAa;IACtC,IAAM,OAAO,GAA6B;QACzC,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;QACb,EAAE,EAAE,SAAS;KACb,CAAC;IACF,OAAO,OAAO,CAAE,KAAK,CAAE,CAAC;AACzB,CAAC,CAAC,uBAAuB;AAEzB,SAAS,cAAc,CAAE,KAAa;IACrC,IAAM,OAAO,GAA6B;QACzC,OAAO,EAAE,SAAS;QAClB,OAAO,EAAE,SAAS;QAClB,MAAM,EAAE,SAAS;QACjB,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,SAAS;QAClB,QAAQ,EAAE,SAAS;QACnB,QAAQ,EAAE,SAAS;KACnB,CAAC;IACF,OAAO,OAAO,CAAE,KAAK,CAAE,CAAC;AACzB,CAAC,CAAC,sBAAsB;AAExB,SAAS,UAAU,CAAE,KAAa;IACjC,KAAK,GAAG,UAAI,KAAK,CAAG,CAAC;IAErB,IAAK,UAAU,KAAK,KAAK,EAAG;QAC3B,OAAO,SAAS,CAAC;KACjB,CAAC,QAAQ;IAEV,IAAK,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO,CAAE,YAAY,CAAE,EAAG;QAC3C,OAAO,SAAS,CAAC;KACjB,CAAC,QAAQ;IAEV,IAAK,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO,CAAE,eAAe,CAAE,EAAG;QAC9C,OAAO,SAAS,CAAC;KACjB,CAAC,QAAQ;IAEV,IAAK,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO,CAAE,WAAW,CAAE,EAAG;QAC1C,OAAO,SAAS,CAAC;KACjB,CAAC,QAAQ;IAEV,IAAK,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO,CAAE,eAAe,CAAE,EAAG;QAC9C,OAAO,SAAS,CAAC;KACjB,CAAC,QAAQ;IAEV,IAAK,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO,CAAE,YAAY,CAAE,EAAG;QAC3C,OAAO,SAAS,CAAC;KACjB,CAAC,QAAQ;IAEV,IAAK,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO,CAAE,SAAS,CAAE,EAAG;QACxC,OAAO,SAAS,CAAC;KACjB,CAAC,QAAQ;IAEV,IAAM,MAAM,GAA6B;QACxC,aAAa,EAAE,SAAS;QACxB,QAAQ,EAAE,SAAS;QACnB,OAAO,EAAE,SAAS;QAClB,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,SAAS;QAClB,KAAK,EAAE,SAAS;QAChB,IAAI,EAAE,SAAS;QACf,IAAI,EAAE,SAAS;QACf,MAAM,EAAE,SAAS;QACjB,GAAG,EAAE,SAAS;KACd,CAAC;IAEF,OAAO,MAAM,CAAE,KAAK,CAAE,CAAC;AACxB,CAAC,CAAC,kBAAkB;AAEpB,SAAS,eAAe,CAAE,KAAa;IACtC,IAAM,MAAM,GAA6B;QACxC,YAAY,EAAE,SAAS;QACvB,YAAY,EAAE,SAAS;QACvB,iBAAiB,EAAE,SAAS;QAC5B,MAAM,EAAE,SAAS;QACjB,QAAQ,EAAE,SAAS;QACnB,IAAI,EAAE,SAAS;QACf,OAAO,EAAE,SAAS;QAClB,OAAO,EAAE,SAAS;QAClB,KAAK,EAAE,SAAS;QAChB,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,SAAS;KAClB,CAAC;IACF,OAAO,MAAM,CAAE,UAAI,KAAK,CAAG,CAAE,CAAC;AAC/B,CAAC,CAAC,uBAAuB;AAEzB,SAAS,iBAAiB,CAAE,KAAa;IACxC,IAAM,OAAO,GAA4B;QACxC,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;KACT,CAAC;IACF,OAAO,OAAO,CAAE,KAAK,CAAE,CAAC;AACzB,CAAC,CAAC,yBAAyB;AAE3B,SAAS,iBAAiB,CAAE,KAAa;IACxC,IAAM,OAAO,GAAG;QACf,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;KACT,CAAC;IACF,OAAO,OAAO,CAAE,KAAK,CAAE,CAAC;AACzB,CAAC,CAAC,yBAAyB;AAE3B,SAAS,eAAe,CAAE,KAAa;IACtC,IAAM,OAAO,GAAG;QACf,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;KACT,CAAC;IACF,OAAO,OAAO,CAAE,KAAK,CAAE,CAAC;AACzB,CAAC,CAAC,uBAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7MzB;;GAEG;AACkC;AAErC;;GAEG;AAC6C;AAQhD;;GAEG;AACiC;AACiB;AACW;AAIhE,mCAAmC;AACnC,IAAM,QAAQ,GAAG,UAAU,CAAC;AAE5B,IAAM,eAAe,GAAG;IACvB,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;CACT,CAAC;AAEF,IAAM,QAAQ,GAGV,EAAE,CAAC;AAEP,IAAI,mBAEH,CAAC;AAEK,SAAS,qBAAqB,CACpC,MAA0B,EAC1B,QAAkB;IAElB,IAAK,gBAAgB,KAAK,MAAM,CAAC,IAAI,EAAG;QACvC,iBAAiB,CAAE,MAAM,CAAC,KAAK,CAAE,CAAC;QAClC,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,gBAAgB,KAAK,MAAM,CAAC,IAAI,EAAG;QACvC,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,UAAU,KAAK,MAAM,CAAC,IAAI,EAAG;QACjC,sBAAsB,EAAE,CAAC;QACzB,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,CAAE,MAAM,CAAC,gBAAgB,EAAG;QAChC,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,CAAE,QAAQ,CAAC,MAAM,EAAG;QACxB,YAAY,EAAE,CAAC;KACf,CAAC,QAAQ;IAEV,IAAK,CAAE,mBAAmB,EAAG;QAC5B,iBAAiB,EAAE,CAAC;QACpB,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,+BAA+B,EAC/B,mBAAmB,CACnB,CAAC;KACF,CAAC,QAAQ;IAEV,iBAAiB,CAAE,MAAM,CAAC,OAAO,CAAE,CAAC;IACpC,oBAAoB,EAAE,CAAC;IACvB,cAAc,CAAE,MAAM,CAAC,YAAY,EAAE,MAAM,CAAC,qBAAqB,CAAE,CAAC;AACrE,CAAC,CAAC,6BAA6B;AAE/B,UAAU;AACV,UAAU;AACV,UAAU;AAEV,SAAS,iBAAiB,CAAE,OAAe;IAC1C,IAAK,CAAE,QAAQ,CAAC,OAAO,IAAI,SAAS,KAAK,OAAO,EAAG;QAClD,OAAO;KACP,CAAC,QAAQ;IACV,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,UAAI,OAAO,GAAG,GAAG,CAAG,CAAC;AACvD,CAAC,CAAC,yBAAyB;AAE3B,SAAS,sBAAsB;;IAC9B,IAAK,QAAQ,CAAC,IAAI,MAAK,cAAQ,CAAC,MAAM,0CAAE,UAAU,GAAG;QACpD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,QAAQ,CAAC,MAAM,CAAE,CAAC;KAC7C,CAAC,QAAQ;IAEV,IAAK,QAAQ,CAAC,IAAI,MAAK,cAAQ,CAAC,OAAO,0CAAE,UAAU,GAAG;QACrD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,QAAQ,CAAC,OAAO,CAAE,CAAC;KAC9C,CAAC,QAAQ;AACX,CAAC,CAAC,8BAA8B;AAEhC,SAAS,oBAAoB;IAC5B,IAAK,CAAE,QAAQ,CAAC,OAAO,IAAI,CAAE,QAAQ,CAAC,MAAM,EAAG;QAC9C,OAAO;KACP,CAAC,QAAQ;IAEV,uDAAe,CAAE,QAAQ,CAAC,OAAO,EAAE,SAAS,CAAE,CAAC;IAC/C,uDAAe,CAAE,QAAQ,CAAC,MAAM,EAAE,SAAS,CAAE,CAAC;IAE9C,IAAK,QAAQ,CAAC,IAAI,KAAK,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAG;QACnD,OAAO;KACP,CAAC,QAAQ;IAEV,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,QAAQ,CAAC,OAAO,CAAE,CAAC;IAC9C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,QAAQ,CAAC,MAAM,CAAE,CAAC;AAC9C,CAAC,CAAC,4BAA4B;AAE9B,SAAS,YAAY;IACpB,QAAQ,CAAC,OAAO,GAAG,4DAAoB,CAAE,KAAK,EAAE,SAAS,CAAE,CAAC;IAC5D,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;IAC3C,QAAQ,CAAC,MAAM,GAAG,4DAAoB,CACrC,QAAQ,EACR,SAAS,CACT,CAAC;AACH,CAAC,CAAC,oBAAoB;AAEtB,SAAS,iBAAiB;IACzB,IAAM,MAAM,GAAG,iDAAS,EAAE,CAAC;IAC3B,mBAAmB,GAAG,gBAAgB,CAAE,MAAM,CAAE,CAAC;AAClD,CAAC,CAAC,yBAAyB;AAE3B,SAAS,qBAAqB,CAC7B,KAAY,EACZ,YAA0B,EAC1B,qBAA8C;IAE9C,IAAI,WAAW,GAAG,KAAK,CAAE,YAAY,CAAE,CAAC;IACxC,IACC,CAAE,MAAM,CAAC,IAAI,CAAE,mBAAmB,CAAE,YAAY,CAAE,IAAI,EAAE,CAAE,CAAC,QAAQ,CAClE,UAAI,WAAW,CAAG,CAClB,EACA;QACD,WAAW,GAAG,OAAO,CAAC;KACtB,CAAC,QAAQ;IAEV,OAAO,CAAE,qBAAqB,CAAC,QAAQ,CAAE,UAAI,WAAW,CAAG,CAAE,CAAC;AAC/D,CAAC,CAAC,6BAA6B;AAExB,SAAS,gBAAgB,CAC/B,MAA8B;IAE9B,IAAM,cAAc,GAA2C;QAC9D,OAAO,EAAE,EAAE;QACX,MAAM,EAAE,EAAE;QACV,EAAE,EAAE,EAAE;QACN,OAAO,EAAE,EAAE;QACX,SAAS,EAAE,EAAE;QACb,SAAS,EAAE,EAAE;QACb,WAAW,EAAE,EAAE;QACf,WAAW,EAAE,EAAE;KACf,CAAC;IAEF,MAAM,CAAC,OAAO,CAAE,UAAE,KAAK;QACtB,cAAc,CAAC,OAAO,CAAE,KAAK,CAAC,OAAO,CAAE;YACtC,CAAE,cAAc,CAAC,OAAO,CAAE,KAAK,CAAC,OAAO,CAAE,IAAI,CAAC,CAAE,GAAG,KAAK,CAAC,SAAS,CAAC;QACpE,cAAc,CAAC,MAAM,CAAE,KAAK,CAAC,MAAM,CAAE;YACpC,CAAE,cAAc,CAAC,MAAM,CAAE,KAAK,CAAC,MAAM,CAAE,IAAI,CAAC,CAAE,GAAG,KAAK,CAAC,SAAS,CAAC;QAClE,cAAc,CAAC,EAAE,CAAE,KAAK,CAAC,EAAE,CAAE;YAC5B,CAAE,cAAc,CAAC,EAAE,CAAE,KAAK,CAAC,EAAE,CAAE,IAAI,CAAC,CAAE,GAAG,KAAK,CAAC,SAAS,CAAC;QAC1D,cAAc,CAAC,OAAO,CAAE,KAAK,CAAC,OAAO,CAAE;YACtC,CAAE,cAAc,CAAC,OAAO,CAAE,KAAK,CAAC,OAAO,CAAE,IAAI,CAAC,CAAE,GAAG,KAAK,CAAC,SAAS,CAAC;QACpE,cAAc,CAAC,SAAS,CAAE,KAAK,CAAC,SAAS,CAAE;YAC1C,CAAE,cAAc,CAAC,SAAS,CAAE,KAAK,CAAC,SAAS,CAAE,IAAI,CAAC,CAAE;gBACpD,KAAK,CAAC,SAAS,CAAC;QACjB,cAAc,CAAC,SAAS,CAAE,KAAK,CAAC,SAAS,CAAE;YAC1C,CAAE,cAAc,CAAC,SAAS,CAAE,KAAK,CAAC,SAAS,CAAE,IAAI,CAAC,CAAE;gBACpD,KAAK,CAAC,SAAS,CAAC;QACjB,cAAc,CAAC,WAAW,CAAE,KAAK,CAAC,WAAW,CAAE;YAC9C,CAAE,cAAc,CAAC,WAAW,CAAE,KAAK,CAAC,WAAW,CAAE,IAAI,CAAC,CAAE;gBACxD,KAAK,CAAC,SAAS,CAAC;QACjB,cAAc,CAAC,WAAW,CAAE,KAAK,CAAC,WAAW,CAAE;YAC9C,CAAE,cAAc,CAAC,WAAW,CAAE,KAAK,CAAC,WAAW,CAAE,IAAI,CAAC,CAAE;gBACxD,KAAK,CAAC,SAAS,CAAC;IAClB,CAAC,CAAE,CAAC;IAEJ,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAE,cAAc,CAAmC,CAAC;IAC5E,OAAO,IAAI,CAAC,MAAM,CACjB,UAAE,IAAI,EAAE,GAAG;;QAAM,8BACb,IAAI,gBACL,GAAG,IAAI,aAAa,CAAE,GAAG,EAAE,cAAc,CAAE,GAAG,CAAE,CAAE,OAClD;IAHc,CAGd,EACH,EAAoD,CACpD,CAAC;AACH,CAAC,CAAC,wBAAwB;AAE1B,SAAS,aAAa,CACrB,MAAoB,EACpB,aAA6B;IAE7B,QAAS,MAAM,EAAG;QACjB,KAAK,SAAS;YACb,OAAO,iCAAiC,CAAE,MAAM,EAAE,aAAa,CAAE,CAAC;QAEnE,KAAK,QAAQ;YACZ,OAAO,iCAAiC,CAAE,MAAM,EAAE,aAAa,CAAE,CAAC;QAEnE,KAAK,IAAI;YACR,OAAO,aAAa,CACnB,iCAAiC,CAAE,MAAM,EAAE,aAAa,CAAE,CAC1D,CAAC;QAEH,KAAK,SAAS,CAAC,CAAC;YACf,OAAO,kBAAkB,CACxB,iCAAiC,CAAE,MAAM,EAAE,aAAa,CAAE,CAC1D,CAAC;SACF;QAED,KAAK,WAAW,CAAC;QACjB,KAAK,WAAW,CAAC;QACjB,KAAK,aAAa,CAAC;QACnB,KAAK,aAAa;YACjB,OAAO,mCAAmC,CAAE,MAAM,EAAE,aAAa,CAAE,CAAC;KACrE,CAAC,YAAY;AACf,CAAC,CAAC,2BAA2B;AAE7B,SAAS,iCAAiC,CACzC,MAAoB,EACpB,aAA6B;IAE7B,IAAM,cAAc,GAAG,+CAAO,CAC7B,MAAM,CAAC,IAAI,CAAE,aAAa,CAAE,CAAC,GAAG,CAAE,UAAE,GAAG,IAAM,QAAE;QAC9C,GAAG;QACH,KAAK,EAAE,aAAa,CAAE,GAAG,CAAE;KAC3B,CAAE,EAH0C,CAG1C,CAAE,EACL,OAAO,EACP,MAAM,CACN,CAAC;IAEF,IAAI,eAAe,GAAG,cAAc,CAAC,MAAM,CAAE,CAAC,EAAE,EAAE,CAAE,CAAC;IACrD,eAAe,GAAG,+CAAO,CAAE,eAAe,EAAE,KAAK,CAAE,CAAC;IAEpD,IAAK,cAAc,CAAC,MAAM,EAAG;QAC5B,eAAe,CAAC,IAAI,CAAE;YACrB,GAAG,EAAE,OAAO;YACZ,KAAK,EAAE,cAAc,CAAC,MAAM,CAC3B,UAAE,KAAK,EAAE,EAAS;oBAAP,KAAK;gBAAQ,YAAK,GAAG,KAAK;YAAb,CAAa,EACrC,CAAC,CACD;SACD,CAAE,CAAC;KACJ,CAAC,QAAQ;IAEV,IAAI,YAAY,GAAG,CAAC,CAAC;IACrB,OAAO,6CAAK,CACX,eAAe,CAAC,GAAG,CAAE,UAAE,EAAc;YAAZ,GAAG,WAAE,KAAK;QAAQ,QAAE;YAC5C,GAAG;YACH,KAAK,EAAE,8BAA8B,CAAE,MAAM,EAAE,GAAG,CAAE;YACpD,KAAK,EAAE,UAAI,KAAK,CAAG;YACnB,KAAK,EACJ,kEAAgB,CAAE,MAAM,EAAE,GAAG,CAAE;gBAC/B,eAAe,CAAE,YAAY,EAAE,CAAE;SAClC,CAAE;IAPwC,CAOxC,CAAE,EACL,KAAK,CACL,CAAC;AACH,CAAC,CAAC,yCAAyC;AAE3C,SAAS,8BAA8B,CACtC,MAAoB,EACpB,eAAuB;IAEvB,IAAK,OAAO,KAAK,eAAe,EAAG;QAClC,OAAO,mDAAE,CAAE,OAAO,EAAE,MAAM,EAAE,kBAAkB,CAAE,CAAC;KACjD,CAAC,QAAQ;IAEV,QAAS,MAAM,EAAG;QACjB,KAAK,QAAQ;YACZ,OAAO,CACN,eAAe,CAAE,CAAC,CAAE,CAAC,WAAW,EAAE,GAAG,eAAe,CAAC,KAAK,CAAE,CAAC,CAAE,CAC/D,CAAC;QAEH,KAAK,SAAS,CAAC;QACf,KAAK,IAAI,CAAC;QACV,KAAK,SAAS,CAAC;QACf;YACC,OAAO,eAAe,CAAC;KACxB,CAAC,YAAY;AACf,CAAC,CAAC,sCAAsC;AAExC,SAAS,mCAAmC,CAC3C,MAAiE,EACjE,aAA6B;IAE7B,IAAM,gBAAgB,GAAG;QACxB,SAAS,EAAE;YACV,EAAE,KAAK,EAAE,mDAAE,CAAE,QAAQ,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACrD,EAAE,KAAK,EAAE,mDAAE,CAAE,QAAQ,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACrD,EAAE,KAAK,EAAE,mDAAE,CAAE,SAAS,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACtD,EAAE,KAAK,EAAE,mDAAE,CAAE,WAAW,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACxD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,QAAQ,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACrD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;SACvD;QACD,SAAS,EAAE;YACV,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,SAAS,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACtD,EAAE,KAAK,EAAE,mDAAE,CAAE,SAAS,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACtD,EAAE,KAAK,EAAE,mDAAE,CAAE,SAAS,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACtD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,WAAW,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACxD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,SAAS,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACtD,EAAE,KAAK,EAAE,mDAAE,CAAE,SAAS,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACtD,EAAE,KAAK,EAAE,mDAAE,CAAE,SAAS,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACtD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,WAAW,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;SACxD;QACD,WAAW,EAAE;YACZ,EAAE,KAAK,EAAE,mDAAE,CAAE,QAAQ,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACrD,EAAE,KAAK,EAAE,mDAAE,CAAE,QAAQ,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACrD,EAAE,KAAK,EAAE,mDAAE,CAAE,QAAQ,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACrD,EAAE,KAAK,EAAE,mDAAE,CAAE,QAAQ,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACrD,EAAE,KAAK,EAAE,mDAAE,CAAE,SAAS,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACtD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,OAAO,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;SACpD;QACD,WAAW,EAAE;YACZ,EAAE,KAAK,EAAE,mDAAE,CAAE,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YACvD,EAAE,KAAK,EAAE,mDAAE,CAAE,aAAa,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YAC1D,EAAE,KAAK,EAAE,mDAAE,CAAE,aAAa,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YAC1D,EAAE,KAAK,EAAE,mDAAE,CAAE,cAAc,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YAC3D,EAAE,KAAK,EAAE,mDAAE,CAAE,eAAe,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YAC5D,EAAE,KAAK,EAAE,mDAAE,CAAE,eAAe,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YAC5D,EAAE,KAAK,EAAE,mDAAE,CAAE,eAAe,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;YAC5D,EAAE,KAAK,EAAE,mDAAE,CAAE,SAAS,EAAE,MAAM,EAAE,kBAAkB,CAAE,EAAE;SACtD;KACD,CAAC;IAEF,IAAM,kBAAkB,GAAG,gBAAgB,CAAE,MAAM,CAAE,CAAC,GAAG,CACxD,UAAE,EAAS,EAAE,KAAK;YAAd,KAAK;QAAe,QAAE;YACzB,GAAG,EAAE,UAAI,KAAK,CAAG;YACjB,KAAK;YACL,KAAK,EAAE,aAAa,CAAE,KAAK,CAAE,IAAI,CAAC;YAClC,KAAK,EAAE,EAAE;SACT,CAAE;IALqB,CAKrB,CACH,CAAC;IAEF,IAAI,YAAY,GAAG,CAAC,CAAC;IACrB,OAAO,6CAAK,CACX,kBAAkB,CAAC,GAAG,CAAE,UAAE,QAAQ,IAAM,8BACpC,QAAQ,KACX,KAAK,EACJ,kEAAgB,CAAE,MAAM,EAAE,QAAQ,CAAC,GAAG,CAAE;YACxC,eAAe,CAAE,YAAY,EAAE,CAAE,IAChC,EALqC,CAKrC,CAAE,EACL,KAAK,CACL,CAAC;AACH,CAAC,CAAC,2CAA2C;AAE7C,SAAS,aAAa,CAAE,OAA+B;IACtD,IAAM,OAAO,GAAmB;QAC/B,YAAY,EAAE,YAAY;QAC1B,eAAe,EAAE,YAAY;QAC7B,WAAW,EAAE,YAAY;QACzB,eAAe,EAAE,YAAY;QAC7B,YAAY,EAAE,YAAY;QAC1B,YAAY,EAAE,YAAY;QAC1B,YAAY,EAAE,YAAY;QAC1B,OAAO,EAAE,YAAY;KACrB,CAAC;IAEF,IAAI,GAAG,GAAG,8CAAM,CAAE,OAAO,CAAE,CAAC,GAAG,CAAE,UAAE,EAAkB;QAAhB,OAAG,WAAK,MAAM,cAAhB,OAAkB,CAAF;QAAQ,4BAC1D,GAAG,SACA,MAAM,KACT,OAAO,EAAE,OAAO,CAAE,GAAG,CAAE,CAAC,CAAC,CAAC,OAAO,CAAE,GAAG,CAAE,CAAC,CAAC,CAAC,GAAG,IAC5C;KAAA,CAAE,CAAC;IACN,GAAG,GAAG,+CAAO,CAAE,GAAG,EAAE,SAAS,CAAE,CAAC;IAEhC,IAAM,aAAa,GAAG,GAAG,CAAC,GAAG,CAAE,UAAE,GAAG,IAAM,QAAE;QAC3C,GAAG,EAAE,GAAG,CAAC,GAAG;QACZ,KAAK,EAAE,GAAG,CAAC,KAAK;QAChB,KAAK,EAAE,GAAG,CAAC,KAAK;QAChB,KAAK,EAAE,GAAG,CAAC,KAAK;KAChB,CAAE,EALuC,CAKvC,CAAE,CAAC;IAEN,OAAO,6CAAK,CAAE,aAAa,EAAE,KAAK,CAAE,CAAC;AACtC,CAAC,CAAC,qBAAqB;AAEvB,SAAS,kBAAkB,CAAE,OAA+B;IAC3D,IAAM,aAAa,GAAG,+CAAO,CAAE,8CAAM,CAAE,OAAO,CAAE,EAAE,KAAK,CAAE,CAAC;IAC1D,OAAO,6CAAK,CAAE,aAAa,EAAE,KAAK,CAAE,CAAC;AACtC,CAAC,CAAC,0BAA0B;AAE5B,SAAS,cAAc,CACtB,YAA0B,EAC1B,qBAA8C;IAE9C,IAAK,CAAE,QAAQ,CAAC,MAAM,EAAG;QACxB,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAE,IAAI,CAAE,CAAC;IAC/C,IAAK,CAAE,GAAG,EAAG;QACZ,OAAO;KACP,CAAC,QAAQ;IAEV,GAAG,CAAC,SAAS,CAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAE,CAAC;IACrE,GAAG,CAAC,SAAS,GAAG,CAAC,CAAC;IAClB,GAAG,CAAC,WAAW,GAAG,MAAM,CAAC;IAEzB,IAAM,MAAM,GAAG,iDAAS,EAAE,CAAC;IAC3B,MAAM;SACJ,MAAM,CAAE,UAAE,CAAC;QACX,4BAAqB,CAAE,CAAC,EAAE,YAAY,EAAE,qBAAqB,CAAE;IAA/D,CAA+D,CAC/D;SACA,OAAO,CAAE,UAAE,CAAC,IAAM,kBAAW,CAAE,GAAG,EAAE,CAAC,EAAE,YAAY,CAAE,EAAnC,CAAmC,CAAE,CAAC;AAC3D,CAAC,CAAC,sBAAsB;AAExB,SAAS,WAAW,CACnB,GAA6B,EAC7B,KAAY,EACZ,YAA0B;;IAE1B,IAAK,CAAE,KAAK,CAAC,eAAe,IAAI,CAAE,KAAK,CAAC,eAAe,CAAC,OAAO,EAAG;QACjE,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,CAAE,YAAK,CAAC,qBAAqB,0CAAE,OAAO,GAAG;QAC7C,OAAO;KACP,CAAC,QAAQ;IAEJ,SAAW,KAAK,CAAC,eAAe,CAAC,OAAO,EAAtC,CAAC,SAAE,CAAC,OAAkC,CAAC;IAC/C,IAAM,OAAO,GAAG,mBAAmB,CAAE,YAAY,CAAE,IAAI,EAAE,CAAC;IAE1D,GAAG,CAAC,SAAS,GAAG,cAAO,CAAE,KAAK,CAAE,YAAY,CAAE,CAAE,0CAAE,KAAK;QACtD,CAAC,CAAC,OAAO,CAAE,KAAK,CAAE,YAAY,CAAE,CAAE,CAAC,KAAK;QACxC,CAAC,CAAC,kEAAgB,CAAE,YAAY,EAAE,OAAO,CAAE,CAAC;IAC7C,GAAG,CAAC,SAAS,EAAE,CAAC;IAChB,GAAG,CAAC,GAAG,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,EAAE,IAAI,CAAE,CAAC;IACzC,GAAG,CAAC,SAAS,EAAE,CAAC;IAChB,GAAG,CAAC,IAAI,EAAE,CAAC;IACX,GAAG,CAAC,MAAM,EAAE,CAAC;AACd,CAAC,CAAC,mBAAmB;;;;;;;;;;;;;;;;;;;ACvcrB;;GAEG;AAIc;AAKA;AACwC;AAGzD,IAAM,eAAe,GAAG,IAAI,CAAC;AAE7B,IAAM,kBAAkB,GAAG,GAAG,CAAC;AAC/B,IAAM,mBAAmB,GAAG,CAAC,CAAC;AAC9B,IAAM,aAAa,GAAG,GAAG,CAAC;AAC1B,IAAM,aAAa,GAAG,CAAC,CAAC;AACxB,IAAM,eAAe,GAAG,aAAa,GAAG,aAAa,CAAC;AAiBtD,IAAM,OAAO,GAAY,EAAE,CAAC;AAC5B,IAAI,eAAe,GAEf,EAAE,CAAC;AAEA,SAAS,qBAAqB,CAAE,MAA0B;IAChE,IAAK,gBAAgB,KAAK,MAAM,CAAC,IAAI,EAAG;QACvC,iBAAiB,CAAE,MAAM,CAAC,KAAK,CAAE,CAAC;QAClC,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,6BAA6B,KAAK,MAAM,CAAC,IAAI,EAAG;QACpD,eAAe,GAAG,EAAE,CAAC;QACrB,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,gBAAgB,KAAK,MAAM,CAAC,IAAI,EAAG;QACvC,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,SAAS,KAAK,MAAM,CAAC,IAAI,EAAG;QAChC,qBAAqB,EAAE,CAAC;QACxB,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,CAAE,MAAM,CAAC,gBAAgB,EAAG;QAChC,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,CAAE,OAAO,CAAC,QAAQ,EAAG;QACzB,gBAAgB,CAAE,MAAM,CAAC,gBAAgB,CAAE,CAAC;KAC5C,CAAC,QAAQ;IAEV,iBAAiB,CAAE,MAAM,CAAC,OAAO,CAAE,CAAC;IACpC,mBAAmB,CAAE,MAAM,CAAC,gBAAgB,CAAE,CAAC;IAC/C,aAAa,CACZ,MAAM,CAAC,gBAAgB,EACvB,MAAM,CAAC,gBAAgB,EACvB,MAAM,CAAC,WAAW,CAClB,CAAC;AACH,CAAC,CAAC,6BAA6B;AAE/B,UAAU;AACV,UAAU;AACV,UAAU;AAEV,SAAS,iBAAiB,CAAE,OAAe;IAC1C,IAAK,CAAE,OAAO,CAAC,OAAO,IAAI,SAAS,KAAK,OAAO,EAAG;QACjD,OAAO;KACP,CAAC,QAAQ;IACV,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,UAAI,OAAO,GAAG,GAAG,CAAG,CAAC;AACtD,CAAC,CAAC,yBAAyB;AAE3B,SAAS,qBAAqB;;IAC7B,IAAK,QAAQ,CAAC,IAAI,MAAK,aAAO,CAAC,MAAM,0CAAE,UAAU,GAAG;QACnD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,OAAO,CAAC,MAAM,CAAE,CAAC;KAC5C,CAAC,QAAQ;IAEV,IAAK,QAAQ,CAAC,IAAI,MAAK,aAAO,CAAC,OAAO,0CAAE,UAAU,GAAG;QACpD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,OAAO,CAAC,OAAO,CAAE,CAAC;KAC7C,CAAC,QAAQ;AACX,CAAC,CAAC,6BAA6B;AAE/B,SAAS,mBAAmB,CAAE,UAA6B;IAC1D,IAAK,CAAE,OAAO,CAAC,MAAM,IAAI,CAAE,OAAO,CAAC,OAAO,EAAG;QAC5C,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,QAAQ,CAAC,IAAI,KAAK,OAAO,CAAC,MAAM,CAAC,UAAU,EAAG;QAClD,eAAe,CAAE,UAAU,CAAE,CAAC;QAC9B,OAAO;KACP,CAAC,QAAQ;IAEV,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,OAAO,CAAC,OAAO,CAAE,CAAC;IAC7C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,OAAO,CAAC,MAAM,CAAE,CAAC;IAC5C,eAAe,CAAE,UAAU,CAAE,CAAC;AAC/B,CAAC,CAAC,2BAA2B;AAE7B,SAAS,eAAe,CAAE,UAA6B;IACtD,IAAK,CAAE,OAAO,CAAC,MAAM,IAAI,CAAE,OAAO,CAAC,QAAQ,IAAI,CAAE,OAAO,CAAC,OAAO,EAAG;QAClE,OAAO;KACP,CAAC,QAAQ;IAEV,uDAAe,CAAE,OAAO,CAAC,OAAO,EAAE,UAAU,CAAE,CAAC;IAE/C,IAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,eAAe,CAAC;IAC1D,IAAM,MAAM,GAAG,yDAAiB,CAAE,UAAU,CAAE,GAAG,eAAe,CAAC;IACjE,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,UAAI,KAAK,OAAK,CAAC;IAC5C,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,UAAI,MAAM,OAAK,CAAC;IAC9C,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAE,KAAK,EAAE,MAAM,CAAE,CAAC;AAC9C,CAAC,CAAC,uBAAuB;AAEzB,SAAS,gBAAgB,CAAE,UAA6B;IACvD,OAAO,CAAC,OAAO,GAAG,4DAAoB,CAAE,KAAK,EAAE,UAAU,CAAE,CAAC;IAC5D,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;IAE1C,OAAO,CAAC,MAAM,GAAG,4DAAoB,CACpC,QAAQ,EACR,UAAU,CACV,CAAC;IACF,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,GAAG,QAAQ,CAAC;IAC7C,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,GAAG,gBAAU,CAAE,CAAC,GAAG,eAAe,CAAE,CAAC,OAAO,CACzE,CAAC,CACD,MAAI,CAAC;IACN,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC;IAE7C,IAAI;QACH,OAAO,CAAC,QAAQ,GAAG,sEAAkB,CAAE;YACtC,MAAM,EAAE,OAAO,CAAC,MAAM;SACtB,CAAkB,CAAC;KACpB;IAAC,OAAQ,CAAC,EAAG;QACb,OAAO,CAAC,KAAK,CAAE,CAAC,CAAE,CAAC,CAAC,sBAAsB;KAC1C,CAAC,QAAQ;AACX,CAAC,CAAC,wBAAwB;AAE1B,SAAS,aAAa,CACrB,gBAAwB,EACxB,gBAAmC,EACnC,WAA8C;IAE9C,IAAK,CAAE,OAAO,CAAC,QAAQ,EAAG;QACzB,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,MAAM,GAAG,6DAAqB,CAAE,gBAAgB,EAAE,WAAW,CAAE,CAAC;IACtE,IAAK,CAAE,eAAe,CAAE,gBAAgB,CAAE,EAAG;QAC5C,kCAAkC,CAAE,MAAM,EAAE,gBAAgB,CAAE,CAAC;KAC/D,CAAC,QAAQ;IAEV,IAAM,GAAG,GAAG,eAAe,CAAE,gBAAgB,CAAE,CAAC;IAChD,IAAK,CAAE,GAAG,EAAG;QACZ,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,iBAAiB,GAAG,GAAG,CAAC,GAAG,CAAC;IAClC,IAAM,SAAS,GAAG,gBAAgB,GAAG,GAAG,CAAC;IAEzC,OAAO,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;IACzB,MAAM,CAAC,OAAO,CAAE,UAAE,KAAK;QACtB,kBAAW,CAAE,KAAK,EAAE,iBAAiB,EAAE,gBAAgB,CAAE;IAAzD,CAAyD,CACzD,CAAC;IACF,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IAC1B,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAE,SAAS,CAAE,CAAC;IACvC,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IAC1B,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;AAC5B,CAAC,CAAC,qBAAqB;AAEvB,SAAS,WAAW,CACnB,KAAY,EACZ,iBAAyB,EACzB,UAA6B;IAE7B,IAAK,CAAE,OAAO,CAAC,QAAQ,EAAG;QACzB,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,CAAE,KAAK,CAAC,qBAAqB,CAAE,UAAU,CAAE,EAAG;QAClD,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,MAAM,GAAG,KAAK,CAAC,eAAe,CAAE,UAAU,CAAE,CAAC;IACnD,IAAK,CAAE,MAAM,EAAG;QACf,OAAO;KACP,CAAC,QAAQ;IAEF,KAAC,GAAQ,MAAM,EAAd,EAAE,CAAC,GAAK,MAAM,EAAX,CAAY;IACxB,IAAM,cAAc,GAAG,iBAAiB,CAAE,KAAK,EAAE,UAAU,CAAE,CAAC;IAC9D,IAAM,yBAAyB,GAC9B,CAAE,cAAc,GAAG,iBAAiB,CAAE,GAAG,eAAe;QACxD,aAAa,CAAC;IACf,IAAM,cAAc,GAAG,yBAAyB,GAAG,cAAc,CAAC;IAElE,IAAM,KAAK,GAAG,QAAQ,CACrB,cAAc,EACd,CAAC,EACD,iBAAiB,EACjB,mBAAmB,EACnB,CAAC,CACD,CAAC;IAEF,OAAO,CAAC,QAAQ,CAAC,QAAQ,CACxB,CAAC,GAAG,eAAe,EACnB,CAAC,GAAG,eAAe,EACnB,KAAK,GAAG,kBAAkB,GAAG,eAAe,EAC5C,cAAc,CACd,CAAC;AACH,CAAC,CAAC,mBAAmB;AAErB,SAAS,QAAQ,CAChB,KAAa,EACb,UAAkB,EAClB,QAAgB,EAChB,WAAmB,EACnB,SAAiB;IAEjB,IAAM,KAAK,GAAG,CAAE,SAAS,GAAG,WAAW,CAAE,GAAG,CAAE,QAAQ,GAAG,UAAU,CAAE,CAAC;IACtE,OAAO,WAAW,GAAG,KAAK,GAAG,CAAE,KAAK,GAAG,UAAU,CAAE,CAAC;AACrD,CAAC,CAAC,gBAAgB;AAElB,SAAS,iBAAiB,CAAE,KAAY,EAAE,UAA6B;IACtE,IAAM,GAAG,GAAG,eAAe,CAAE,UAAU,CAAE,CAAC;IAC1C,IAAM,MAAM,GAAG,KAAK,CAAC,eAAe,CAAE,UAAU,CAAE,CAAC;IACnD,IAAK,CAAE,GAAG,IAAI,CAAE,MAAM,EAAG;QACxB,OAAO,CAAC,CAAC;KACT,CAAC,QAAQ;IAEF,KAAC,GAAQ,MAAM,EAAd,EAAE,CAAC,GAAK,MAAM,EAAX,CAAY;IAChB,WAAO,GAAW,GAAG,QAAd,EAAE,IAAI,GAAK,GAAG,KAAR,CAAS;IAC9B,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAE,CAAC,GAAG,kBAAkB,CAAE,CAAC;IACjD,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAE,CAAC,GAAG,kBAAkB,CAAE,CAAC;IAEjD,IAAM,KAAK,GAAG,GAAG,GAAG,OAAO,GAAG,GAAG,CAAC;IAClC,IAAK,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,KAAK,EAAG;QACxC,OAAO,CAAC,CAAC;KACT,CAAC,QAAQ;IAEV,OAAO,GAAG,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;AAC1B,CAAC,CAAC,uBAAuB;AAEzB,SAAS,kCAAkC,CAC1C,MAA8B,EAC9B,UAA6B;IAE7B,IAAK,CAAE,sFAA8C,CAAE,UAAU,CAAE,EAAG;QACrE,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,eAAe,CAAE,UAAU,CAAE,EAAG;QACpC,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;IACxC,IAAM,MAAM,GAAG,yDAAiB,CAAE,UAAU,CAAE,CAAC;IAE/C,IAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAE,KAAK,GAAG,kBAAkB,CAAE,CAAC;IAC5D,IAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAE,MAAM,GAAG,kBAAkB,CAAE,CAAC;IAE7D,IAAM,IAAI,GAAG,IAAI,KAAK,CAAE,WAAW,GAAG,WAAW,CAAE,CAAC,IAAI,CAAE,CAAC,CAAE,CAAC;IAC9D,MAAM,CAAC,OAAO,CAAE,UAAE,KAAK;QACtB,IAAK,CAAE,KAAK,CAAC,qBAAqB,CAAE,UAAU,CAAE,EAAG;YAClD,OAAO;SACP,CAAC,QAAQ;QAEV,IAAM,MAAM,GAAG,KAAK,CAAC,eAAe,CAAE,UAAU,CAAE,CAAC;QACnD,IAAK,CAAE,MAAM,EAAG;YACf,OAAO;SACP,CAAC,QAAQ;QAEF,KAAC,GAAQ,MAAM,EAAd,EAAE,CAAC,GAAK,MAAM,EAAX,CAAY;QACxB,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAE,CAAC,GAAG,kBAAkB,CAAE,CAAC;QACjD,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAE,CAAC,GAAG,kBAAkB,CAAE,CAAC;QAEjD,IAAM,KAAK,GAAG,GAAG,GAAG,WAAW,GAAG,GAAG,CAAC;QACtC,IAAK,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,KAAK,EAAG;YACxC,OAAO;SACP,CAAC,QAAQ;QACV,IAAI,CAAE,KAAK,CAAE,IAAI,KAAK,CAAC,SAAS,CAAC;IAClC,CAAC,CAAE,CAAC;IAEJ,eAAe,CAAE,UAAU,CAAE,GAAG;QAC/B,OAAO,EAAE,WAAW;QACpB,IAAI;QACJ,MAAM;QACN,GAAG,EAAE,IAAI,CAAC,GAAG,CACZ,CAAC,EACD,IAAI,CAAC,MAAM,CAAE,UAAE,GAAG,EAAE,KAAK,IAAM,WAAI,CAAC,GAAG,CAAE,GAAG,EAAE,KAAK,IAAI,CAAC,CAAE,EAA3B,CAA2B,CAAE,CAC5D;QACD,IAAI,EAAE,WAAW;QACjB,KAAK;KACL,CAAC;AACH,CAAC,CAAC,0CAA0C;;;;;;;;;;;;;;;;;;ACpT5C;;GAEG;AAKc;AAC2B;AAI5C,mCAAmC;AACnC,IAAM,QAAQ,GAAG,UAAU,CAAC;AAE5B,IAAM,gCAAgC,GAAG,GAAG,CAAC;AAsB7C,IAAM,cAAc,GAAmB;IACtC,QAAQ,EAAE,KAAK;CACf,CAAC;AAEF,IAAM,wBAAwB,GAAyC;IACtE,OAAO,EAAE,KAAK;IACd,UAAU,EAAE,KAAK;IACjB,MAAM,EAAE,KAAK;CACb,CAAC;AAEK,SAAS,qBAAqB,CACpC,MAA0B,EAC1B,QAAkB;IAElB,QAAS,MAAM,CAAC,IAAI,EAAG;QACtB,KAAK,eAAe;YACnB,YAAY,CAAE,MAAM,CAAC,gBAAgB,EAAE,QAAQ,CAAE,CAAC;YAClD,MAAM;QAEP,KAAK,wBAAwB;YAC5B,mBAAmB,CAAE,QAAQ,CAAE,CAAC;YAChC,MAAM;QAEP,KAAK,0CAA0C;YAC9C,+BAA+B,CAC9B,MAAM,CAAC,gBAAgB,EACvB,QAAQ,CACR,CAAC;YACF,MAAM;QAEP,KAAK,0BAA0B;YAC9B,mCAAmC,CAClC,MAAM,CAAC,gBAAgB,EACvB,QAAQ,CACR,CAAC;YACF,MAAM;QAEP,KAAK,aAAa;YACjB,iBAAiB,CAAE,MAAM,CAAC,gBAAgB,EAAE,QAAQ,CAAE,CAAC;YACvD,MAAM;QAEP,KAAK,2BAA2B;YAC/B,mCAAmC,CAClC,MAAM,CAAC,gBAAgB,EACvB,QAAQ,CACR,CAAC;YACF,MAAM;QAEP,KAAK,6BAA6B;YACjC,qCAAqC,CACpC,MAAM,CAAC,gBAAgB,EACvB,QAAQ,CACR,CAAC;YACF,MAAM;KACP,CAAC,YAAY;AACf,CAAC,CAAC,6BAA6B;AAE/B,SAAS,YAAY,CACpB,gBAAmC,EACnC,QAAkB;IAElB,IACC,uBAAuB;QACvB,wBAAwB,CAAE,gBAAgB,CAAE,EAC3C;QACD,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,6BAA6B,EAC7B,yDAAiB,CAAE,gBAAgB,CAAE,CACrC,CAAC;QACF,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,aAAa,CACb,CAAC;QACF,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,cAAc,CAAE,gBAAgB,CAAE,EAAG;QACzC,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,wBAAwB,CACxB,CAAC;QACF,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,CAAE,cAAc,CAAC,QAAQ,EAAG;QAChC,IAAM,aAAW,GAAG,KAAK,CAAC,IAAI,CAC7B,QAAQ,CAAC,gBAAgB,CACxB,8CAA8C,CAC9C,CACD,CAAC;QACF,IAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAC1B,QAAQ,CAAC,gBAAgB,CAAiB,GAAG,CAAE,CAC/C,CAAC,MAAM,CAAE,UAAE,EAAE,IAAM,QAAE,aAAW,CAAC,QAAQ,CAAE,EAAE,CAAE,EAA5B,CAA4B,CAAE,CAAC;QAEnD,cAAc,CAAC,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAE,UAAE,EAAE,IAAM,QAAE;YACnD,EAAE;YACF,SAAS,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM;YAC1B,YAAY,EAAE,EAAE,CAAC,KAAK,CAAC,SAAS;SAChC,CAAE,EAJ+C,CAI/C,CAAE,CAAC;KACN,CAAC,QAAQ;IAEV,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAE,UAAE,EAA+B;YAA7B,EAAE,UAAE,SAAS,iBAAE,YAAY;QAC/D,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;QAC5B,EAAE,CAAC,KAAK,CAAC,SAAS,GAAG,YAAY,CAAC;IACnC,CAAC,CAAE,CAAC;IAEJ,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,wBAAwB,CACxB,CAAC;AACH,CAAC,CAAC,oBAAoB;AAEtB,IAAI,uBAAuB,GAAG,KAAK,CAAC;AACpC,SAAS,mBAAmB,CAAE,QAAkB;IAC/C,IAAK,uBAAuB,EAAG;QAC9B,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,0CAA0C,CAC1C,CAAC;QACF,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CACxB,QAAQ,CAAC,gBAAgB,CAAiB,eAAe,CAAE,CAC3D,CAAC,OAAO,EAAE,CAAC;IACZ,MAAM,CAAC,OAAO,CAAE,UAAE,GAAG;QACpB,IAAM,GAAG,GAAG,GAAG,CAAC,YAAY,CAAE,UAAU,CAAE,CAAC;QAC3C,IAAK,GAAG,EAAG;YACV,GAAG,CAAC,YAAY,CAAE,KAAK,EAAE,GAAG,CAAE,CAAC;SAC/B,CAAC,QAAQ;IACX,CAAC,CAAE,CAAC;IAEJ,IAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACtC,UAAU,CAAE;QACX,uBAAuB,GAAG,IAAI,CAAC;QAC/B,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,0CAA0C,CAC1C,CAAC;IACH,CAAC,EAAE,KAAK,CAAE,CAAC;AACZ,CAAC,CAAC,2BAA2B;AAE7B,SAAS,+BAA+B,CACvC,gBAAmC,EACnC,QAAkB;IAElB,IAAK,cAAc,CAAE,gBAAgB,CAAE,EAAG;QACzC,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,0BAA0B,CAC1B,CAAC;QACF,OAAO;KACP,CAAC,QAAQ;IAEV,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,6BAA6B,EAC7B,MAAM,CAAC,WAAW,GAAG,EAAE,CACvB,CAAC;IAEF,UAAU,CAAE;QACX,IAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAC7B,QAAQ,CAAC,gBAAgB,CACxB,8CAA8C,CAC9C,CACD,CAAC;QACF,IAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAC1B,QAAQ,CAAC,gBAAgB,CAAiB,GAAG,CAAE,CAC/C,CAAC,MAAM,CAAE,UAAE,EAAE,IAAM,QAAE,WAAW,CAAC,QAAQ,CAAE,EAAE,CAAE,EAA5B,CAA4B,CAAE,CAAC;QAEnD,cAAc,CAAE,gBAAgB,CAAE,GAAG,QAAQ,CAAC,GAAG,CAAE,UAAE,EAAE,IAAM,QAAE;YAC9D,EAAE;YACF,YAAY,EAAE,MAAM,CAAC,gBAAgB,CAAE,EAAE,CAAE,CAAC,MAAM;YAClD,KAAK,EAAE;gBACN,MAAM,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM;gBACvB,SAAS,EAAE,EAAE,CAAC,KAAK,CAAC,SAAS;aAC7B;SACD,CAAE,EAP0D,CAO1D,CAAE,CAAC;QAEN,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,0BAA0B,CAC1B,CAAC;IACH,CAAC,EAAE,gCAAgC,CAAE,CAAC;AACvC,CAAC,CAAC,uCAAuC;AAEzC,SAAS,mCAAmC,CAC3C,gBAAmC,EACnC,QAAkB;IAElB,IAAK,wBAAwB,CAAE,gBAAgB,CAAE,EAAG;QACnD,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,6BAA6B,EAC7B,yDAAiB,CAAE,gBAAgB,CAAE,CACrC,CAAC;QACF,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,aAAa,CACb,CAAC;QACF,OAAO;KACP,CAAC,QAAQ;IAEV,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,6BAA6B,EAC7B,MAAM,CAAC,WAAW,GAAG,EAAE,CACvB,CAAC;IAEF,UAAU,CAAE;;QACX,oBAAc,CAAE,gBAAgB,CAAE,0CAAE,OAAO,CAAE,UAAE,IAAI;YAClD,IAAM,YAAY,GAAG,MAAM,CAAC,gBAAgB,CAAE,IAAI,CAAC,EAAE,CAAE,CAAC,MAAM,CAAC;YAC/D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,KAAK,YAAY,CAAC;YAC1D,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC;YACzC,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC;QAChD,CAAC,CAAE,CAAC;QAEJ,wBAAwB,CAAE,gBAAgB,CAAE,GAAG,IAAI,CAAC;QACpD,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,6BAA6B,EAC7B,yDAAiB,CAAE,gBAAgB,CAAE,CACrC,CAAC;QACF,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,aAAa,CACb,CAAC;IACH,CAAC,EAAE,gCAAgC,CAAE,CAAC;AACvC,CAAC,CAAC,2CAA2C;AAE7C,SAAS,iBAAiB,CACzB,gBAAmC,EACnC,QAAkB;;IAElB,oBAAc,CAAE,gBAAgB,CAAE,0CAAE,OAAO,CAAE,UAAE,IAAI;QAC1C,MAAE,GAAoC,IAAI,GAAxC,EAAE,YAAY,GAAsB,IAAI,aAA1B,EAAE,eAAe,GAAK,IAAI,gBAAT,CAAU;QAEnD,wDAAwD;QACxD,IAAK,MAAM,KAAK,EAAE,CAAC,OAAO,CAAC,gBAAgB,EAAG;YAC7C,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;YACrB,EAAE,CAAC,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;SACxB,CAAC,QAAQ;QAEV,IAAK,CAAE,eAAe,EAAG;YACxB,OAAO;SACP,CAAC,QAAQ;QAEV,EAAE,CAAC,OAAO,CAAC,gBAAgB,GAAG,MAAM,CAAC;QACrC,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,YAAY,CAAC;QAC/B,EAAE,CAAC,KAAK,CAAC,SAAS,GAAG,YAAY,CAAC;IACnC,CAAC,CAAE,CAAC;IAEJ,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,6BAA6B,EAC7B,yDAAiB,CAAE,gBAAgB,CAAE,CACrC,CAAC;IACF,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,2BAA2B,CAC3B,CAAC;AACH,CAAC,CAAC,yBAAyB;AAE3B,SAAS,mCAAmC,CAC3C,gBAAgB,EAChB,QAAkB;IAElB,IAAK,sFAA8C,CAAE,gBAAgB,CAAE,EAAG;QACzE,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,MAAM,CACN,CAAC;QACF,OAAO;KACP,CAAC,QAAQ;IAEV,UAAU,CAAE;QACX,2EAAqC,CAAE,gBAAgB,CAAE,CAAC;QAC1D,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,6BAA6B,EAC7B,yDAAiB,CAAE,gBAAgB,CAAE,CACrC,CAAC;QACF,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,MAAM,CACN,CAAC;IACH,CAAC,EAAE,gCAAgC,CAAE,CAAC;AACvC,CAAC,CAAC,2CAA2C;AAE7C,SAAS,qCAAqC,CAC7C,gBAAgB,EAChB,QAAkB;IAElB,6EAAuC,CAAE,gBAAgB,CAAE,CAAC;IAC5D,QAAQ,CAAE,QAAQ,CAAE,CAAC,gBAAgB,CACpC,8BAA8B,EAC9B,MAAM,CACN,CAAC;AACH,CAAC,CAAC,6CAA6C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/U/C;;GAEG;AACkC;AAErC;;GAEG;AAC2C;AAQ9C;;GAEG;AACkC;AAMpB;AAoBjB,IAAM,SAAS,GAAc;IAC5B,gBAAgB,EAAE,SAAS;IAC3B,IAAI,EAAE,EAAE;IACR,MAAM,EAAE,EAAE;CACV,CAAC;AAEF,IAAM,UAAU,GAAG,EAAE,CAAC;AACtB,IAAM,MAAM,GAAG;IACd,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;CACT,CAAC;AAEK,SAAS,qBAAqB,CAAE,MAA0B;IAChE,IAAK,gBAAgB,KAAK,MAAM,CAAC,IAAI,EAAG;QACvC,iBAAiB,CAAE,MAAM,CAAC,KAAK,CAAE,CAAC;QAClC,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,gBAAgB,KAAK,MAAM,CAAC,IAAI,EAAG;QACvC,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,WAAW,KAAK,MAAM,CAAC,IAAI,EAAG;QAClC,uBAAuB,EAAE,CAAC;QAC1B,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,CAAE,MAAM,CAAC,gBAAgB,EAAG;QAChC,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,CAAE,SAAS,CAAC,OAAO,EAAG;QAC1B,SAAS,CAAC,OAAO,GAAG,kDAAU,EAAE,CAAC;KACjC,CAAC,QAAQ;IAEV,IAAK,CAAE,SAAS,CAAC,MAAM,EAAG;QACzB,aAAa,CAAE,MAAM,CAAC,gBAAgB,CAAE,CAAC;KACzC,CAAC,QAAQ;IAEV,SAAS,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;IAErD,iBAAiB,CAAE,MAAM,CAAC,OAAO,CAAE,CAAC;IACpC,qBAAqB,CAAE,MAAM,CAAC,gBAAgB,CAAE,CAAC;IACjD,eAAe,CAAE,MAAM,CAAC,gBAAgB,EAAE,MAAM,CAAC,WAAW,CAAE,CAAC;AAChE,CAAC,CAAC,6BAA6B;AAE/B,SAAS,iBAAiB,CAAE,OAAe;IAC1C,IAAK,CAAE,SAAS,CAAC,MAAM,IAAI,SAAS,KAAK,OAAO,EAAG;QAClD,OAAO;KACP,CAAC,QAAQ;IACV,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,UAAI,OAAO,GAAG,GAAG,CAAG,CAAC;AACvD,CAAC,CAAC,yBAAyB;AAE3B,SAAS,uBAAuB;;IAC/B,IAAK,QAAQ,CAAC,IAAI,MAAK,eAAS,CAAC,MAAM,0CAAE,UAAU,GAAG;QACrD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,SAAS,CAAC,MAAM,CAAE,CAAC;KAC9C,CAAC,QAAQ;IAEV,IAAK,QAAQ,CAAC,IAAI,MAAK,eAAS,CAAC,KAAK,0CAAE,UAAU,GAAG;QACpD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,SAAS,CAAC,KAAK,CAAE,CAAC;KAC7C,CAAC,QAAQ;IAEV,IAAK,QAAQ,CAAC,IAAI,MAAK,eAAS,CAAC,WAAW,0CAAE,UAAU,GAAG;QAC1D,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,SAAS,CAAC,WAAW,CAAE,CAAC;KACnD,CAAC,QAAQ;IAEV,IAAK,QAAQ,CAAC,IAAI,MAAK,eAAS,CAAC,YAAY,0CAAE,UAAU,GAAG;QAC3D,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,SAAS,CAAC,YAAY,CAAE,CAAC;KACpD,CAAC,QAAQ;AACX,CAAC,CAAC,+BAA+B;AAEjC,SAAS,qBAAqB,CAAE,UAA6B;IAC5D,IACC,CAAE,SAAS,CAAC,WAAW;QACvB,CAAE,SAAS,CAAC,KAAK;QACjB,CAAE,SAAS,CAAC,MAAM;QAClB,CAAE,SAAS,CAAC,YAAY,EACvB;QACD,OAAO;KACP,CAAC,QAAQ;IAEV,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,GAAG,UAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,OAAK,CAAC;IACvE,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,UAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,OAAK,CAAC;IACjE,uDAAe,CAAE,SAAS,CAAC,MAAM,EAAE,UAAU,CAAE,CAAC;IAChD,uDAAe,CAAE,SAAS,CAAC,YAAY,EAAE,UAAU,CAAE,CAAC;IAEtD,IAAK,QAAQ,CAAC,IAAI,KAAK,SAAS,CAAC,MAAM,CAAC,UAAU,EAAG;QACpD,OAAO;KACP,CAAC,QAAQ;IAEV,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,SAAS,CAAC,MAAM,CAAE,CAAC;IAC9C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,SAAS,CAAC,WAAW,CAAE,CAAC;IACnD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,SAAS,CAAC,KAAK,CAAE,CAAC;IAC7C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,SAAS,CAAC,YAAY,CAAE,CAAC;AACrD,CAAC,CAAC,6BAA6B;AAE/B,SAAS,aAAa,CAAE,UAAU;IACjC,UAAU;IACV,SAAS,CAAC,MAAM,GAAG,4DAAoB,CACtC,QAAQ,EACR,UAAU,CACV,CAAC;IACF,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IAExC,gBAAgB;IAChB,SAAS,CAAC,WAAW,GAAG,4DAAoB,CAAE,KAAK,EAAE,UAAU,CAAE,CAAC;IAClE,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IAC7C,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;IAC5C,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,GAAG,oBAAoB,CAAC;IAChE,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;IAEjD,IAAM,oBAAoB,GAAG,aAAa,CAAE,MAAM,EAAE;QACnD,KAAK,EAAE;YACN,QAAQ,EAAE,MAAM;YAChB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,KAAK;YACnB,UAAU,EAAE,KAAK;YACjB,UAAU,EACT,qHAAqH;YACtH,UAAU,EAAE,SAAS;YACrB,aAAa,EAAE,MAAM;YACrB,KAAK,EAAE,MAAM;YACb,OAAO,EAAE,cAAc;YACvB,SAAS,EAAE,uBAAuB;YAClC,QAAQ,EAAE,UAAU;YACpB,UAAU,EAAE,QAAQ;SACpB;KACD,CAAE,CAAC;IAEJ,SAAS,CAAC,WAAW,CAAC,WAAW,CAAE,oBAAoB,CAAE,CAAC;IAC1D,IAAM,aAAa,GAAG,aAAa,CAAE,MAAM,EAAE;QAC5C,SAAS,EAAE,gBAAgB;QAC3B,KAAK,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE;KAC3B,CAAE,CAAC;IACJ,IAAM,iBAAiB,GAAG,aAAa,CAAE,MAAM,EAAE;QAChD,SAAS,EAAE,yCAAyC;QACpD,KAAK,EAAE;YACN,aAAa,EAAE,UAAU;YACzB,WAAW,EAAE,KAAK;SAClB;KACD,CAAE,CAAC;IACJ,IAAM,cAAc,GAAG,QAAQ,CAAC,cAAc,CAC7C,mDAAE,CAAE,eAAe,EAAE,MAAM,EAAE,kBAAkB,CAAE,GAAG,GAAG,CACvD,CAAC;IACF,IAAM,cAAc,GAAG,aAAa,CAAE,QAAQ,EAAE;QAC/C,EAAE,EAAE,kBAAkB;KACtB,CAAE,CAAC;IACJ,oBAAoB,CAAC,WAAW,CAAE,aAAa,CAAE,CAAC;IAClD,aAAa,CAAC,WAAW,CAAE,iBAAiB,CAAE,CAAC;IAC/C,aAAa,CAAC,WAAW,CAAE,cAAc,CAAE,CAAC;IAC5C,aAAa,CAAC,WAAW,CAAE,cAAc,CAAE,CAAC;IAE5C,SAAS;IACT,SAAS,CAAC,KAAK,GAAG,4DAAoB,CAAE,KAAK,EAAE,UAAU,CAAE,CAAC;IAC5D,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;IACtC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,YAAY,GAAG,oBAAoB,CAAC;IAC1D,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;IACpC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,GAAG,2BAA2B,CAAC;IAE/D,IAAM,oBAAoB,GAAG,aAAa,CAAE,MAAM,EAAE;QACnD,KAAK,EAAE;YACN,QAAQ,EAAE,MAAM;YAChB,IAAI,EAAE,KAAK;YACX,YAAY,EAAE,KAAK;YACnB,UAAU,EAAE,KAAK;YACjB,UAAU,EACT,qHAAqH;YACtH,UAAU,EAAE,SAAS;YACrB,aAAa,EAAE,MAAM;YACrB,KAAK,EAAE,MAAM;YACb,OAAO,EAAE,cAAc;YACvB,QAAQ,EAAE,UAAU;YACpB,SAAS,EAAE,oBAAoB;YAC/B,UAAU,EAAE,QAAQ;SACpB;KACD,CAAE,CAAC;IAEJ,IAAM,eAAe,GAAG,aAAa,CAAE,MAAM,EAAE;QAC9C,SAAS,EAAE,gBAAgB;QAC3B,KAAK,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE;KAC3B,CAAE,CAAC;IACJ,IAAM,oBAAoB,GAAG,QAAQ,CAAC,cAAc,CACnD,mDAAE,CAAE,aAAa,EAAE,MAAM,EAAE,kBAAkB,CAAE,GAAG,GAAG,CACrD,CAAC;IACF,IAAM,oBAAoB,GAAG,aAAa,CAAE,QAAQ,EAAE;QACrD,EAAE,EAAE,gBAAgB;KACpB,CAAE,CAAC;IACJ,oBAAoB,CAAC,WAAW,CAAE,eAAe,CAAE,CAAC;IACpD,eAAe,CAAC,WAAW,CAAE,oBAAoB,CAAE,CAAC;IACpD,eAAe,CAAC,WAAW,CAAE,oBAAoB,CAAE,CAAC;IAEpD,iBAAiB;IACjB,SAAS,CAAC,YAAY,GAAG,4DAAoB,CAAE,KAAK,EAAE,UAAU,CAAE,CAAC;IAEnE,mBAAmB;IACnB,SAAS,CAAC,KAAK,CAAC,WAAW,CAAE,oBAAoB,CAAE,CAAC;IAEpD,SAAS,CAAC,YAAY,CAAC,gBAAgB,CAAE,YAAY,EAAE;QACtD,IAAK,SAAS,CAAC,KAAK,EAAG;YACtB,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;SACpC,CAAC,QAAQ;IACX,CAAC,CAAE,CAAC;IAEJ,SAAS,CAAC,YAAY,CAAC,gBAAgB,CAAE,YAAY,EAAE;QACtD,IAAK,SAAS,CAAC,KAAK,EAAG;YACtB,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;SACpC,CAAC,QAAQ;IACX,CAAC,CAAE,CAAC;IAEJ,SAAS,CAAC,YAAY,CAAC,gBAAgB,CAAE,WAAW,EAAE,UAAE,KAAK;QAC5D,IAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAE,SAAS,CAAC,gBAAgB,CAAE,CAAC;QAC1D,IAAK,CAAE,IAAI,EAAG;YACb,OAAO;SACP,CAAC,QAAQ;QAEF,QAAI,GAAc,IAAI,KAAlB,EAAE,OAAO,GAAK,IAAI,QAAT,CAAU;QAC/B,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAE,KAAK,CAAC,CAAC,GAAG,UAAU,CAAE,CAAC;QACpD,IAAM,SAAS,GAAG,IAAI,CAAE,QAAQ,CAAE,CAAC;QACnC,IAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAE,CAAE,GAAG,GAAG,SAAS,CAAE,GAAG,OAAO,CAAE,IAAI,CAAC,CAAC;QAEpE,IAAM,YAAY,GAAG,QAAQ,CAAC,cAAc,CAAE,gBAAgB,CAAE,CAAC;QACjE,IAAK,CAAE,YAAY,IAAI,CAAE,SAAS,CAAC,KAAK,EAAG;YAC1C,OAAO;SACP,CAAC,QAAQ;QAEV,YAAY,CAAC,WAAW,GAAG,UAAI,UAAU,CAAC,cAAc,EAAE,MAAI,CAAC;QAC/D,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,UAAI,IAAI,CAAC,GAAG,CAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAE,OAAK,CAAC;IAC7D,CAAC,CAAE,CAAC;AACL,CAAC,CAAC,qBAAqB;AAEvB,SAAS,eAAe,CACvB,gBAAmC,EACnC,WAA8C;IAE9C,IAAK,CAAE,SAAS,CAAC,MAAM,CAAE,gBAAgB,CAAE,EAAG;QAC7C,sBAAsB,CAAE,gBAAgB,EAAE,WAAW,CAAE,CAAC;KACxD,CAAC,QAAQ;IAEV,IAAK,CAAE,SAAS,CAAC,MAAM,EAAG;QACzB,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,KAAK,GAAG,SAAS,CAAC,MAAM,CAAE,gBAAgB,CAAE,CAAC;IACnD,IAAM,GAAG,GAAG,SAAS,CAAC,MAAM,CAAC,UAAU,CAAE,IAAI,CAAE,CAAC;IAChD,IAAK,KAAK,IAAI,GAAG,EAAG;QACnB,SAAS,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;QACrC,SAAS,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QACvC,GAAG,CAAC,SAAS,CAAE,CAAC,EAAE,CAAC,EAAE,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,SAAS,CAAC,MAAM,CAAC,MAAM,CAAE,CAAC;QACvE,GAAG,CAAC,SAAS,CAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAE,CAAC;KAC7B,CAAC,QAAQ;IAEV,iBAAiB,CAAE,gBAAgB,EAAE,WAAW,CAAE,CAAC;AACpD,CAAC,CAAC,uBAAuB;AAEzB,SAAS,iBAAiB,CACzB,gBAAmC,EACnC,WAA8C;IAE9C,IAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAE,kBAAkB,CAAE,CAAC;IAChE,IAAK,CAAE,SAAS,IAAI,CAAE,SAAS,CAAC,WAAW,EAAG;QAC7C,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,iBAAiB,GAAG,WAAW,CAAE,gBAAgB,CAAE,CAAC,MAAM,CAAC;IACzD,eAAW,GAAK,UAAS,CAAC,IAAI,CAAE,gBAAgB,CAAE,IAAI,EAAE,aAA7C,CAA8C;IACjE,IAAK,WAAW,EAAG;QAClB,SAAS,CAAC,WAAW,GAAG,UAAI,WAAW,CAAC,cAAc,EAAE,OAAK,CAAC;QAC9D,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,GAAG,UAAI,iBAAiB,OAAK,CAAC;QAC7D,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;KAC9C;SAAM;QACN,SAAS,CAAC,WAAW,GAAG,QAAG,CAAC;QAC5B,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;KAC7C,CAAC,QAAQ;AACX,CAAC,CAAC,yBAAyB;AAE3B,SAAS,sBAAsB,CAC9B,gBAAmC,EACnC,WAA8C;IAE9C,IAAK,CAAE,SAAS,CAAC,IAAI,CAAE,gBAAgB,CAAE,EAAG;QAC3C,qCAAqC,CAAE,gBAAgB,EAAE,WAAW,CAAE,CAAC;KACvE,CAAC,QAAQ;IAEV,IAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAE,gBAAgB,CAAE,CAAC;IAChD,IAAK,CAAE,IAAI,EAAG;QACb,OAAO;KACP,CAAC,QAAQ;IAEF,QAAI,GAAc,IAAI,KAAlB,EAAE,OAAO,GAAK,IAAI,QAAT,CAAU;IAC/B,IAAM,YAAY,GAAG,aAAa,CAAuB,QAAQ,CAAE,CAAC;IACpE,YAAY,CAAC,KAAK,GAAG,CAAC,CAAC;IACvB,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IAClC,IAAM,SAAS,GAAG,YAAY,CAAC,UAAU,CAAE,IAAI,CAAE,CAAC;IAElD,IAAM,YAAY,GAAG,IAAI,CAAC,GAAG,CAAE,UAAE,IAAI;QACpC,WAAI,CAAC,KAAK,CAAE,CAAE,IAAI,GAAG,OAAO,CAAE,GAAG,CAAE,MAAM,CAAC,MAAM,GAAG,CAAC,CAAE,CAAE;IAAxD,CAAwD,CACxD,CAAC;IACF,0BAA0B,CAAE,YAAY,CAAE,CAAC,OAAO,CACjD,UAAE,UAAU,EAAE,SAAS;QACtB,IAAK,CAAE,SAAS,IAAI,CAAE,SAAS,CAAC,MAAM,EAAG;YACxC,OAAO;SACP,CAAC,QAAQ;QACV,SAAS,CAAC,SAAS,GAAG,MAAM,CAAE,UAAU,CAAE,CAAC;QAC3C,SAAS,CAAC,QAAQ,CAAE,CAAC,EAAE,SAAS,EAAE,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAE,CAAC;IAC/D,CAAC,CACD,CAAC;IAEF,uDAAmB,CAClB,YAAY,EACZ,CAAC,EACD,CAAC,EACD,YAAY,CAAC,KAAK,EAClB,YAAY,CAAC,MAAM,EACnB,GAAG,GAAG,UAAU,CAChB,CAAC;IACF,SAAS,CAAC,MAAM,CAAE,gBAAgB,CAAE,GAAG,YAAY,CAAC;AACrD,CAAC,CAAC,8BAA8B;AAEhC,SAAS,qCAAqC,CAC7C,gBAAmC,EACnC,WAA8C;;IAE9C,IAAM,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;IACrD,IAAM,YAAY,GAAG,yDAAiB,CAAE,gBAAgB,CAAE,CAAC;IAC3D,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAE,YAAY,GAAG,UAAU,CAAE,CAAC;IACzD,IAAM,IAAI,GAAG,IAAI,KAAK,CAAE,SAAS,CAAE,CAAC,IAAI,CAAE,CAAC,CAAE,CAAC;IAE9C,IAAI,aAAa,GAAG,CAAC,CAAC;IAEtB,IAAM,mBAAmB,GAAG,sBAAsB,CACjD,eAAS,CAAC,OAAO,mCAAI,EAAE,EACvB,gBAAgB,EAChB,WAAW,CACX,CAAC;IAEF,mBAAmB,CAAC,OAAO,CAC1B,UAAE,EAAmD;YAAjD,SAAS,iBAAE,SAAS,iBAAE,SAAS,iBAAE,cAAc;QAClD,iCAAiC;QACjC,aAAa,IAAI,SAAS,CAAC;QAE3B,SAAS,GAAG,IAAI,CAAC,KAAK,CACrB,CAAE,SAAS,GAAG,cAAc,CAAE,GAAG,UAAU,CAC3C,CAAC;QACF,SAAS,GAAG,IAAI,CAAC,KAAK,CACrB,CAAE,SAAS,GAAG,cAAc,CAAE,GAAG,UAAU,CAC3C,CAAC;QAEF,IAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAE,SAAS,GAAG,UAAU,CAAE,CAAC;QAEzD,+BAA+B;QAC/B,IAAM,aAAa,GAAG,IAAI,CAAC,GAAG,CAAE,YAAY,EAAE,SAAS,GAAG,CAAC,CAAE,CAAC;QAC9D,KAAM,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,aAAa,EAAE,EAAE,CAAC,EAAG;YAC1C,IAAI,CAAE,CAAC,CAAE,GAAG,EAAE,IAAI,CAAE,CAAC,CAAE,IAAI,CAAC,CAAC;SAC7B,CAAC,SAAS;QAEX,2BAA2B;QAC3B,IAAM,eAAe,GAAG,IAAI,CAAC,KAAK,CACjC,CAAE,SAAS,GAAG,SAAS,GAAG,CAAC,CAAE,GAAG,UAAU,CAC1C,CAAC;QACF,IAAM,eAAe,GAAG,IAAI,CAAC,IAAI,CAChC,CAAE,SAAS,GAAG,SAAS,GAAG,CAAC,CAAE,GAAG,UAAU,CAC1C,CAAC;QACF,IAAM,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAE,eAAe,EAAE,SAAS,GAAG,CAAC,CAAE,CAAC;QACpE,KACC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAE,CAAC,EAAE,eAAe,CAAE,EACtC,CAAC,IAAI,gBAAgB,EACrB,EAAE,CAAC,EACF;YACD,IAAI,CAAE,CAAC,CAAE,GAAG,EAAE,IAAI,CAAE,CAAC,CAAE,IAAI,CAAC,CAAC;SAC7B,CAAC,SAAS;IACZ,CAAC,CACD,CAAC;IAEF,SAAS,CAAC,IAAI,CAAE,gBAAgB,CAAE,GAAG;QACpC,IAAI;QACJ,OAAO,EAAE,GAAG,CAAE,IAAI,CAAE;QACpB,WAAW,EAAE,CAAC,CAAE,mBAAmB,CAAC,MAAM;YACzC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAE,aAAa,GAAG,mBAAmB,CAAC,MAAM,CAAE;YACzD,CAAC,CAAC,KAAK;KACR,CAAC;AACH,CAAC,CAAC,yBAAyB;AAE3B,SAAS,sBAAsB,CAC9B,OAAgC,EAChC,gBAAmC,EACnC,WAA8C;IAExC,SAAyB,kEAA0B,CACxD,gBAAgB,EAChB,WAAW,CACX,EAHO,QAAQ,gBAAE,QAAQ,cAGzB,CAAC;IACF,OAAO,OAAO,CAAC,MAAM,CACpB,UAAE,EAAe;YAAb,WAAW;QACd,eAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ;IAAlD,CAAkD,CACnD,CAAC;AACH,CAAC,CAAC,8BAA8B;AAEhC,SAAS,0BAA0B,CAAE,MAA+B;IACnE,IAAI,MAAM,GAAG,MAAM,CAAC;IACpB,KAAM,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAG;QAC7B,MAAM,GAAG,MAAM,CAAE,MAAM,CAAE,CAAC;KAC1B,CAAC,SAAS;IACX,OAAO,MAAM,CAAC;AACf,CAAC,CAAC,kCAAkC;AAEpC,SAAS,MAAM,CAAE,MAA+B;IAC/C,IAAK,CAAE,MAAM,CAAC,MAAM,EAAG;QACtB,OAAO,MAAM,CAAC;KACd,CAAC,QAAQ;IAEV,IAAM,QAAQ,GAAG,OAAO,CAAE,MAAM,CAAE,CAAC;IACnC,IAAM,WAAW,GAAG,GAAG,CAAE,MAAM,CAAE,CAAC;IAClC,IAAM,WAAW,GAAG,GAAG,CAAE,MAAM,CAAE,CAAC;IAClC,IAAM,YAAY,GAAG,WAAW,GAAG,WAAW,CAAC;IAE/C,IAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC;IACjC,IAAM,OAAO,GAAG,EAAE,CAAC;IACnB,IAAM,UAAU,GAAG,MAAM,CAAE,CAAC,CAAE,IAAI,CAAC,CAAC;IACpC,IAAM,SAAS,GAAG,MAAM,CAAE,MAAM,CAAC,MAAM,GAAG,CAAC,CAAE,IAAI,CAAC,CAAC;IACnD,MAAM,iDACA,IAAI,KAAK,CAAE,OAAO,CAAE,CAAC,IAAI,CAAE,UAAU,CAAgB,SACvD,MAAM,SACJ,IAAI,KAAK,CAAE,OAAO,CAAE,CAAC,IAAI,CAAE,SAAS,CAAgB,OACzD,CAAC;IAEF,IAAI,QAAQ,GAAa,EAAE,CAAC;IAC5B,KAAM,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,EAAE,CAAC,EAAG;QAC7C,IAAM,IAAI,GAAG,MAAM,CAAE,CAAC,CAAE,CAAC;QACzB,IAAM,IAAI,GAAG,QAAQ,CAAE,CAAC,GAAG,CAAC,CAAE,IAAI,MAAM,CAAE,CAAC,GAAG,CAAC,CAAE,CAAC;QAClD,IAAM,IAAI,GAAG,MAAM,CAAE,CAAC,GAAG,CAAC,CAAE,CAAC;QAC7B,IAAM,QAAQ,GAAG,OAAO,CAAE,CAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAE,CAAE,CAAC;QAC3D,QAAQ,CAAC,IAAI,CAAE,QAAQ,CAAE,CAAC;KAC1B,CAAC,SAAS;IACX,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAE,OAAO,GAAG,CAAC,EAAE,UAAU,CAAE,CAAC;IAEtD,IAAM,WAAW,GAAG,GAAG,CAAE,QAAQ,CAAE,CAAC;IACpC,IAAM,WAAW,GAAG,GAAG,CAAE,QAAQ,CAAE,CAAC;IACpC,IAAM,YAAY,GAAG,WAAW,GAAG,WAAW,CAAC;IAC/C,IAAM,UAAU,GAAG,QAAQ,CAAC,GAAG,CAC9B,UAAE,KAAK,IAAM,QAAE,KAAK,GAAG,WAAW,CAAE,GAAG,YAAY,EAAtC,CAAsC,CACnD,CAAC;IAEF,OAAO,UAAU,CAAC,GAAG,CACpB,UAAE,KAAK,IAAM,WAAI,CAAC,KAAK,CAAE,KAAK,GAAG,YAAY,CAAE,GAAG,WAAW,EAAhD,CAAgD,CAC7D,CAAC;AACH,CAAC,CAAC,cAAc;AAEhB,SAAS,OAAO,CAAE,MAA+B;IAChD,IAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAE,UAAE,GAAG,EAAE,GAAG,IAAM,UAAG,GAAG,GAAG,EAAT,CAAS,EAAE,CAAC,CAAE,CAAC;IAC1D,IAAM,GAAG,GAAG,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;IAChC,OAAO,GAAG,CAAC;AACZ,CAAC,CAAC,eAAe;AAEjB,SAAS,GAAG,CAAE,MAA+B;IAC5C,OAAO,MAAM,CAAC,MAAM,CACnB,UAAE,IAAI,EAAE,KAAK,IAAM,WAAI,CAAC,GAAG,CAAE,IAAI,EAAE,KAAK,CAAE,EAAvB,CAAuB,EAC1C,MAAM,CAAC,iBAAiB,CACxB,CAAC;AACH,CAAC,CAAC,QAAQ;AAEV,SAAS,GAAG,CAAE,MAA+B;IAC5C,OAAO,MAAM,CAAC,MAAM,CACnB,UAAE,IAAI,EAAE,KAAK,IAAM,WAAI,CAAC,GAAG,CAAE,IAAI,EAAE,KAAK,CAAE,EAAvB,CAAuB,EAC1C,MAAM,CAAC,iBAAiB,CACxB,CAAC;AACH,CAAC,CAAC,QAAQ;AAEV,SAAS,aAAa,CACrB,IAAY,EACZ,OAA+C;IAA/C,sCAA+C;IAE/C,IAAM,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAE,IAAI,CAAE,CAAC;IAElC,MAAE,GAAiC,OAAO,GAAxC,EAAE,SAAS,GAAsB,OAAO,UAA7B,EAAE,KAAK,GAAe,OAAO,MAAtB,EAAK,KAAK,UAAK,OAAO,EAA5C,4BAAkC,CAAF,CAAa;IACnD,IAAK,QAAQ,KAAK,OAAO,EAAE,EAAG;QAC7B,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC;KACX,CAAC,QAAQ;IAEV,IAAK,QAAQ,KAAK,OAAO,SAAS,EAAG;QACpC,EAAE,CAAC,SAAS,GAAG,SAAS,CAAC;KACzB,CAAC,QAAQ;IAEV,IAAK,QAAQ,KAAK,OAAO,KAAK,EAAG;QAChC,MAAM,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC,OAAO,CAAE,UAAE,CAAC;YAChC,EAAE,CAAC,KAAK,CAAE,CAAC,CAAE,GAAG,KAAK,CAAE,CAAC,CAAE,CAAC;QAC5B,CAAC,CAAE,CAAC;KACJ,CAAC,QAAQ;IAEV,MAAM,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC,OAAO,CAAE,UAAE,CAAC;QAChC,EAAE,CAAE,CAAC,CAAE,GAAG,KAAK,CAAE,CAAC,CAAE,CAAC;IACtB,CAAC,CAAE,CAAC;IAEJ,OAAO,EAAO,CAAC;AAChB,CAAC,CAAC,qBAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxjBvB;;GAEG;AACyC;AACP;AACS;AAO9C;;GAEG;AACwE;AACtB;AAiBrD,mCAAmC;AACnC,IAAM,QAAQ,GAAG,UAAU,CAAC;AAE5B,IAAI,gBAAgB,GAAG,KAAK,CAAC;AAC7B,IAAI,OAAO,GAA2B,KAAK,CAAC;AAC5C,IAAI,2BAA2B,GAAyC;IACvE,OAAO,EAAE,KAAK;IACd,MAAM,EAAE,KAAK;IACb,UAAU,EAAE,KAAK;CACjB,CAAC;AACF,IAAI,aAAa,GAGb,EAAE,OAAO,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,CAAC;AAEzC,SAAS,WAAW,CAC1B,UAAsB,EACtB,WAA6B,EAC7B,OAA6B;IAE7B,IAAK,gBAAgB,EAAG;QACvB,OAAO;KACP,CAAC,QAAQ;IACV,gBAAgB,GAAG,IAAI,CAAC;IAExB,OAAO,GAAG,KAAK,CAAC;IAChB,2BAA2B,GAAG;QAC7B,OAAO,EAAE,KAAK;QACd,MAAM,EAAE,KAAK;QACb,UAAU,EAAE,KAAK;KACjB,CAAC;IACM,YAAQ,GAAK,OAAO,SAAZ,CAAa;IACrB,oBAAgB,GAAK,QAAQ,CAAE,QAAQ,CAAE,iBAAzB,CAA0B;IAClD,gBAAgB,CAAE,oBAAoB,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,CAAE,CAAC;IAE9D,OAAO,CAAC,GAAG,CAAE;QACZ,aAAa,CAAW,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,OAAO,CAAE;QACpE,aAAa,CAAY,SAAS,EAAE,UAAU,EAAE,WAAW,EAAE,OAAO,CAAE;KACtE,CAAE;SACD,IAAI,CAAE,UAAE,EAAmB;YAAjB,MAAM,UAAE,OAAO;QACzB,gBAAgB,CAAE,oBAAoB,EAAE;YACvC,IAAI,EAAE,YAAY;SAClB,CAAE,CAAC;QACJ,gBAAgB,GAAG,KAAK,CAAC;QACzB,OAAO,GAAG,EAAE,MAAM,UAAE,OAAO,WAAE,CAAC;QAC9B,cAAc,EAAE,CAAC;QACjB,gBAAgB,CAAE,oBAAoB,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,CAAE,CAAC;QAC5D,gBAAgB,CAAE,8BAA8B,EAAE,eAAe,CAAE,CAAC;IACrE,CAAC,CAAE;SACF,KAAK,CAAE;QACP,gBAAgB,CAAE,oBAAoB,EAAE;YACvC,IAAI,EAAE,OAAO;YACb,SAAS,EAAE,gBAAgB;SAC3B,CAAE,CAAC;IACL,CAAC,CAAE,CAAC;AACN,CAAC,CAAC,mBAAmB;AAEd,SAAS,SAAS;IACxB,IAAK,gBAAgB,EAAG;QACvB,OAAO,EAAE,CAAC;KACV,CAAC,QAAQ;IAEV,IAAK,CAAE,OAAO,EAAG;QAChB,OAAO,EAAE,CAAC;KACV,CAAC,QAAQ;IAEV,IAAK,CAAE,2BAA2B,CAAC,OAAO,EAAG;QAC5C,OAAO,EAAE,CAAC;KACV,CAAC,QAAQ;IAEV,OAAO,OAAO,CAAC,MAAM,CAAC;AACvB,CAAC,CAAC,iBAAiB;AAEZ,SAAS,qBAAqB,CACpC,UAA6B,EAC7B,oBAAuD;IAEvD,IAAK,gBAAgB,EAAG;QACvB,OAAO,EAAE,CAAC;KACV,CAAC,QAAQ;IAEV,IAAK,CAAE,OAAO,EAAG;QAChB,OAAO,EAAE,CAAC;KACV,CAAC,QAAQ;IAEV,IAAK,CAAE,2BAA2B,CAAE,UAAU,CAAE,IAAI,CAAE,OAAO,CAAC,MAAM,EAAG;QACtE,OAAO,EAAE,CAAC;KACV,CAAC,QAAQ;IAEJ,SAAyB,kEAA0B,CACxD,UAAU,EACV,oBAAoB,CACpB,EAHO,QAAQ,gBAAE,QAAQ,cAGzB,CAAC;IACF,OAAO,OAAO,CAAC,MAAM,CAAC,MAAM,CAC3B,UAAE,EAA2C;YAAxB,EAAE,uBAAmB,CAAC;QAC1C,eAAQ,IAAI,CAAC,IAAI,CAAC,IAAI,QAAQ,IAAI,CAAC,CAAE,GAAE,aAAF,EAAE,uBAAF,EAAE,CAAI,UAAU,CAAE;IAAvD,CAAuD,CACxD,CAAC;AACH,CAAC,CAAC,6BAA6B;AAExB,SAAS,UAAU;IACzB,IAAK,gBAAgB,EAAG;QACvB,OAAO,EAAE,CAAC;KACV,CAAC,QAAQ;IAEV,IAAK,CAAE,OAAO,EAAG;QAChB,OAAO,EAAE,CAAC;KACV,CAAC,QAAQ;IAEV,OAAO,OAAO,CAAC,OAAO,CAAC;AACxB,CAAC,CAAC,kBAAkB;AAEb,SAAS,8CAA8C,CAC7D,UAA6B;IAE7B,OAAO,CAAC,CAAE,2BAA2B,CAAE,UAAU,CAAE,CAAC;AACrD,CAAC,CAAC,QAAQ;AAEH,SAAS,mCAAmC,CAClD,UAA6B;IAE7B,IAAK,gBAAgB,IAAI,CAAE,OAAO,EAAG;QACpC,OAAO;KACP,CAAC,QAAQ;IAEV,IAAK,2BAA2B,CAAE,UAAU,CAAE,EAAG;QAChD,OAAO;KACP,CAAC,QAAQ;IAEV,uBAAuB,CAAE,UAAU,CAAE,CAAC;AACvC,CAAC,CAAC,2CAA2C;AAEtC,SAAS,qCAAqC,CACpD,UAA6B;IAE7B,IAAK,gBAAgB,IAAI,CAAE,OAAO,EAAG;QACpC,OAAO;KACP,CAAC,QAAQ;IAEV,2BAA2B,GAAG;QAC7B,OAAO,EAAE,KAAK;QACd,MAAM,EAAE,KAAK;QACb,UAAU,EAAE,KAAK;KACjB,CAAC;IACF,aAAa,GAAG,EAAE,OAAO,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,CAAC;IAC5D,uBAAuB,CAAE,UAAU,CAAE,CAAC;AACvC,CAAC,CAAC,6CAA6C;AAE/C,UAAU;AACV,UAAU;AACV,UAAU;AAEV,SAAS,aAAa,CACrB,IAA0B,EAC1B,UAAsB,EACtB,WAA6B,EAC7B,OAA6B;IAErB,UAAM,GAAK,OAAO,OAAZ,CAAa;IAE3B,IAAM,IAAI,GAAG;QACZ,WAAW;QACX,KAAK,EAAE,UAAU,CAAC,SAAS;QAC3B,GAAG,EAAE,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,OAAO;QACxB,EAAE,EAAE,OAAO,CAAC,QAAQ;KACpB,CAAC;IAEF,OAAO,IAAI,OAAO,CAAE,UAAE,OAAO;QAC5B,IAAM,GAAG,GAAG,4DAAY,CACvB,iDAA2C,MAAM,yBAAiB,UAAU,CAAC,EAAE,cAAM,IAAI,CAAG,EAC5F,IAAI,CACJ,CAAC;QACF,QAAQ,CACP,GAAG,EACH,OAAO,CAAC,YAAY,EACpB,EAAwB,EACxB,OAAO,CACP,CAAC;IACH,CAAC,CAAE,CAAC;AACL,CAAC,CAAC,qBAAqB;AAEvB,SAAS,QAAQ,CAChB,GAAW,EACX,SAAiB,EACjB,MAA0B,EAC1B,OAA+B;IAO/B,2DAAQ,CAAY;QACnB,GAAG;QACH,MAAM,EAAE,KAAK;QACb,WAAW,EAAE,MAAM;QACnB,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE;YACR,aAAa,EAAE,iBAAW,SAAS,CAAG;SACtC;KACD,CAAE,CAAC,IAAI,CACP,UAAE,EAAc;YAAZ,IAAI,YAAE,IAAI;QACb,MAAM,mCAAQ,MAAM,SAAK,IAAI,OAAE,CAAC;QAChC,IAAM,MAAM,GAAG,4DAAY,CAAE,GAAG,EAAE,EAAE,IAAI,QAAE,CAAE,CAAC;QAC7C,IAAK,IAAI,IAAI,GAAG,KAAK,MAAM,EAAG;YAC7B,QAAQ,CAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,OAAO,CAAE,CAAC;SAC/C;aAAM;YACN,OAAO,CAAE,MAAM,CAAE,CAAC;SAClB,CAAC,QAAQ;IACX,CAAC,EACD,cAAM,cAAO,CAAE,MAAM,CAAE,EAAjB,CAAiB,CACvB,CAAC;AACH,CAAC,CAAC,gBAAgB;AAElB,SAAS,cAAc;IACtB,IAAK,CAAE,OAAO,EAAG;QAChB,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,OAAO,GAAG,mDAAE,CAAE,SAAS,EAAE,MAAM,EAAE,kBAAkB,CAAE,CAAC;IAC5D,OAAO,yBACH,OAAO,KACV,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,GAAG,CAAE,UAAE,KAAK,IAAM,8BACrC,KAAK,KACR,OAAO,EAAE,KAAK,CAAC,OAAO,IAAI,OAAO,EACjC,OAAO,EAAE,KAAK,CAAC,OAAO,IAAI,OAAO,EACjC,SAAS,EAAE,oBAAoB,CAAE,KAAK,CAAC,SAAS,CAAE,EAClD,MAAM,EAAE,KAAK,CAAC,MAAM,IAAI,OAAO,EAC/B,SAAS,EAAE,oBAAoB,CAAE,KAAK,CAAC,SAAS,CAAE,EAClD,SAAS,EAAE,KAAK,CAAC,SAAS,IAAI,CAAC,EAC/B,EAAE,EAAE,KAAK,CAAC,EAAE,IAAI,OAAO,EACvB,WAAW,EAAE,sBAAsB,CAAE,KAAK,CAAC,WAAW,CAAE,EACxD,WAAW,EAAE,sBAAsB,CAAE,KAAK,CAAC,WAAW,CAAE,EACxD,eAAe,EACd,QAAQ,KAAK,OAAO,KAAK,CAAC,WAAW;gBACpC,CAAC,CAAC,KAAK,CAAC,WAAW;gBACnB,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAE,KAAK,CAAC,WAAW,CAAE,IAAI,CAAC,EAC7C,qBAAqB,EAAE,EAAE,EACzB,eAAe,EAAE,EAAE,IACjB,EAjBsC,CAiBtC,CAAE,GACL,CAAC;AACH,CAAC,CAAC,sBAAsB;AAExB,SAAS,uBAAuB,CAAE,UAA6B;IAC9D,IAAK,CAAE,OAAO,EAAG;QAChB,OAAO;KACP,CAAC,QAAQ;IAEV,OAAO,CAAC,MAAM,CAAC,OAAO,CAAE,UAAE,KAAK;QACtB,KAAC,GAAQ,KAAK,EAAb,EAAE,CAAC,GAAK,KAAK,EAAV,CAAW;QACjB,SAA+B,qBAAqB,CACzD,KAAK,EACL,UAAU,CACV,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAHrC,GAAG,WAAE,IAAI,YAAE,KAAK,aAAE,MAAM,YAGa,CAAC;QAE9C,IAAM,KAAK,GAAG,IAAI,GAAG,CAAC,GAAG,KAAK,CAAC;QAC/B,IAAM,KAAK,GAAG,GAAG,GAAG,CAAC,GAAG,MAAM,CAAC;QAE/B,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,eAAe,IAAI,EAAE,CAAC;QACpD,KAAK,CAAC,eAAe,CAAE,UAAU,CAAE,yBAC/B,CAAE,KAAK,CAAC,eAAe,CAAE,UAAU,CAAE,IAAI,EAAE,CAAE,KAChD,CAAC,EAAE,KAAK,EACR,CAAC,EAAE,KAAK,GACR,CAAC;QAEF,KAAK,CAAC,qBAAqB,GAAG,KAAK,CAAC,qBAAqB,IAAI,EAAE,CAAC;QAChE,KAAK,CAAC,qBAAqB,CAAE,UAAU,CAAE,GAAG,KAAK,GAAG,CAAC,IAAI,MAAM,GAAG,CAAC,CAAC;IACrE,CAAC,CAAE,CAAC;IAEJ,2BAA2B,CAAE,UAAU,CAAE,GAAG,IAAI,CAAC;AAClD,CAAC,CAAC,+BAA+B;AAEjC,SAAS,qBAAqB,CAC7B,KAAY,EACZ,UAA6B;IAE7B,IAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC;IAC9C,IAAK,CAAE,QAAQ,EAAG;QACjB,OAAO,KAAK,CAAC;KACb,CAAC,QAAQ;IAEV,IAAK,SAAS,KAAK,aAAa,CAAE,UAAU,CAAE,CAAE,QAAQ,CAAE,EAAG;QAC5D,OAAO,aAAa,CAAE,UAAU,CAAE,CAAE,QAAQ,CAAE,CAAC;KAC/C,CAAC,QAAQ;IAEV,IAAI,EAAE,GAAgB,IAAI,CAAC;IAC3B,IAAI;QACH,EAAE,GAAG,KAAK,CAAC,KAAK;YACf,CAAC,CAAC,iFAAiB,CAAE,QAAQ,CAAE;YAC/B,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAE,QAAQ,CAAE,CAAC;KACtC;IAAC,OAAQ,CAAC,EAAG;QACb,OAAO,CAAC,GAAG,CAAE,MAAM,EAAE,KAAK,CAAC,KAAK,CAAE,CAAC;KACnC,CAAC,QAAQ;IAEV,IAAK,aAAa,CAAE,EAAE,CAAE,EAAG;QAC1B,aAAa,CAAE,UAAU,CAAE,CAAE,QAAQ,CAAE,GAAG,EAAE,CAAC,qBAAqB,EAAE,CAAC;KACrE;SAAM;QACN,aAAa,CAAE,UAAU,CAAE,CAAE,QAAQ,CAAE,GAAG,KAAK,CAAC;KAChD,CAAC,QAAQ;IAEV,OAAO,aAAa,CAAE,UAAU,CAAE,CAAE,QAAQ,CAAE,CAAC;AAChD,CAAC,CAAC,6BAA6B;AAE/B,SAAS,oBAAoB,CAAE,SAA0B;IACxD,IAAK,QAAQ,KAAK,OAAO,SAAS,EAAG;QACpC,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAE,SAAS,CAAE,CAAC;QACzC,IAAK,KAAK,CAAE,SAAS,CAAE,EAAG;YACzB,SAAS,GAAG,CAAC,CAAC;SACd,CAAC,QAAQ;KACV,CAAC,QAAQ;IACV,OAAO,UAAI,IAAI,CAAC,KAAK,CAAE,SAAS,GAAG,CAAC,CAAE,CAAG,CAAC;AAC3C,CAAC,CAAC,4BAA4B;AAE9B,SAAS,oBAAoB,CAAE,SAA0B;IACxD,OAAO,UAAI,SAAS,CAAG,CAAC;AACzB,CAAC,CAAC,4BAA4B;AAE9B,SAAS,sBAAsB,CAAE,WAA4B;IAC5D,IAAK,QAAQ,KAAK,OAAO,WAAW,EAAG;QACtC,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAE,WAAW,CAAE,CAAC;KAC7C,CAAC,QAAQ;IACV,IAAM,IAAI,GAAG,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAE,CAAC;IACnE,KAAM,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAG;QACvC,IAAK,WAAW,IAAI,IAAI,CAAE,CAAC,CAAE,EAAG;YAC/B,OAAO,UAAI,CAAC,CAAG,CAAC;SAChB,CAAC,QAAQ;KACV,CAAC,SAAS;IAEX,OAAO,UAAI,IAAI,CAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAE,CAAG,CAAC;AACvC,CAAC,CAAC,8BAA8B;AAEhC,SAAS,sBAAsB,CAAE,WAA4B;IAC5D,IAAK,QAAQ,KAAK,OAAO,WAAW,EAAG;QACtC,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAE,WAAW,CAAE,CAAC;KAC7C,CAAC,QAAQ;IAEV,IAAM,IAAI,GAAG,CAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAE,CAAC;IACvD,KAAM,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAG;QACvC,IAAK,WAAW,GAAG,IAAI,CAAE,CAAC,CAAE,EAAG;YAC9B,OAAO,UAAI,CAAC,CAAG,CAAC;SAChB,CAAC,QAAQ;KACV,CAAC,SAAS;IAEX,OAAO,UAAI,IAAI,CAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAE,CAAG,CAAC;AACvC,CAAC,CAAC,8BAA8B;AAEhC,SAAS,aAAa,CAAE,CAAc;IACrC,OAAO,CAAC,CAAE,CAAC,IAAI,IAAI,CAAC,YAAY,KAAK,CAAC,CAAC,QAAQ,CAAC;AACjD,CAAC,CAAC,qBAAqB;;;;;;;;;;;;;;;;;;;ACvXvB,IAAM,kBAAkB,GAAG,KAAK,CAAC;AACjC,IAAM,mBAAmB,GAAG,GAAG,CAAC;AAEzB,SAAS,oBAAoB,CACnC,IAAY,EACZ,UAA6B;IAE7B,IAAM,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAE,IAAI,CAAE,CAAC;IAC1C,EAAE,CAAC,SAAS,GAAG,qBAAqB,CAAC;IACrC,EAAE,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;IAC/B,EAAE,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;IACtB,EAAE,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;IACrB,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC3B,eAAe,CAAE,EAAE,EAAE,UAAU,CAAE,CAAC;IAElC,OAAO,EAAO,CAAC;AAChB,CAAC,CAAC,4BAA4B;AAEvB,SAAS,eAAe,CAC9B,EAAe,EACf,UAA6B;IAE7B,IAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;IACxC,IAAM,MAAM,GAAG,iBAAiB,CAAE,UAAU,CAAE,CAAC;IAE/C,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,UAAI,KAAK,OAAK,CAAC;IAChC,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,UAAI,MAAM,OAAK,CAAC;IAElC,IAAK,YAAY,CAAE,EAAE,CAAE,EAAG;QACzB,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC;QACjB,EAAE,CAAC,MAAM,GAAG,MAAM,CAAC;KACnB,CAAC,QAAQ;AACX,CAAC,CAAC,uBAAuB;AAElB,SAAS,iBAAiB,CAAE,UAA6B;IAC/D,IAAM,gBAAgB,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;IAEpD,QAAS,UAAU,EAAG;QACrB,KAAK,YAAY;YAChB,OAAO,IAAI,CAAC,GAAG,CACd,gBAAgB,EAChB,kBAAkB,GAAG,mBAAmB,GAAG,mBAAmB,CAC9D,CAAC;QAEH,KAAK,QAAQ;YACZ,OAAO,IAAI,CAAC,GAAG,CACd,gBAAgB,EAChB,kBAAkB,GAAG,mBAAmB,CACxC,CAAC;QAEH,KAAK,SAAS,CAAC;QACf;YACC,OAAO,IAAI,CAAC,GAAG,CAAE,gBAAgB,EAAE,kBAAkB,CAAE,CAAC;KACzD,CAAC,YAAY;AACf,CAAC,CAAC,yBAAyB;AAEpB,SAAS,0BAA0B,CACzC,gBAAmC,EACnC,WAA8C;IAK9C,IAAM,aAAa,GAAG,WAAW,CAAE,gBAAgB,CAAE,CAAC,KAAK,CAAC;IAC5D,IAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAE,WAAW,CAAE,CAAC,GAAG,CAAE,UAAE,EAAS;YAAP,KAAK;QAAQ,YAAK;IAAL,CAAK,CAAE,CAAC;IAExE,IAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAC3B,UAAE,IAAI,EAAE,KAAK;QACZ,YAAK,GAAG,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAE,KAAK,EAAE,IAAI,CAAE,CAAC,CAAC,CAAC,IAAI;IAAtD,CAAsD,EACvD,CAAC,CAAC,CACF,CAAC;IAEF,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CACzB,UAAE,IAAI,EAAE,KAAK;QACZ,oBAAa,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAE,KAAK,EAAE,IAAI,CAAE,CAAC,CAAC,CAAC,IAAI;IAAtD,CAAsD,EACvD,MAAM,CAAC,iBAAiB,CACxB,CAAC;IACF,IAAK,MAAM,CAAC,iBAAiB,KAAK,QAAQ,EAAG;QAC5C,QAAQ,GAAG,aAAa,CAAC;KACzB,CAAC,QAAQ;IAEV,OAAO,EAAE,QAAQ,EAAE,QAAQ,GAAG,CAAC,EAAE,QAAQ,YAAE,CAAC;AAC7C,CAAC,CAAC,kCAAkC;AAEpC,IAAM,YAAY,GAAG,UAAE,EAAe;IACrC,eAAQ,KAAK,EAAE,CAAC,QAAQ,CAAC,WAAW,EAAE;AAAtC,CAAsC,CAAC;;;;;;;;;;;;;;;;;AC1FxC,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;AACzB,IAAM,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;AAOvC,8BAA8B;AAC9B,qHAAqH;AAE9G,SAAS,iBAAiB,CAAE,KAAa;IAC/C,OAAO,QAAQ,CAAC,QAAQ,CACvB,KAAK,EACL,QAAQ,EACR,IAAI,EACJ,WAAW,CAAC,uBAAuB,EACnC,IAAI,CACJ,CAAC,eAAe,CAAC;AACnB,CAAC,CAAC,yBAAyB;AAEpB,SAAS,KAAK,CAAE,IAAU,EAAE,SAAkB;;IACpD,IAAK,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,aAAa,EAAG;QAC3C,OAAO,GAAG,CAAC;KACX,CAAC,QAAQ;IAEV,IAAM,KAAK,GAAW,EAAE,CAAC;IAEzB,IAAI,WAAW,GAAgB,IAAI,CAAC;IACpC,OAAQ,WAAW,EAAG;QACrB,IAAM,IAAI,GAAG,WAAW,CAAE,WAAW,EAAE,SAAS,CAAE,CAAC;QACnD,IAAK,CAAE,IAAI,EAAG;YACb,MAAM,CAAC,0BAA0B;SACjC,CAAC,QAAQ;QAEV,KAAK,CAAC,IAAI,CAAE,IAAI,CAAE,CAAC;QACnB,IAAK,IAAI,CAAC,SAAS,EAAG;YACrB,MAAM;SACN,CAAC,QAAQ;QAEV,WAAW,GAAG,WAAW,CAAC,UAAU,CAAC;KACrC,CAAC,WAAW;IAEb,KAAK,CAAC,OAAO,EAAE,CAAC;IAChB,IAAM,IAAI,GAAG,KAAK,CAAC,GAAG,CAAE,UAAE,CAAC,IAAM,QAAC,CAAC,KAAK,EAAP,CAAO,CAAE,CAAC,IAAI,CAAE,GAAG,CAAE,CAAC;IACvD,OAAO,YAAK,CAAE,CAAC,CAAE,0CAAE,SAAS,EAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,WAAK,IAAI,CAAG,CAAC;AACpD,CAAC,CAAC,aAAa;AAEf,SAAS,WAAW,CAAE,IAAU,EAAE,SAAkB;IACnD,IAAM,QAAQ,GAAG,WAAW,CAAE,IAAI,CAAE,CAAC;IACrC,IAAK,QAAQ,KAAK,CAAC,CAAC,EAAG;QACtB,OAAO,IAAI,CAAC,CAAC,SAAS;KACtB,CAAC,QAAQ;IAEV,IAAI,QAAQ,GAAG,EAAE,CAAC;IAClB,QAAS,IAAI,CAAC,QAAQ,EAAG;QACxB,KAAK,IAAI,CAAC,YAAY;YACrB,IAAK,CAAE,aAAa,CAAE,IAAI,CAAE,EAAG;gBAC9B,MAAM;aACN,CAAC,QAAQ;YACV,IAAK,SAAS,IAAI,IAAI,CAAC,YAAY,CAAE,IAAI,CAAE,EAAG;gBAC7C,OAAO;oBACN,KAAK,EAAE,oBAAa,IAAI,CAAC,YAAY,CAAE,IAAI,CAAE,IAAI,EAAE,QAAK;oBACxD,SAAS,EAAE,IAAI;iBACf,CAAC;aACF,CAAC,QAAQ;YACV,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;YAC1B,MAAM;QAEP,KAAK,IAAI,CAAC,cAAc;YACvB,QAAQ,GAAG,WAAK,IAAI,CAAC,QAAQ,CAAG,CAAC;YACjC,MAAM;QAEP,KAAK,IAAI,CAAC,SAAS,CAAC;QACpB,KAAK,IAAI,CAAC,kBAAkB;YAC3B,QAAQ,GAAG,QAAQ,CAAC;YACpB,MAAM;QAEP,KAAK,IAAI,CAAC,2BAA2B;YACpC,QAAQ,GAAG,0BAA0B,CAAC;YACtC,MAAM;QAEP,KAAK,IAAI,CAAC,YAAY;YACrB,QAAQ,GAAG,WAAW,CAAC;YACvB,MAAM;QAEP,KAAK,IAAI,CAAC,aAAa;YACtB,QAAQ,GAAG,EAAE,CAAC;YACd,MAAM;QAEP;YACC,QAAQ,GAAG,EAAE,CAAC;YACd,MAAM;KACP,CAAC,YAAY;IAEd,IAAK,QAAQ,GAAG,CAAC,EAAG;QACnB,QAAQ,IAAI,WAAK,QAAQ,MAAI,CAAC;KAC9B,CAAC,QAAQ;IAEV,OAAO;QACN,KAAK,EAAE,QAAQ;QACf,SAAS,EAAE,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,aAAa;KAC/C,CAAC;AACH,CAAC;AAED,SAAS,WAAW,CAAE,IAAU;IAC/B,+BAA+B;IAC/B,0DAA0D;IAC1D,qFAAqF;IACrF,SAAS,eAAe,CAAE,IAAU,EAAE,KAAW;QAChD,IAAK,IAAI,KAAK,KAAK,EAAG;YACrB,OAAO,IAAI,CAAC;SACZ,CAAC,QAAQ;QAEV,IAAK,aAAa,CAAE,IAAI,CAAE,IAAI,aAAa,CAAE,KAAK,CAAE,EAAG;YACtD,OAAO,IAAI,CAAC,SAAS,KAAK,KAAK,CAAC,SAAS,CAAC;SAC1C,CAAC,QAAQ;QAEV,IAAK,IAAI,CAAC,QAAQ,KAAK,KAAK,CAAC,QAAQ,EAAG;YACvC,OAAO,IAAI,CAAC;SACZ,CAAC,QAAQ;QAEV,oCAAoC;QACpC,IAAM,QAAQ,GACb,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,kBAAkB;YACxC,CAAC,CAAC,IAAI,CAAC,SAAS;YAChB,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;QAClB,IAAM,SAAS,GACd,KAAK,CAAC,QAAQ,KAAK,IAAI,CAAC,kBAAkB;YACzC,CAAC,CAAC,IAAI,CAAC,SAAS;YAChB,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC;QACnB,OAAO,QAAQ,KAAK,SAAS,CAAC;IAC/B,CAAC,CAAC,uBAAuB;IAEzB,IAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC;IACnE,IAAK,CAAE,QAAQ,EAAG;QACjB,OAAO,CAAC,CAAC,CAAC,2BAA2B;KACrC,CAAC,QAAQ;IAEV,IAAI,oBAAoB,CAAC;IACzB,KAAM,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAG;QAC3C,IACC,eAAe,CAAE,IAAI,EAAE,QAAQ,CAAE,CAAC,CAAE,CAAE;YACtC,QAAQ,CAAE,CAAC,CAAE,KAAK,IAAI,EACrB;YACD,oBAAoB,GAAG,IAAI,CAAC;YAC5B,MAAM;SACN,CAAC,QAAQ;KACV,CAAC,SAAS;IAEX,IAAK,CAAE,oBAAoB,EAAG;QAC7B,OAAO,CAAC,CAAC;KACT,CAAC,QAAQ;IAEV,IAAI,QAAQ,GAAG,CAAC,CAAC,CAAC,8BAA8B;IAChD,KAAM,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAG;QAC3C,IAAK,eAAe,CAAE,IAAI,EAAE,QAAQ,CAAE,CAAC,CAAE,CAAE,EAAG;YAC7C,IAAK,QAAQ,CAAE,CAAC,CAAE,KAAK,IAAI,EAAG;gBAC7B,OAAO,QAAQ,CAAC;aAChB,CAAC,QAAQ;YACV,EAAE,QAAQ,CAAC;SACX,CAAC,QAAQ;KACV,CAAC,SAAS;IACX,OAAO,CAAC,CAAC,CAAC,CAAC,4DAA4D;AACxE,CAAC,CAAC,mBAAmB;AAErB,IAAM,aAAa,GAAG,UAAE,CAAO;IAC9B,WAAI,CAAC,YAAY,KAAK,CAAC,CAAC,QAAQ;AAAhC,CAAgC,CAAC;;;;;;;;;;;;ACvKlC;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;ACNA;;GAEG;AACyC;AAO5C;;GAEG;AAC4E;AACb;AACI;AACF;AAC9B;AAItC,mCAAmC;AACnC,IAAM,QAAQ,GAAG,UAAU,CAAC;AAE5B,uBAAuB;AACvB,oEAAoE;AACpE,2BAA2B;AAE3B,SAAS,IAAI;;IACZ,IAAK,CAAE,gBAAgB,CAAE,MAAM,CAAC,MAAM,CAAE,EAAG;QAC1C,OAAO,CAAC,KAAK,CAAE,+CAA+C,CAAE,CAAC,CAAC,sBAAsB;QACxF,OAAO;KACP,CAAC,QAAQ;IAEF,YAAQ,GAAK,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,SAA1B,CAA2B;IACnC,oBAAgB,GAAK,QAAQ,CAAE,QAAQ,CAAE,iBAAzB,CAA0B;IAClD,gBAAgB,CAAE,oBAAoB,EAAE,EAAE,IAAI,EAAE,eAAe,EAAE,CAAE,CAAC;IAE5D,UAAM,GAAK,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,OAA1B,CAA2B;IACnC,SAAsC,MAAM,CAAE,QAAQ,CAAE,EAAtD,aAAa,qBAAE,gBAAgB,sBAAuB,CAAC;IAE/D,IAAM,YAAY,GAAG,sBAAgB,CAAE,yBAAyB,CAAE,mCAAI,CAAC,CAAC;IACxE,IAAM,aAAa,GAAG,sBAAgB,CAAE,2BAA2B,CAAE,mCAAI,EAAE,CAAC;IAC5E,IAAM,UAAU,GAAG,aAAa,CAAE,YAAY,CAAE,CAAC;IACjD,IAAK,CAAE,UAAU,EAAG;QACnB,gBAAgB,CAAE,oBAAoB,EAAE;YACvC,IAAI,EAAE,OAAO;YACb,SAAS,EAAE,sBAAsB;SACjC,CAAE,CAAC;QACJ,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,gBAAgB,GAAG,CAAE,gBAAU,CAAC,YAAY,mCAAI,EAAE,CAAE;SACxD,GAAG,CAAE,UAAE,EAAM;YAAJ,EAAE;QAAQ,SAAE;IAAF,CAAE,CAAE;SACvB,OAAO,CAAE,aAAa,CAAE,CAAC;IAC3B,IAAK,CAAC,CAAC,KAAK,gBAAgB,EAAG;QAC9B,gBAAgB,CAAE,oBAAoB,EAAE;YACvC,IAAI,EAAE,OAAO;YACb,SAAS,EAAE,uBAAuB;SAClC,CAAE,CAAC;QACJ,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,OAAO,GAAG;QACf,YAAY,EAAE,sBAAgB,CAAE,sBAAsB,CAAE,mCAAI,EAAE;QAC9D,MAAM,EAAE,sBAAgB,CAAE,gBAAgB,CAAE,mCAAI,EAAE;QAClD,QAAQ,EAAE,sBAAgB,CAAE,kBAAkB,CAAE,mCAAI,EAAE;QACtD,QAAQ,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ;KACxC,CAAC;IAEF,aAAa,EAAE,CAAC;IAChB,MAAM,CAAC,gBAAgB,CAAE,SAAS,EAAE,qBAAqB,EAAE,KAAK,CAAE,CAAC;IACnE,mDAAW,CAAE,UAAU,EAAE,gBAAgB,EAAE,OAAO,CAAE,CAAC;AACtD,CAAC,CAAC,YAAY;AAEd,SAAS,qBAAqB,CAAE,OAAqC;IACpE,IAAK,CAAE,gBAAgB,CAAE,MAAM,CAAC,MAAM,CAAE,EAAG;QAC1C,OAAO;KACP,CAAC,QAAQ;IAEV,IAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC;IACpB,YAAQ,GAAK,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,SAA1B,CAA2B;IAE3C,yEAAe,CAAE,MAAM,EAAE,QAAQ,CAAE,CAAC;IACpC,+DAAY,CAAE,MAAM,CAAE,CAAC;IACvB,iEAAc,CAAE,MAAM,CAAE,CAAC;IACzB,gEAAa,CAAE,MAAM,EAAE,QAAQ,CAAE,CAAC;AACnC,CAAC,CAAC,6BAA6B;AAE/B,SAAS,aAAa;IACrB,IAAI;QACH,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;KACpC;IAAC,OAAQ,CAAC,EAAG,GAAE;AACjB,CAAC,CAAC,qBAAqB;AAWvB,SAAS,gBAAgB,CAAE,GAAY;IACtC,0GAA0G;IAC1G,OAAO,CAAC,CAAI,GAAY,CAAC,EAAE,CAAC,IAAI,CAAC;AAClC,CAAC,CAAC,wBAAwB;AAE1B,UAAU;AACV,UAAU;AACV,UAAU;AAEV,2DAAQ,CAAE,IAAI,CAAE,CAAC","sources":["webpack://nab/./assets/src/admin/scripts/heatmap-renderer/lib/webgl-heatmap.js","webpack://nab/./node_modules/stackblur-canvas/dist/stackblur-es.js","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/confetti-colors.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/confetti.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/heatmap.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/screen-resolution.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/scrollmap.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/store.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/utils.ts","webpack://nab/./assets/src/public/tracking/regular/xpath.ts","webpack://nab/external window \"lodash\"","webpack://nab/external window [\"wp\",\"apiFetch\"]","webpack://nab/external window [\"wp\",\"domReady\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/external window [\"wp\",\"url\"]","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/index.ts"],"sourcesContent":["// Generated by CoffeeScript 1.8.0\nvar Framebuffer,\n\tHeights,\n\tNode,\n\tShader,\n\tTexture,\n\tWebGLHeatmap,\n\tfragmentShaderBlit,\n\tnukeVendorPrefix,\n\ttextureFloatShims,\n\tvertexShaderBlit,\n\t__indexOf =\n\t\t[].indexOf ||\n\t\tfunction ( item ) {\n\t\t\tfor ( var i = 0, l = this.length; i < l; i++ ) {\n\t\t\t\tif ( i in this && this[ i ] === item ) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\nnukeVendorPrefix = function () {\n\tvar getExtension, getSupportedExtensions, vendorRe, vendors;\n\tif ( window.WebGLRenderingContext != null ) {\n\t\tvendors = [ 'WEBKIT', 'MOZ', 'MS', 'O' ];\n\t\tvendorRe = /^WEBKIT_(.*)|MOZ_(.*)|MS_(.*)|O_(.*)/;\n\t\tgetExtension = WebGLRenderingContext.prototype.getExtension;\n\t\tWebGLRenderingContext.prototype.getExtension = function ( name ) {\n\t\t\tvar extobj, match, vendor, _i, _len;\n\t\t\tmatch = name.match( vendorRe );\n\t\t\tif ( match !== null ) {\n\t\t\t\tname = match[ 1 ];\n\t\t\t}\n\t\t\textobj = getExtension.call( this, name );\n\t\t\tif ( extobj === null ) {\n\t\t\t\tfor ( _i = 0, _len = vendors.length; _i < _len; _i++ ) {\n\t\t\t\t\tvendor = vendors[ _i ];\n\t\t\t\t\textobj = getExtension.call( this, vendor + '_' + name );\n\t\t\t\t\tif ( extobj !== null ) {\n\t\t\t\t\t\treturn extobj;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn extobj;\n\t\t\t}\n\t\t};\n\t\tgetSupportedExtensions =\n\t\t\tWebGLRenderingContext.prototype.getSupportedExtensions;\n\t\treturn ( WebGLRenderingContext.prototype.getSupportedExtensions = function () {\n\t\t\tvar extension, match, result, supported, _i, _len;\n\t\t\tsupported = getSupportedExtensions.call( this );\n\t\t\tresult = [];\n\t\t\tfor ( _i = 0, _len = supported.length; _i < _len; _i++ ) {\n\t\t\t\textension = supported[ _i ];\n\t\t\t\tmatch = extension.match( vendorRe );\n\t\t\t\tif ( match !== null ) {\n\t\t\t\t\textension = match[ 1 ];\n\t\t\t\t}\n\t\t\t\tif ( __indexOf.call( result, extension ) < 0 ) {\n\t\t\t\t\tresult.push( extension );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t} );\n\t}\n};\n\ntextureFloatShims = function () {\n\tvar checkColorBuffer,\n\t\tcheckFloatLinear,\n\t\tcheckSupport,\n\t\tcheckTexture,\n\t\tcreateSourceCanvas,\n\t\tgetExtension,\n\t\tgetSupportedExtensions,\n\t\tname,\n\t\tshimExtensions,\n\t\tshimLookup,\n\t\tunshimExtensions,\n\t\tunshimLookup,\n\t\t_i,\n\t\t_len;\n\tcreateSourceCanvas = function () {\n\t\tvar canvas, ctx, imageData;\n\t\tcanvas = document.createElement( 'canvas' );\n\t\tcanvas.width = 2;\n\t\tcanvas.height = 2;\n\t\tctx = canvas.getContext( '2d' );\n\t\timageData = ctx.getImageData( 0, 0, 2, 2 );\n\t\timageData.data.set(\n\t\t\tnew Uint8ClampedArray( [\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t\t255,\n\t\t\t] )\n\t\t);\n\t\tctx.putImageData( imageData, 0, 0 );\n\t\treturn canvas;\n\t};\n\tcreateSourceCanvas();\n\tcheckFloatLinear = function ( gl, sourceType ) {\n\t\tvar buffer,\n\t\t\tcleanup,\n\t\t\tfragmentShader,\n\t\t\tframebuffer,\n\t\t\tpositionLoc,\n\t\t\tprogram,\n\t\t\treadBuffer,\n\t\t\tresult,\n\t\t\tsource,\n\t\t\tsourceCanvas,\n\t\t\tsourceLoc,\n\t\t\ttarget,\n\t\t\tvertexShader,\n\t\t\tvertices;\n\t\tprogram = gl.createProgram();\n\t\tvertexShader = gl.createShader( gl.VERTEX_SHADER );\n\t\tgl.attachShader( program, vertexShader );\n\t\tgl.shaderSource(\n\t\t\tvertexShader,\n\t\t\t'attribute vec2 position;\\nvoid main(){\\n    gl_Position = vec4(position, 0.0, 1.0);\\n}'\n\t\t);\n\t\tgl.compileShader( vertexShader );\n\t\tif ( ! gl.getShaderParameter( vertexShader, gl.COMPILE_STATUS ) ) {\n\t\t\tthrow gl.getShaderInfoLog( vertexShader );\n\t\t}\n\t\tfragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\n\t\tgl.attachShader( program, fragmentShader );\n\t\tgl.shaderSource(\n\t\t\tfragmentShader,\n\t\t\t'uniform sampler2D source;\\nvoid main(){\\n    gl_FragColor = texture2D(source, vec2(1.0, 1.0));\\n}'\n\t\t);\n\t\tgl.compileShader( fragmentShader );\n\t\tif ( ! gl.getShaderParameter( fragmentShader, gl.COMPILE_STATUS ) ) {\n\t\t\tthrow gl.getShaderInfoLog( fragmentShader );\n\t\t}\n\t\tgl.linkProgram( program );\n\t\tif ( ! gl.getProgramParameter( program, gl.LINK_STATUS ) ) {\n\t\t\tthrow gl.getProgramInfoLog( program );\n\t\t}\n\t\tgl.useProgram( program );\n\t\tcleanup = function () {\n\t\t\tgl.deleteShader( fragmentShader );\n\t\t\tgl.deleteShader( vertexShader );\n\t\t\tgl.deleteProgram( program );\n\t\t\tgl.deleteBuffer( buffer );\n\t\t\tgl.deleteTexture( source );\n\t\t\tgl.deleteTexture( target );\n\t\t\tgl.deleteFramebuffer( framebuffer );\n\t\t\tgl.bindBuffer( gl.ARRAY_BUFFER, null );\n\t\t\tgl.useProgram( null );\n\t\t\tgl.bindTexture( gl.TEXTURE_2D, null );\n\t\t\treturn gl.bindFramebuffer( gl.FRAMEBUFFER, null );\n\t\t};\n\t\ttarget = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, target );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\t2,\n\t\t\t2,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\tgl.UNSIGNED_BYTE,\n\t\t\tnull\n\t\t);\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR );\n\t\tframebuffer = gl.createFramebuffer();\n\t\tgl.bindFramebuffer( gl.FRAMEBUFFER, framebuffer );\n\t\tgl.framebufferTexture2D(\n\t\t\tgl.FRAMEBUFFER,\n\t\t\tgl.COLOR_ATTACHMENT0,\n\t\t\tgl.TEXTURE_2D,\n\t\t\ttarget,\n\t\t\t0\n\t\t);\n\t\tsourceCanvas = createSourceCanvas();\n\t\tsource = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, source );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\tgl.RGBA,\n\t\t\tsourceType,\n\t\t\tsourceCanvas\n\t\t);\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR );\n\t\tvertices = new Float32Array( [\n\t\t\t1,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t-1,\n\t\t\t1,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t-1,\n\t\t\t1,\n\t\t\t-1,\n\t\t] );\n\t\tbuffer = gl.createBuffer();\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, buffer );\n\t\tgl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\n\t\tpositionLoc = gl.getAttribLocation( program, 'position' );\n\t\tsourceLoc = gl.getUniformLocation( program, 'source' );\n\t\tgl.enableVertexAttribArray( positionLoc );\n\t\tgl.vertexAttribPointer( positionLoc, 2, gl.FLOAT, false, 0, 0 );\n\t\tgl.uniform1i( sourceLoc, 0 );\n\t\tgl.drawArrays( gl.TRIANGLES, 0, 6 );\n\t\treadBuffer = new Uint8Array( 4 * 4 );\n\t\tgl.readPixels( 0, 0, 2, 2, gl.RGBA, gl.UNSIGNED_BYTE, readBuffer );\n\t\tresult = Math.abs( readBuffer[ 0 ] - 127 ) < 10;\n\t\tcleanup();\n\t\treturn result;\n\t};\n\tcheckTexture = function ( gl, targetType ) {\n\t\tvar target;\n\t\ttarget = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, target );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\t2,\n\t\t\t2,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\ttargetType,\n\t\t\tnull\n\t\t);\n\t\tif ( gl.getError() === 0 ) {\n\t\t\tgl.deleteTexture( target );\n\t\t\treturn true;\n\t\t} else {\n\t\t\tgl.deleteTexture( target );\n\t\t\treturn false;\n\t\t}\n\t};\n\tcheckColorBuffer = function ( gl, targetType ) {\n\t\tvar check, framebuffer, target;\n\t\ttarget = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, target );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\t2,\n\t\t\t2,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\ttargetType,\n\t\t\tnull\n\t\t);\n\t\tframebuffer = gl.createFramebuffer();\n\t\tgl.bindFramebuffer( gl.FRAMEBUFFER, framebuffer );\n\t\tgl.framebufferTexture2D(\n\t\t\tgl.FRAMEBUFFER,\n\t\t\tgl.COLOR_ATTACHMENT0,\n\t\t\tgl.TEXTURE_2D,\n\t\t\ttarget,\n\t\t\t0\n\t\t);\n\t\tcheck = gl.checkFramebufferStatus( gl.FRAMEBUFFER );\n\t\tgl.deleteTexture( target );\n\t\tgl.deleteFramebuffer( framebuffer );\n\t\tgl.bindTexture( gl.TEXTURE_2D, null );\n\t\tgl.bindFramebuffer( gl.FRAMEBUFFER, null );\n\t\tif ( check === gl.FRAMEBUFFER_COMPLETE ) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\tshimExtensions = [];\n\tshimLookup = {};\n\tunshimExtensions = [];\n\tcheckSupport = function () {\n\t\tvar canvas,\n\t\t\textobj,\n\t\t\tgl,\n\t\t\thalfFloatExt,\n\t\t\thalfFloatTexturing,\n\t\t\tsingleFloatExt,\n\t\t\tsingleFloatTexturing;\n\t\tcanvas = document.createElement( 'canvas' );\n\t\tgl = null;\n\t\ttry {\n\t\t\tgl = canvas.getContext( 'experimental-webgl' );\n\t\t\tif ( gl === null ) {\n\t\t\t\tgl = canvas.getContext( 'webgl' );\n\t\t\t}\n\t\t} catch ( _error ) {}\n\t\tif ( gl != null ) {\n\t\t\tsingleFloatExt = gl.getExtension( 'OES_texture_float' );\n\t\t\tif ( singleFloatExt === null ) {\n\t\t\t\tif ( checkTexture( gl, gl.FLOAT ) ) {\n\t\t\t\t\tsingleFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t\tshimLookup.OES_texture_float = {\n\t\t\t\t\t\tshim: true,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tsingleFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( checkTexture( gl, gl.FLOAT ) ) {\n\t\t\t\t\tsingleFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t} else {\n\t\t\t\t\tsingleFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( singleFloatTexturing ) {\n\t\t\t\textobj = gl.getExtension( 'WEBGL_color_buffer_float' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkColorBuffer( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t\tshimLookup.WEBGL_color_buffer_float = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t\tRGBA32F_EXT: 0x8814,\n\t\t\t\t\t\t\tRGB32F_EXT: 0x8815,\n\t\t\t\t\t\t\tFRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT: 0x8211,\n\t\t\t\t\t\t\tUNSIGNED_NORMALIZED_EXT: 0x8c17,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkColorBuffer( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\textobj = gl.getExtension( 'OES_texture_float_linear' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkFloatLinear( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t\tshimLookup.OES_texture_float_linear = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkFloatLinear( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\thalfFloatExt = gl.getExtension( 'OES_texture_half_float' );\n\t\t\tif ( halfFloatExt === null ) {\n\t\t\t\tif ( checkTexture( gl, 0x8d61 ) ) {\n\t\t\t\t\thalfFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t\thalfFloatExt = shimLookup.OES_texture_half_float = {\n\t\t\t\t\t\tHALF_FLOAT_OES: 0x8d61,\n\t\t\t\t\t\tshim: true,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\thalfFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( checkTexture( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\thalfFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t} else {\n\t\t\t\t\thalfFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( halfFloatTexturing ) {\n\t\t\t\textobj = gl.getExtension( 'EXT_color_buffer_half_float' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkColorBuffer( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t\tshimLookup.EXT_color_buffer_half_float = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t\tRGBA16F_EXT: 0x881a,\n\t\t\t\t\t\t\tRGB16F_EXT: 0x881b,\n\t\t\t\t\t\t\tFRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT: 0x8211,\n\t\t\t\t\t\t\tUNSIGNED_NORMALIZED_EXT: 0x8c17,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkColorBuffer( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\textobj = gl.getExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkFloatLinear( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'OES_texture_half_float_linear' );\n\t\t\t\t\t\treturn ( shimLookup.OES_texture_half_float_linear = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn unshimExtensions.push(\n\t\t\t\t\t\t\t'OES_texture_half_float_linear'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkFloatLinear( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\treturn shimExtensions.push(\n\t\t\t\t\t\t\t'OES_texture_half_float_linear'\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn unshimExtensions.push(\n\t\t\t\t\t\t\t'OES_texture_half_float_linear'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tif ( window.WebGLRenderingContext != null ) {\n\t\tcheckSupport();\n\t\tunshimLookup = {};\n\t\tfor ( _i = 0, _len = unshimExtensions.length; _i < _len; _i++ ) {\n\t\t\tname = unshimExtensions[ _i ];\n\t\t\tunshimLookup[ name ] = true;\n\t\t}\n\t\tgetExtension = WebGLRenderingContext.prototype.getExtension;\n\t\tWebGLRenderingContext.prototype.getExtension = function ( name ) {\n\t\t\tvar extobj;\n\t\t\textobj = shimLookup[ name ];\n\t\t\tif ( extobj === void 0 ) {\n\t\t\t\tif ( unshimLookup[ name ] ) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else {\n\t\t\t\t\treturn getExtension.call( this, name );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn extobj;\n\t\t\t}\n\t\t};\n\t\tgetSupportedExtensions =\n\t\t\tWebGLRenderingContext.prototype.getSupportedExtensions;\n\t\tWebGLRenderingContext.prototype.getSupportedExtensions = function () {\n\t\t\tvar extension, result, supported, _j, _k, _len1, _len2;\n\t\t\tsupported = getSupportedExtensions.call( this );\n\t\t\tresult = [];\n\t\t\tfor ( _j = 0, _len1 = supported.length; _j < _len1; _j++ ) {\n\t\t\t\textension = supported[ _j ];\n\t\t\t\tif ( unshimLookup[ extension ] === void 0 ) {\n\t\t\t\t\tresult.push( extension );\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( _k = 0, _len2 = shimExtensions.length; _k < _len2; _k++ ) {\n\t\t\t\textension = shimExtensions[ _k ];\n\t\t\t\tif ( __indexOf.call( result, extension ) < 0 ) {\n\t\t\t\t\tresult.push( extension );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\treturn ( WebGLRenderingContext.prototype.getFloatExtension = function (\n\t\t\tspec\n\t\t) {\n\t\t\tvar candidate,\n\t\t\t\tcandidates,\n\t\t\t\thalf,\n\t\t\t\thalfFramebuffer,\n\t\t\t\thalfLinear,\n\t\t\t\thalfTexture,\n\t\t\t\ti,\n\t\t\t\timportance,\n\t\t\t\tpreference,\n\t\t\t\tresult,\n\t\t\t\tsingle,\n\t\t\t\tsingleFramebuffer,\n\t\t\t\tsingleLinear,\n\t\t\t\tsingleTexture,\n\t\t\t\tuse,\n\t\t\t\t_j,\n\t\t\t\t_k,\n\t\t\t\t_l,\n\t\t\t\t_len1,\n\t\t\t\t_len2,\n\t\t\t\t_len3,\n\t\t\t\t_len4,\n\t\t\t\t_m,\n\t\t\t\t_ref,\n\t\t\t\t_ref1,\n\t\t\t\t_ref2;\n\t\t\tif ( spec.prefer == null ) {\n\t\t\t\tspec.prefer = [ 'half' ];\n\t\t\t}\n\t\t\tif ( spec.require == null ) {\n\t\t\t\tspec.require = [];\n\t\t\t}\n\t\t\tif ( spec.throws == null ) {\n\t\t\t\tspec.throws = true;\n\t\t\t}\n\t\t\tsingleTexture = this.getExtension( 'OES_texture_float' );\n\t\t\thalfTexture = this.getExtension( 'OES_texture_half_float' );\n\t\t\tsingleFramebuffer = this.getExtension( 'WEBGL_color_buffer_float' );\n\t\t\thalfFramebuffer = this.getExtension(\n\t\t\t\t'EXT_color_buffer_half_float'\n\t\t\t);\n\t\t\tsingleLinear = this.getExtension( 'OES_texture_float_linear' );\n\t\t\thalfLinear = this.getExtension( 'OES_texture_half_float_linear' );\n\t\t\tsingle = {\n\t\t\t\ttexture: singleTexture !== null,\n\t\t\t\tfilterable: singleLinear !== null,\n\t\t\t\trenderable: singleFramebuffer !== null,\n\t\t\t\tscore: 0,\n\t\t\t\tprecision: 'single',\n\t\t\t\thalf: false,\n\t\t\t\tsingle: true,\n\t\t\t\ttype: this.FLOAT,\n\t\t\t};\n\t\t\thalf = {\n\t\t\t\ttexture: halfTexture !== null,\n\t\t\t\tfilterable: halfLinear !== null,\n\t\t\t\trenderable: halfFramebuffer !== null,\n\t\t\t\tscore: 0,\n\t\t\t\tprecision: 'half',\n\t\t\t\thalf: true,\n\t\t\t\tsingle: false,\n\t\t\t\ttype:\n\t\t\t\t\t( _ref =\n\t\t\t\t\t\thalfTexture != null\n\t\t\t\t\t\t\t? halfTexture.HALF_FLOAT_OES\n\t\t\t\t\t\t\t: void 0 ) != null\n\t\t\t\t\t\t? _ref\n\t\t\t\t\t\t: null,\n\t\t\t};\n\t\t\tcandidates = [];\n\t\t\tif ( single.texture ) {\n\t\t\t\tcandidates.push( single );\n\t\t\t}\n\t\t\tif ( half.texture ) {\n\t\t\t\tcandidates.push( half );\n\t\t\t}\n\t\t\tresult = [];\n\t\t\tfor ( _j = 0, _len1 = candidates.length; _j < _len1; _j++ ) {\n\t\t\t\tcandidate = candidates[ _j ];\n\t\t\t\tuse = true;\n\t\t\t\t_ref1 = spec.require;\n\t\t\t\tfor ( _k = 0, _len2 = _ref1.length; _k < _len2; _k++ ) {\n\t\t\t\t\tname = _ref1[ _k ];\n\t\t\t\t\tif ( candidate[ name ] === false ) {\n\t\t\t\t\t\tuse = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( use ) {\n\t\t\t\t\tresult.push( candidate );\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( _l = 0, _len3 = result.length; _l < _len3; _l++ ) {\n\t\t\t\tcandidate = result[ _l ];\n\t\t\t\t_ref2 = spec.prefer;\n\t\t\t\tfor ( i = _m = 0, _len4 = _ref2.length; _m < _len4; i = ++_m ) {\n\t\t\t\t\tpreference = _ref2[ i ];\n\t\t\t\t\timportance = Math.pow( 2, spec.prefer.length - i - 1 );\n\t\t\t\t\tif ( candidate[ preference ] ) {\n\t\t\t\t\t\tcandidate.score += importance;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tresult.sort( function ( a, b ) {\n\t\t\t\tif ( a.score === b.score ) {\n\t\t\t\t\treturn 0;\n\t\t\t\t} else if ( a.score < b.score ) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if ( a.score > b.score ) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t} );\n\t\t\tif ( result.length === 0 ) {\n\t\t\t\tif ( spec.throws ) {\n\t\t\t\t\tthrow (\n\t\t\t\t\t\t'No floating point texture support that is ' +\n\t\t\t\t\t\tspec.require.join( ', ' )\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = result[ 0 ];\n\t\t\t\treturn {\n\t\t\t\t\tfilterable: result.filterable,\n\t\t\t\t\trenderable: result.renderable,\n\t\t\t\t\ttype: result.type,\n\t\t\t\t\tprecision: result.precision,\n\t\t\t\t};\n\t\t\t}\n\t\t} );\n\t}\n};\n\nnukeVendorPrefix();\n\ntextureFloatShims();\n\nShader = ( function () {\n\tfunction Shader( gl, _arg ) {\n\t\tvar fragment, vertex;\n\t\tthis.gl = gl;\n\t\t( vertex = _arg.vertex ), ( fragment = _arg.fragment );\n\t\tthis.program = this.gl.createProgram();\n\t\tthis.vs = this.gl.createShader( this.gl.VERTEX_SHADER );\n\t\tthis.fs = this.gl.createShader( this.gl.FRAGMENT_SHADER );\n\t\tthis.gl.attachShader( this.program, this.vs );\n\t\tthis.gl.attachShader( this.program, this.fs );\n\t\tthis.compileShader( this.vs, vertex );\n\t\tthis.compileShader( this.fs, fragment );\n\t\tthis.link();\n\t\tthis.value_cache = {};\n\t\tthis.uniform_cache = {};\n\t\tthis.attribCache = {};\n\t}\n\n\tShader.prototype.attribLocation = function ( name ) {\n\t\tvar location;\n\t\tlocation = this.attribCache[ name ];\n\t\tif ( location === void 0 ) {\n\t\t\tlocation = this.attribCache[ name ] = this.gl.getAttribLocation(\n\t\t\t\tthis.program,\n\t\t\t\tname\n\t\t\t);\n\t\t}\n\t\treturn location;\n\t};\n\n\tShader.prototype.compileShader = function ( shader, source ) {\n\t\tthis.gl.shaderSource( shader, source );\n\t\tthis.gl.compileShader( shader );\n\t\tif ( ! this.gl.getShaderParameter( shader, this.gl.COMPILE_STATUS ) ) {\n\t\t\tthrow 'Shader Compile Error: ' + this.gl.getShaderInfoLog( shader );\n\t\t}\n\t};\n\n\tShader.prototype.link = function () {\n\t\tthis.gl.linkProgram( this.program );\n\t\tif (\n\t\t\t! this.gl.getProgramParameter( this.program, this.gl.LINK_STATUS )\n\t\t) {\n\t\t\tthrow (\n\t\t\t\t'Shader Link Error: ' +\n\t\t\t\tthis.gl.getProgramInfoLog( this.program )\n\t\t\t);\n\t\t}\n\t};\n\n\tShader.prototype.use = function () {\n\t\tthis.gl.useProgram( this.program );\n\t\treturn this;\n\t};\n\n\tShader.prototype.uniformLoc = function ( name ) {\n\t\tvar location;\n\t\tlocation = this.uniform_cache[ name ];\n\t\tif ( location === void 0 ) {\n\t\t\tlocation = this.uniform_cache[ name ] = this.gl.getUniformLocation(\n\t\t\t\tthis.program,\n\t\t\t\tname\n\t\t\t);\n\t\t}\n\t\treturn location;\n\t};\n\n\tShader.prototype.int = function ( name, value ) {\n\t\tvar cached, loc;\n\t\tcached = this.value_cache[ name ];\n\t\tif ( cached !== value ) {\n\t\t\tthis.value_cache[ name ] = value;\n\t\t\tloc = this.uniformLoc( name );\n\t\t\tif ( loc ) {\n\t\t\t\tthis.gl.uniform1i( loc, value );\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\tShader.prototype.vec2 = function ( name, a, b ) {\n\t\tvar loc;\n\t\tloc = this.uniformLoc( name );\n\t\tif ( loc ) {\n\t\t\tthis.gl.uniform2f( loc, a, b );\n\t\t}\n\t\treturn this;\n\t};\n\n\tShader.prototype.float = function ( name, value ) {\n\t\tvar cached, loc;\n\t\tcached = this.value_cache[ name ];\n\t\tif ( cached !== value ) {\n\t\t\tthis.value_cache[ name ] = value;\n\t\t\tloc = this.uniformLoc( name );\n\t\t\tif ( loc ) {\n\t\t\t\tthis.gl.uniform1f( loc, value );\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\treturn Shader;\n} )();\n\nFramebuffer = ( function () {\n\tfunction Framebuffer( gl ) {\n\t\tthis.gl = gl;\n\t\tthis.buffer = this.gl.createFramebuffer();\n\t}\n\n\tFramebuffer.prototype.destroy = function () {\n\t\treturn this.gl.deleteFRamebuffer( this.buffer );\n\t};\n\n\tFramebuffer.prototype.bind = function () {\n\t\tthis.gl.bindFramebuffer( this.gl.FRAMEBUFFER, this.buffer );\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.unbind = function () {\n\t\tthis.gl.bindFramebuffer( this.gl.FRAMEBUFFER, null );\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.check = function () {\n\t\tvar result;\n\t\tresult = this.gl.checkFramebufferStatus( this.gl.FRAMEBUFFER );\n\t\tswitch ( result ) {\n\t\t\tcase this.gl.FRAMEBUFFER_UNSUPPORTED:\n\t\t\t\tthrow 'Framebuffer is unsupported';\n\t\t\t\tbreak;\n\t\t\tcase this.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:\n\t\t\t\tthrow 'Framebuffer incomplete attachment';\n\t\t\t\tbreak;\n\t\t\tcase this.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:\n\t\t\t\tthrow 'Framebuffer incomplete dimensions';\n\t\t\t\tbreak;\n\t\t\tcase this.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:\n\t\t\t\tthrow 'Framebuffer incomplete missing attachment';\n\t\t}\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.color = function ( texture ) {\n\t\tthis.gl.framebufferTexture2D(\n\t\t\tthis.gl.FRAMEBUFFER,\n\t\t\tthis.gl.COLOR_ATTACHMENT0,\n\t\t\ttexture.target,\n\t\t\ttexture.handle,\n\t\t\t0\n\t\t);\n\t\tthis.check();\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.depth = function ( buffer ) {\n\t\tthis.gl.framebufferRenderbuffer(\n\t\t\tthis.gl.FRAMEBUFFER,\n\t\t\tthis.gl.DEPTH_ATTACHMENT,\n\t\t\tthis.gl.RENDERBUFFER,\n\t\t\tbuffer.id\n\t\t);\n\t\tthis.check();\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.destroy = function () {\n\t\treturn this.gl.deleteFramebuffer( this.buffer );\n\t};\n\n\treturn Framebuffer;\n} )();\n\nTexture = ( function () {\n\tfunction Texture( gl, params ) {\n\t\tvar _ref, _ref1;\n\t\tthis.gl = gl;\n\t\tif ( params == null ) {\n\t\t\tparams = {};\n\t\t}\n\t\tthis.channels = this.gl[\n\t\t\t( ( _ref = params.channels ) != null ? _ref : 'rgba' ).toUpperCase()\n\t\t];\n\t\tif ( typeof params.type === 'number' ) {\n\t\t\tthis.type = params.type;\n\t\t} else {\n\t\t\tthis.type = this.gl[\n\t\t\t\t( ( _ref1 = params.type ) != null\n\t\t\t\t\t? _ref1\n\t\t\t\t\t: 'unsigned_byte'\n\t\t\t\t).toUpperCase()\n\t\t\t];\n\t\t}\n\t\tswitch ( this.channels ) {\n\t\t\tcase this.gl.RGBA:\n\t\t\t\tthis.chancount = 4;\n\t\t\t\tbreak;\n\t\t\tcase this.gl.RGB:\n\t\t\t\tthis.chancount = 3;\n\t\t\t\tbreak;\n\t\t\tcase this.gl.LUMINANCE_ALPHA:\n\t\t\t\tthis.chancount = 2;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.chancount = 1;\n\t\t}\n\t\tthis.target = this.gl.TEXTURE_2D;\n\t\tthis.handle = this.gl.createTexture();\n\t}\n\n\tTexture.prototype.destroy = function () {\n\t\treturn this.gl.deleteTexture( this.handle );\n\t};\n\n\tTexture.prototype.bind = function ( unit ) {\n\t\tif ( unit == null ) {\n\t\t\tunit = 0;\n\t\t}\n\t\tif ( unit > 15 ) {\n\t\t\tthrow 'Texture unit too large: ' + unit;\n\t\t}\n\t\tthis.gl.activeTexture( this.gl.TEXTURE0 + unit );\n\t\tthis.gl.bindTexture( this.target, this.handle );\n\t\treturn this;\n\t};\n\n\tTexture.prototype.setSize = function ( width, height ) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.gl.texImage2D(\n\t\t\tthis.target,\n\t\t\t0,\n\t\t\tthis.channels,\n\t\t\tthis.width,\n\t\t\tthis.height,\n\t\t\t0,\n\t\t\tthis.channels,\n\t\t\tthis.type,\n\t\t\tnull\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.upload = function ( data ) {\n\t\tthis.width = data.width;\n\t\tthis.height = data.height;\n\t\tthis.gl.texImage2D(\n\t\t\tthis.target,\n\t\t\t0,\n\t\t\tthis.channels,\n\t\t\tthis.channels,\n\t\t\tthis.type,\n\t\t\tdata\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.linear = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MAG_FILTER,\n\t\t\tthis.gl.LINEAR\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MIN_FILTER,\n\t\t\tthis.gl.LINEAR\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.nearest = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MAG_FILTER,\n\t\t\tthis.gl.NEAREST\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MIN_FILTER,\n\t\t\tthis.gl.NEAREST\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.clampToEdge = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_S,\n\t\t\tthis.gl.CLAMP_TO_EDGE\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_T,\n\t\t\tthis.gl.CLAMP_TO_EDGE\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.repeat = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_S,\n\t\t\tthis.gl.REPEAT\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_T,\n\t\t\tthis.gl.REPEAT\n\t\t);\n\t\treturn this;\n\t};\n\n\treturn Texture;\n} )();\n\nNode = ( function () {\n\tfunction Node( gl, width, height ) {\n\t\tvar floatExt;\n\t\tthis.gl = gl;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tfloatExt = this.gl.getFloatExtension( {\n\t\t\trequire: [ 'renderable' ],\n\t\t} );\n\t\tthis.texture = new Texture( this.gl, {\n\t\t\ttype: floatExt.type,\n\t\t} )\n\t\t\t.bind( 0 )\n\t\t\t.setSize( this.width, this.height )\n\t\t\t.nearest()\n\t\t\t.clampToEdge();\n\t\tthis.fbo = new Framebuffer( this.gl )\n\t\t\t.bind()\n\t\t\t.color( this.texture )\n\t\t\t.unbind();\n\t}\n\n\tNode.prototype.use = function () {\n\t\treturn this.fbo.bind();\n\t};\n\n\tNode.prototype.bind = function ( unit ) {\n\t\treturn this.texture.bind( unit );\n\t};\n\n\tNode.prototype.end = function () {\n\t\treturn this.fbo.unbind();\n\t};\n\n\tNode.prototype.resize = function ( width, height ) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this.texture.bind( 0 ).setSize( this.width, this.height );\n\t};\n\n\treturn Node;\n} )();\n\nvertexShaderBlit =\n\t'attribute vec4 position;\\nvarying vec2 texcoord;\\nvoid main(){\\n    texcoord = position.xy*0.5+0.5;\\n    gl_Position = position;\\n}';\n\nfragmentShaderBlit =\n\t'#ifdef GL_FRAGMENT_PRECISION_HIGH\\n    precision highp int;\\n    precision highp float;\\n#else\\n    precision mediump int;\\n    precision mediump float;\\n#endif\\nuniform sampler2D source;\\nvarying vec2 texcoord;';\n\nHeights = ( function () {\n\tfunction Heights( heatmap, gl, width, height ) {\n\t\tvar i, _i, _ref;\n\t\tthis.heatmap = heatmap;\n\t\tthis.gl = gl;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.shader = new Shader( this.gl, {\n\t\t\tvertex:\n\t\t\t\t'attribute vec4 position, intensity;\\nvarying vec2 off, dim;\\nvarying float vIntensity;\\nuniform vec2 viewport;\\n\\nvoid main(){\\n    dim = abs(position.zw);\\n    off = position.zw;\\n    vec2 pos = position.xy + position.zw;\\n    vIntensity = intensity.x;\\n    gl_Position = vec4((pos/viewport)*2.0-1.0, 0.0, 1.0);\\n}',\n\t\t\tfragment:\n\t\t\t\t'#ifdef GL_FRAGMENT_PRECISION_HIGH\\n    precision highp int;\\n    precision highp float;\\n#else\\n    precision mediump int;\\n    precision mediump float;\\n#endif\\nvarying vec2 off, dim;\\nvarying float vIntensity;\\nvoid main(){\\n    float falloff = (1.0 - smoothstep(0.0, 1.0, length(off/dim)));\\n    float intensity = falloff*vIntensity;\\n    gl_FragColor = vec4(intensity);\\n}',\n\t\t} );\n\t\tthis.clampShader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t'uniform float low, high;\\nvoid main(){\\n    gl_FragColor = vec4(clamp(texture2D(source, texcoord).rgb, low, high), 1.0);\\n}',\n\t\t} );\n\t\tthis.multiplyShader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t'uniform float value;\\nvoid main(){\\n    gl_FragColor = vec4(texture2D(source, texcoord).rgb*value, 1.0);\\n}',\n\t\t} );\n\t\tthis.blurShader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t'uniform vec2 viewport;\\nvoid main(){\\n    vec4 result = vec4(0.0);\\n    for(int x=-1; x<=1; x++){\\n        for(int y=-1; y<=1; y++){\\n            vec2 off = vec2(x,y)/viewport;\\n            //float factor = 1.0 - smoothstep(0.0, 1.5, length(off));\\n            float factor = 1.0;\\n            result += vec4(texture2D(source, texcoord+off).rgb*factor, factor);\\n        }\\n    }\\n    gl_FragColor = vec4(result.rgb/result.w, 1.0);\\n}',\n\t\t} );\n\t\tthis.nodeBack = new Node( this.gl, this.width, this.height );\n\t\tthis.nodeFront = new Node( this.gl, this.width, this.height );\n\t\tthis.vertexBuffer = this.gl.createBuffer();\n\t\tthis.vertexSize = 8;\n\t\tthis.maxPointCount = 1024 * 10;\n\t\tthis.vertexBufferData = new Float32Array(\n\t\t\tthis.maxPointCount * this.vertexSize * 6\n\t\t);\n\t\tthis.vertexBufferViews = [];\n\t\tfor (\n\t\t\ti = _i = 0, _ref = this.maxPointCount;\n\t\t\t0 <= _ref ? _i < _ref : _i > _ref;\n\t\t\ti = 0 <= _ref ? ++_i : --_i\n\t\t) {\n\t\t\tthis.vertexBufferViews.push(\n\t\t\t\tnew Float32Array(\n\t\t\t\t\tthis.vertexBufferData.buffer,\n\t\t\t\t\t0,\n\t\t\t\t\ti * this.vertexSize * 6\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tthis.bufferIndex = 0;\n\t\tthis.pointCount = 0;\n\t}\n\n\tHeights.prototype.resize = function ( width, height ) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.nodeBack.resize( this.width, this.height );\n\t\treturn this.nodeFront.resize( this.width, this.height );\n\t};\n\n\tHeights.prototype.update = function () {\n\t\tvar intensityLoc, positionLoc;\n\t\tif ( this.pointCount > 0 ) {\n\t\t\tthis.gl.enable( this.gl.BLEND );\n\t\t\tthis.nodeFront.use();\n\t\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.vertexBuffer );\n\t\t\tthis.gl.bufferData(\n\t\t\t\tthis.gl.ARRAY_BUFFER,\n\t\t\t\tthis.vertexBufferViews[ this.pointCount ],\n\t\t\t\tthis.gl.STREAM_DRAW\n\t\t\t);\n\t\t\tpositionLoc = this.shader.attribLocation( 'position' );\n\t\t\tintensityLoc = this.shader.attribLocation( 'intensity' );\n\t\t\tthis.gl.enableVertexAttribArray( 1 );\n\t\t\tthis.gl.vertexAttribPointer(\n\t\t\t\tpositionLoc,\n\t\t\t\t4,\n\t\t\t\tthis.gl.FLOAT,\n\t\t\t\tfalse,\n\t\t\t\t8 * 4,\n\t\t\t\t0 * 4\n\t\t\t);\n\t\t\tthis.gl.vertexAttribPointer(\n\t\t\t\tintensityLoc,\n\t\t\t\t4,\n\t\t\t\tthis.gl.FLOAT,\n\t\t\t\tfalse,\n\t\t\t\t8 * 4,\n\t\t\t\t4 * 4\n\t\t\t);\n\t\t\tthis.shader.use().vec2( 'viewport', this.width, this.height );\n\t\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, this.pointCount * 6 );\n\t\t\tthis.gl.disableVertexAttribArray( 1 );\n\t\t\tthis.pointCount = 0;\n\t\t\tthis.bufferIndex = 0;\n\t\t\tthis.nodeFront.end();\n\t\t\treturn this.gl.disable( this.gl.BLEND );\n\t\t}\n\t};\n\n\tHeights.prototype.clear = function () {\n\t\tthis.nodeFront.use();\n\t\tthis.gl.clearColor( 0, 0, 0, 1 );\n\t\tthis.gl.clear( this.gl.COLOR_BUFFER_BIT );\n\t\treturn this.nodeFront.end();\n\t};\n\n\tHeights.prototype.clamp = function ( min, max ) {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.heatmap.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.nodeFront.bind( 0 );\n\t\tthis.nodeBack.use();\n\t\tthis.clampShader\n\t\t\t.use()\n\t\t\t.int( 'source', 0 )\n\t\t\t.float( 'low', min )\n\t\t\t.float( 'high', max );\n\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t\tthis.nodeBack.end();\n\t\treturn this.swap();\n\t};\n\n\tHeights.prototype.multiply = function ( value ) {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.heatmap.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.nodeFront.bind( 0 );\n\t\tthis.nodeBack.use();\n\t\tthis.multiplyShader.use().int( 'source', 0 ).float( 'value', value );\n\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t\tthis.nodeBack.end();\n\t\treturn this.swap();\n\t};\n\n\tHeights.prototype.blur = function () {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.heatmap.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.nodeFront.bind( 0 );\n\t\tthis.nodeBack.use();\n\t\tthis.blurShader\n\t\t\t.use()\n\t\t\t.int( 'source', 0 )\n\t\t\t.vec2( 'viewport', this.width, this.height );\n\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t\tthis.nodeBack.end();\n\t\treturn this.swap();\n\t};\n\n\tHeights.prototype.swap = function () {\n\t\tvar tmp;\n\t\ttmp = this.nodeFront;\n\t\tthis.nodeFront = this.nodeBack;\n\t\treturn ( this.nodeBack = tmp );\n\t};\n\n\tHeights.prototype.addVertex = function ( x, y, xs, ys, intensity ) {\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = x;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = y;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = xs;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = ys;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = intensity;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = intensity;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = intensity;\n\t\treturn ( this.vertexBufferData[ this.bufferIndex++ ] = intensity );\n\t};\n\n\tHeights.prototype.addPoint = function ( x, y, size, intensity ) {\n\t\tvar s;\n\t\tif ( size == null ) {\n\t\t\tsize = 50;\n\t\t}\n\t\tif ( intensity == null ) {\n\t\t\tintensity = 0.2;\n\t\t}\n\t\tif ( this.pointCount >= this.maxPointCount - 1 ) {\n\t\t\tthis.update();\n\t\t}\n\t\ty = this.height - y;\n\t\ts = size / 2;\n\t\tthis.addVertex( x, y, -s, -s, intensity );\n\t\tthis.addVertex( x, y, +s, -s, intensity );\n\t\tthis.addVertex( x, y, -s, +s, intensity );\n\t\tthis.addVertex( x, y, -s, +s, intensity );\n\t\tthis.addVertex( x, y, +s, -s, intensity );\n\t\tthis.addVertex( x, y, +s, +s, intensity );\n\t\treturn ( this.pointCount += 1 );\n\t};\n\n\treturn Heights;\n} )();\n\nWebGLHeatmap = ( function () {\n\tfunction WebGLHeatmap( _arg ) {\n\t\tvar alphaEnd,\n\t\t\talphaRange,\n\t\t\talphaStart,\n\t\t\terror,\n\t\t\tgetColorFun,\n\t\t\tgradientTexture,\n\t\t\timage,\n\t\t\tintensityToAlpha,\n\t\t\toutput,\n\t\t\tquad,\n\t\t\ttextureGradient,\n\t\t\t_ref,\n\t\t\t_ref1;\n\t\t( _ref = _arg != null ? _arg : {} ),\n\t\t\t( this.canvas = _ref.canvas ),\n\t\t\t( this.width = _ref.width ),\n\t\t\t( this.height = _ref.height ),\n\t\t\t( intensityToAlpha = _ref.intensityToAlpha ),\n\t\t\t( gradientTexture = _ref.gradientTexture ),\n\t\t\t( alphaRange = _ref.alphaRange );\n\t\tif ( ! this.canvas ) {\n\t\t\tthis.canvas = document.createElement( 'canvas' );\n\t\t}\n\t\ttry {\n\t\t\tthis.gl = this.canvas.getContext( 'experimental-webgl', {\n\t\t\t\tdepth: false,\n\t\t\t\tantialias: false,\n\t\t\t} );\n\t\t\tif ( this.gl === null ) {\n\t\t\t\tthis.gl = this.canvas.getContext( 'webgl', {\n\t\t\t\t\tdepth: false,\n\t\t\t\t\tantialias: false,\n\t\t\t\t} );\n\t\t\t\tif ( this.gl === null ) {\n\t\t\t\t\tthrow 'WebGL not supported';\n\t\t\t\t}\n\t\t\t}\n\t\t} catch ( _error ) {\n\t\t\terror = _error;\n\t\t\tthrow 'WebGL not supported';\n\t\t}\n\t\tif ( window.WebGLDebugUtils != null ) {\n\t\t\tconsole.log( 'debugging mode' ); // eslint-disable-line\n\t\t\tthis.gl = WebGLDebugUtils.makeDebugContext(\n\t\t\t\tthis.gl,\n\t\t\t\tfunction ( err, funcName, args ) {\n\t\t\t\t\tthrow (\n\t\t\t\t\t\tWebGLDebugUtils.glEnumToString( err ) +\n\t\t\t\t\t\t' was caused by call to: ' +\n\t\t\t\t\t\tfuncName\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tthis.gl.enableVertexAttribArray( 0 );\n\t\tthis.gl.blendFunc( this.gl.ONE, this.gl.ONE );\n\t\tif ( gradientTexture ) {\n\t\t\ttextureGradient = this.gradientTexture = new Texture( this.gl, {\n\t\t\t\tchannels: 'rgba',\n\t\t\t} )\n\t\t\t\t.bind( 0 )\n\t\t\t\t.setSize( 2, 2 )\n\t\t\t\t.nearest()\n\t\t\t\t.clampToEdge();\n\t\t\tif ( typeof gradientTexture === 'string' ) {\n\t\t\t\timage = new Image();\n\t\t\t\timage.onload = function () {\n\t\t\t\t\treturn textureGradient.bind().upload( image );\n\t\t\t\t};\n\t\t\t\timage.src = gradientTexture;\n\t\t\t} else {\n\t\t\t\tif ( gradientTexture.width > 0 && gradientTexture.height > 0 ) {\n\t\t\t\t\ttextureGradient.upload( gradientTexture );\n\t\t\t\t} else {\n\t\t\t\t\tgradientTexture.onload = function () {\n\t\t\t\t\t\treturn textureGradient.upload( gradientTexture );\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tgetColorFun =\n\t\t\t\t'uniform sampler2D gradientTexture;\\nvec3 getColor(float intensity){\\n    return texture2D(gradientTexture, vec2(intensity, 0.0)).rgb;\\n}';\n\t\t} else {\n\t\t\ttextureGradient = null;\n\t\t\tgetColorFun =\n\t\t\t\t'vec3 getColor(float intensity){\\n    vec3 blue = vec3(0.0, 0.0, 1.0);\\n    vec3 cyan = vec3(0.0, 1.0, 1.0);\\n    vec3 green = vec3(0.0, 1.0, 0.0);\\n    vec3 yellow = vec3(1.0, 1.0, 0.0);\\n    vec3 red = vec3(1.0, 0.0, 0.0);\\n\\n    vec3 color = (\\n        fade(-0.25, 0.25, intensity)*blue +\\n        fade(0.0, 0.5, intensity)*cyan +\\n        fade(0.25, 0.75, intensity)*green +\\n        fade(0.5, 1.0, intensity)*yellow +\\n        smoothstep(0.75, 1.0, intensity)*red\\n    );\\n    return color;\\n}';\n\t\t}\n\t\tif ( intensityToAlpha == null ) {\n\t\t\tintensityToAlpha = true;\n\t\t}\n\t\tif ( intensityToAlpha ) {\n\t\t\t( _ref1 = alphaRange != null ? alphaRange : [ 0, 1 ] ),\n\t\t\t\t( alphaStart = _ref1[ 0 ] ),\n\t\t\t\t( alphaEnd = _ref1[ 1 ] );\n\t\t\toutput =\n\t\t\t\t'vec4 alphaFun(vec3 color, float intensity){\\n    float alpha = smoothstep(' +\n\t\t\t\talphaStart.toFixed( 8 ) +\n\t\t\t\t', ' +\n\t\t\t\talphaEnd.toFixed( 8 ) +\n\t\t\t\t', intensity);\\n    return vec4(color*alpha, alpha);\\n}';\n\t\t} else {\n\t\t\toutput =\n\t\t\t\t'vec4 alphaFun(vec3 color, float intensity){\\n    return vec4(color, 1.0);\\n}';\n\t\t}\n\t\tthis.shader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t( 'float linstep(float low, float high, float value){\\n    return clamp((value-low)/(high-low), 0.0, 1.0);\\n}\\n\\nfloat fade(float low, float high, float value){\\n    float mid = (low+high)*0.5;\\n    float range = (high-low)*0.5;\\n    float x = 1.0 - clamp(abs(mid-value)/range, 0.0, 1.0);\\n    return smoothstep(0.0, 1.0, x);\\n}\\n\\n' +\n\t\t\t\t\tgetColorFun +\n\t\t\t\t\t'\\n' +\n\t\t\t\t\toutput +\n\t\t\t\t\t'\\n\\nvoid main(){\\n    float intensity = smoothstep(0.0, 1.0, texture2D(source, texcoord).r);\\n    vec3 color = getColor(intensity);\\n    gl_FragColor = alphaFun(color, intensity);\\n}' ),\n\t\t} );\n\t\tif ( this.width == null ) {\n\t\t\tthis.width = this.canvas.offsetWidth || 2;\n\t\t}\n\t\tif ( this.height == null ) {\n\t\t\tthis.height = this.canvas.offsetHeight || 2;\n\t\t}\n\t\tthis.canvas.width = this.width;\n\t\tthis.canvas.height = this.height;\n\t\tthis.gl.viewport( 0, 0, this.width, this.height );\n\t\tthis.quad = this.gl.createBuffer();\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.quad );\n\t\tquad = new Float32Array( [\n\t\t\t-1,\n\t\t\t-1,\n\t\t\t0,\n\t\t\t1,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t0,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t1,\n\t\t\t0,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t1,\n\t\t\t0,\n\t\t\t1,\n\t\t\t1,\n\t\t\t-1,\n\t\t\t0,\n\t\t\t1,\n\t\t\t1,\n\t\t\t1,\n\t\t\t0,\n\t\t\t1,\n\t\t] );\n\t\tthis.gl.bufferData( this.gl.ARRAY_BUFFER, quad, this.gl.STATIC_DRAW );\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, null );\n\t\tthis.heights = new Heights( this, this.gl, this.width, this.height );\n\t}\n\n\tWebGLHeatmap.prototype.adjustSize = function () {\n\t\tvar canvasHeight, canvasWidth;\n\t\tcanvasWidth = this.canvas.offsetWidth || 2;\n\t\tcanvasHeight = this.canvas.offsetHeight || 2;\n\t\tif ( this.width !== canvasWidth || this.height !== canvasHeight ) {\n\t\t\tthis.gl.viewport( 0, 0, canvasWidth, canvasHeight );\n\t\t\tthis.canvas.width = canvasWidth;\n\t\t\tthis.canvas.height = canvasHeight;\n\t\t\tthis.width = canvasWidth;\n\t\t\tthis.height = canvasHeight;\n\t\t\treturn this.heights.resize( this.width, this.height );\n\t\t}\n\t};\n\n\tWebGLHeatmap.prototype.display = function () {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.heights.nodeFront.bind( 0 );\n\t\tif ( this.gradientTexture ) {\n\t\t\tthis.gradientTexture.bind( 1 );\n\t\t}\n\t\tthis.shader.use().int( 'source', 0 ).int( 'gradientTexture', 1 );\n\t\treturn this.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t};\n\n\tWebGLHeatmap.prototype.update = function () {\n\t\treturn this.heights.update();\n\t};\n\n\tWebGLHeatmap.prototype.clear = function () {\n\t\treturn this.heights.clear();\n\t};\n\n\tWebGLHeatmap.prototype.clamp = function ( min, max ) {\n\t\tif ( min == null ) {\n\t\t\tmin = 0;\n\t\t}\n\t\tif ( max == null ) {\n\t\t\tmax = 1;\n\t\t}\n\t\treturn this.heights.clamp( min, max );\n\t};\n\n\tWebGLHeatmap.prototype.multiply = function ( value ) {\n\t\tif ( value == null ) {\n\t\t\tvalue = 0.95;\n\t\t}\n\t\treturn this.heights.multiply( value );\n\t};\n\n\tWebGLHeatmap.prototype.blur = function () {\n\t\treturn this.heights.blur();\n\t};\n\n\tWebGLHeatmap.prototype.addPoint = function ( x, y, size, intensity ) {\n\t\treturn this.heights.addPoint( x, y, size, intensity );\n\t};\n\n\tWebGLHeatmap.prototype.addPoints = function ( items ) {\n\t\tvar item, _i, _len, _results;\n\t\t_results = [];\n\t\tfor ( _i = 0, _len = items.length; _i < _len; _i++ ) {\n\t\t\titem = items[ _i ];\n\t\t\t_results.push(\n\t\t\t\tthis.addPoint( item.x, item.y, item.size, item.intensity )\n\t\t\t);\n\t\t}\n\t\treturn _results;\n\t};\n\n\treturn WebGLHeatmap;\n} )();\n\nexport function createWebGLHeatmap( params ) {\n\treturn new WebGLHeatmap( params );\n}\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n/* eslint-disable no-bitwise -- used for calculations */\n\n/* eslint-disable unicorn/prefer-query-selector -- aiming at\n  backward-compatibility */\n\n/**\n* StackBlur - a fast almost Gaussian Blur For Canvas\n*\n* In case you find this class useful - especially in commercial projects -\n* I am not totally unhappy for a small donation to my PayPal account\n* mario@quasimondo.de\n*\n* Or support me on flattr:\n* {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.\n*\n* @module StackBlur\n* @author Mario Klingemann\n* Contact: mario@quasimondo.com\n* Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}\n* Twitter: @quasimondo\n*\n* @copyright (c) 2010 Mario Klingemann\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\nvar mulTable = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];\nvar shgTable = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];\n/**\n * @param {string|HTMLImageElement} img\n * @param {string|HTMLCanvasElement} canvas\n * @param {Float} radius\n * @param {boolean} blurAlphaChannel\n * @param {boolean} useOffset\n * @param {boolean} skipStyles\n * @returns {undefined}\n */\n\nfunction processImage(img, canvas, radius, blurAlphaChannel, useOffset, skipStyles) {\n  if (typeof img === 'string') {\n    img = document.getElementById(img);\n  }\n\n  if (!img || !('naturalWidth' in img)) {\n    return;\n  }\n\n  var dimensionType = useOffset ? 'offset' : 'natural';\n  var w = img[dimensionType + 'Width'];\n  var h = img[dimensionType + 'Height'];\n\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || !('getContext' in canvas)) {\n    return;\n  }\n\n  if (!skipStyles) {\n    canvas.style.width = w + 'px';\n    canvas.style.height = h + 'px';\n  }\n\n  canvas.width = w;\n  canvas.height = h;\n  var context = canvas.getContext('2d');\n  context.clearRect(0, 0, w, h);\n  context.drawImage(img, 0, 0, img.naturalWidth, img.naturalHeight, 0, 0, w, h);\n\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  if (blurAlphaChannel) {\n    processCanvasRGBA(canvas, 0, 0, w, h, radius);\n  } else {\n    processCanvasRGB(canvas, 0, 0, w, h, radius);\n  }\n}\n/**\n * @param {string|HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @throws {Error|TypeError}\n * @returns {ImageData} See {@link https://html.spec.whatwg.org/multipage/canvas.html#imagedata}\n */\n\n\nfunction getImageDataFromCanvas(canvas, topX, topY, width, height) {\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || _typeof(canvas) !== 'object' || !('getContext' in canvas)) {\n    throw new TypeError('Expecting canvas with `getContext` method ' + 'in processCanvasRGB(A) calls!');\n  }\n\n  var context = canvas.getContext('2d');\n\n  try {\n    return context.getImageData(topX, topY, width, height);\n  } catch (e) {\n    throw new Error('unable to access image data: ' + e);\n  }\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGBA(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGBA(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGBA(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null,\n      stackOut = null,\n      yw = 0,\n      yi = 0;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n\n  for (var y = 0; y < height; y++) {\n    stack = stackStart;\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        pa = pixels[yi + 3];\n\n    for (var _i = 0; _i < radiusPlus1; _i++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0,\n        aInSum = 0,\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        aOutSum = radiusPlus1 * pa,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb,\n        aSum = sumFactor * pa;\n\n    for (var _i2 = 1; _i2 < radiusPlus1; _i2++) {\n      var p = yi + ((widthMinus1 < _i2 ? widthMinus1 : _i2) << 2);\n      var r = pixels[p],\n          g = pixels[p + 1],\n          b = pixels[p + 2],\n          a = pixels[p + 3];\n      var rbs = radiusPlus1 - _i2;\n      rSum += (stack.r = r) * rbs;\n      gSum += (stack.g = g) * rbs;\n      bSum += (stack.b = b) * rbs;\n      aSum += (stack.a = a) * rbs;\n      rInSum += r;\n      gInSum += g;\n      bInSum += b;\n      aInSum += a;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      var paInitial = aSum * mulSum >> shgSum;\n      pixels[yi + 3] = paInitial;\n\n      if (paInitial !== 0) {\n        var _a2 = 255 / paInitial;\n\n        pixels[yi] = (rSum * mulSum >> shgSum) * _a2;\n        pixels[yi + 1] = (gSum * mulSum >> shgSum) * _a2;\n        pixels[yi + 2] = (bSum * mulSum >> shgSum) * _a2;\n      } else {\n        pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n      }\n\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      aSum -= aOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      aOutSum -= stackIn.a;\n\n      var _p = x + radius + 1;\n\n      _p = yw + (_p < widthMinus1 ? _p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[_p];\n      gInSum += stackIn.g = pixels[_p + 1];\n      bInSum += stackIn.b = pixels[_p + 2];\n      aInSum += stackIn.a = pixels[_p + 3];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      aSum += aInSum;\n      stackIn = stackIn.next;\n      var _stackOut = stackOut,\n          _r = _stackOut.r,\n          _g = _stackOut.g,\n          _b = _stackOut.b,\n          _a = _stackOut.a;\n      rOutSum += _r;\n      gOutSum += _g;\n      bOutSum += _b;\n      aOutSum += _a;\n      rInSum -= _r;\n      gInSum -= _g;\n      bInSum -= _b;\n      aInSum -= _a;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x = 0; _x < width; _x++) {\n    yi = _x << 2;\n\n    var _pr = pixels[yi],\n        _pg = pixels[yi + 1],\n        _pb = pixels[yi + 2],\n        _pa = pixels[yi + 3],\n        _rOutSum = radiusPlus1 * _pr,\n        _gOutSum = radiusPlus1 * _pg,\n        _bOutSum = radiusPlus1 * _pb,\n        _aOutSum = radiusPlus1 * _pa,\n        _rSum = sumFactor * _pr,\n        _gSum = sumFactor * _pg,\n        _bSum = sumFactor * _pb,\n        _aSum = sumFactor * _pa;\n\n    stack = stackStart;\n\n    for (var _i3 = 0; _i3 < radiusPlus1; _i3++) {\n      stack.r = _pr;\n      stack.g = _pg;\n      stack.b = _pb;\n      stack.a = _pa;\n      stack = stack.next;\n    }\n\n    var yp = width;\n    var _gInSum = 0,\n        _bInSum = 0,\n        _aInSum = 0,\n        _rInSum = 0;\n\n    for (var _i4 = 1; _i4 <= radius; _i4++) {\n      yi = yp + _x << 2;\n\n      var _rbs = radiusPlus1 - _i4;\n\n      _rSum += (stack.r = _pr = pixels[yi]) * _rbs;\n      _gSum += (stack.g = _pg = pixels[yi + 1]) * _rbs;\n      _bSum += (stack.b = _pb = pixels[yi + 2]) * _rbs;\n      _aSum += (stack.a = _pa = pixels[yi + 3]) * _rbs;\n      _rInSum += _pr;\n      _gInSum += _pg;\n      _bInSum += _pb;\n      _aInSum += _pa;\n      stack = stack.next;\n\n      if (_i4 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y = 0; _y < height; _y++) {\n      var _p2 = yi << 2;\n\n      pixels[_p2 + 3] = _pa = _aSum * mulSum >> shgSum;\n\n      if (_pa > 0) {\n        _pa = 255 / _pa;\n        pixels[_p2] = (_rSum * mulSum >> shgSum) * _pa;\n        pixels[_p2 + 1] = (_gSum * mulSum >> shgSum) * _pa;\n        pixels[_p2 + 2] = (_bSum * mulSum >> shgSum) * _pa;\n      } else {\n        pixels[_p2] = pixels[_p2 + 1] = pixels[_p2 + 2] = 0;\n      }\n\n      _rSum -= _rOutSum;\n      _gSum -= _gOutSum;\n      _bSum -= _bOutSum;\n      _aSum -= _aOutSum;\n      _rOutSum -= stackIn.r;\n      _gOutSum -= stackIn.g;\n      _bOutSum -= stackIn.b;\n      _aOutSum -= stackIn.a;\n      _p2 = _x + ((_p2 = _y + radiusPlus1) < heightMinus1 ? _p2 : heightMinus1) * width << 2;\n      _rSum += _rInSum += stackIn.r = pixels[_p2];\n      _gSum += _gInSum += stackIn.g = pixels[_p2 + 1];\n      _bSum += _bInSum += stackIn.b = pixels[_p2 + 2];\n      _aSum += _aInSum += stackIn.a = pixels[_p2 + 3];\n      stackIn = stackIn.next;\n      _rOutSum += _pr = stackOut.r;\n      _gOutSum += _pg = stackOut.g;\n      _bOutSum += _pb = stackOut.b;\n      _aOutSum += _pa = stackOut.a;\n      _rInSum -= _pr;\n      _gInSum -= _pg;\n      _bInSum -= _pb;\n      _aInSum -= _pa;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGB(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGB(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGB(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null;\n  var stackOut = null;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n  var p, rbs;\n  var yw = 0,\n      yi = 0;\n\n  for (var y = 0; y < height; y++) {\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb;\n    stack = stackStart;\n\n    for (var _i5 = 0; _i5 < radiusPlus1; _i5++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0;\n\n    for (var _i6 = 1; _i6 < radiusPlus1; _i6++) {\n      p = yi + ((widthMinus1 < _i6 ? widthMinus1 : _i6) << 2);\n      rSum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - _i6);\n      gSum += (stack.g = pg = pixels[p + 1]) * rbs;\n      bSum += (stack.b = pb = pixels[p + 2]) * rbs;\n      rInSum += pr;\n      gInSum += pg;\n      bInSum += pb;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      pixels[yi] = rSum * mulSum >> shgSum;\n      pixels[yi + 1] = gSum * mulSum >> shgSum;\n      pixels[yi + 2] = bSum * mulSum >> shgSum;\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[p];\n      gInSum += stackIn.g = pixels[p + 1];\n      bInSum += stackIn.b = pixels[p + 2];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      stackIn = stackIn.next;\n      rOutSum += pr = stackOut.r;\n      gOutSum += pg = stackOut.g;\n      bOutSum += pb = stackOut.b;\n      rInSum -= pr;\n      gInSum -= pg;\n      bInSum -= pb;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x2 = 0; _x2 < width; _x2++) {\n    yi = _x2 << 2;\n\n    var _pr2 = pixels[yi],\n        _pg2 = pixels[yi + 1],\n        _pb2 = pixels[yi + 2],\n        _rOutSum2 = radiusPlus1 * _pr2,\n        _gOutSum2 = radiusPlus1 * _pg2,\n        _bOutSum2 = radiusPlus1 * _pb2,\n        _rSum2 = sumFactor * _pr2,\n        _gSum2 = sumFactor * _pg2,\n        _bSum2 = sumFactor * _pb2;\n\n    stack = stackStart;\n\n    for (var _i7 = 0; _i7 < radiusPlus1; _i7++) {\n      stack.r = _pr2;\n      stack.g = _pg2;\n      stack.b = _pb2;\n      stack = stack.next;\n    }\n\n    var _rInSum2 = 0,\n        _gInSum2 = 0,\n        _bInSum2 = 0;\n\n    for (var _i8 = 1, yp = width; _i8 <= radius; _i8++) {\n      yi = yp + _x2 << 2;\n      _rSum2 += (stack.r = _pr2 = pixels[yi]) * (rbs = radiusPlus1 - _i8);\n      _gSum2 += (stack.g = _pg2 = pixels[yi + 1]) * rbs;\n      _bSum2 += (stack.b = _pb2 = pixels[yi + 2]) * rbs;\n      _rInSum2 += _pr2;\n      _gInSum2 += _pg2;\n      _bInSum2 += _pb2;\n      stack = stack.next;\n\n      if (_i8 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x2;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y2 = 0; _y2 < height; _y2++) {\n      p = yi << 2;\n      pixels[p] = _rSum2 * mulSum >> shgSum;\n      pixels[p + 1] = _gSum2 * mulSum >> shgSum;\n      pixels[p + 2] = _bSum2 * mulSum >> shgSum;\n      _rSum2 -= _rOutSum2;\n      _gSum2 -= _gOutSum2;\n      _bSum2 -= _bOutSum2;\n      _rOutSum2 -= stackIn.r;\n      _gOutSum2 -= stackIn.g;\n      _bOutSum2 -= stackIn.b;\n      p = _x2 + ((p = _y2 + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;\n      _rSum2 += _rInSum2 += stackIn.r = pixels[p];\n      _gSum2 += _gInSum2 += stackIn.g = pixels[p + 1];\n      _bSum2 += _bInSum2 += stackIn.b = pixels[p + 2];\n      stackIn = stackIn.next;\n      _rOutSum2 += _pr2 = stackOut.r;\n      _gOutSum2 += _pg2 = stackOut.g;\n      _bOutSum2 += _pb2 = stackOut.b;\n      _rInSum2 -= _pr2;\n      _gInSum2 -= _pg2;\n      _bInSum2 -= _pb2;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n *\n */\n\n\nvar BlurStack =\n/**\n * Set properties.\n */\nfunction BlurStack() {\n  _classCallCheck(this, BlurStack);\n\n  this.r = 0;\n  this.g = 0;\n  this.b = 0;\n  this.a = 0;\n  this.next = null;\n};\n\nexport { BlurStack, processCanvasRGB as canvasRGB, processCanvasRGBA as canvasRGBA, processImage as image, processImageDataRGB as imageDataRGB, processImageDataRGBA as imageDataRGBA };\n","/**\n * External dependencies\n */\nimport type { Maybe } from '@nab/types';\n\nexport function getConfettiColor( filter: string, value: 'other' ): string;\nexport function getConfettiColor(\n\tfilter: string,\n\tvalue?: string | number\n): Maybe< string >;\nexport function getConfettiColor(\n\tfilter: string,\n\tvalue?: string | number\n): Maybe< string > {\n\tif ( 'other' === value ) {\n\t\treturn '#ec82b6';\n\t} //end if\n\n\tvalue = `${ value ?? '' }`;\n\tconst num = isNaN( Number.parseInt( value ) )\n\t\t? -1\n\t\t: Number.parseInt( value );\n\n\tswitch ( filter ) {\n\t\tcase 'country':\n\t\t\treturn getCountryColor( value );\n\n\t\tcase 'device':\n\t\t\treturn getDeviceColor( value );\n\n\t\tcase 'os':\n\t\t\treturn getOsColor( value );\n\n\t\tcase 'browser':\n\t\t\treturn getBrowserColor( value );\n\n\t\tcase 'dayOfWeek':\n\t\t\treturn getDayOfWeekColor( num );\n\n\t\tcase 'hourOfDay':\n\t\t\treturn getHourOfDayColor( num );\n\n\t\tdefault:\n\t\t\treturn getGenericColor( num );\n\t} //end switch\n} //end getConfettiColor()\n\n// =======\n// HELPERS\n// =======\n\nfunction getCountryColor( value: string ) {\n\tconst palette: Record< string, string > = {\n\t\tAR: '#75aadb',\n\t\tAU: '#008000',\n\t\tBR: '#2dc52d',\n\t\tCA: '#f71818',\n\t\tCN: '#ff0000',\n\t\tFI: '#2008ff',\n\t\tFR: '#0000ff',\n\t\tDE: '#b97575',\n\t\tGR: '#9292da',\n\t\tIS: '#9494c3',\n\t\tIN: '#ffa500',\n\t\tIT: '#007fff',\n\t\tJP: '#e8f48c',\n\t\tNL: '#ff7f00',\n\t\tNZ: '#993333',\n\t\tNO: '#00008b',\n\t\tPT: '#218000',\n\t\tRU: '#3e3e77',\n\t\tES: '#ff0000',\n\t\tGB: '#e64444',\n\t\tUS: '#ec7777',\n\t};\n\treturn palette[ value ];\n} //end getCountryColor()\n\nfunction getDeviceColor( value: string ) {\n\tconst palette: Record< string, string > = {\n\t\tdesktop: '#11a0d2',\n\t\tconsole: '#f17b45',\n\t\tmobile: '#ffc65d',\n\t\ttablet: '#7bc8a4',\n\t\tsmarttv: '#93648d',\n\t\twearable: '#4bc0d6',\n\t\tembedded: '#ec82b6',\n\t};\n\treturn palette[ value ];\n} //end getDeviceColor()\n\nfunction getOsColor( value: string ) {\n\tvalue = `${ value }`;\n\n\tif ( 'Mac OS X' === value ) {\n\t\treturn '#e6e6e6';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows 10' ) ) {\n\t\treturn '#066b96';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows Phone' ) ) {\n\t\treturn '#097cae';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows 7' ) ) {\n\t\treturn '#0a8bc3';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows Vista' ) ) {\n\t\treturn '#049cde';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows XP' ) ) {\n\t\treturn '#35afe4';\n\t} //end if\n\n\tif ( -1 !== value.indexOf( 'Windows' ) ) {\n\t\treturn '#67c5ef';\n\t} //end if\n\n\tconst others: Record< string, string > = {\n\t\t'Chromium OS': '#63c7c5',\n\t\t'Mac OS': '#c3c3c3',\n\t\tAndroid: '#97e375',\n\t\tDebian: '#ff7185',\n\t\tFuchsia: '#d0608a',\n\t\tLinux: '#5e2c80',\n\t\tMint: '#7aaa65',\n\t\tSUSE: '#84bc91',\n\t\tUbuntu: '#f28b4a',\n\t\tiOS: '#d6d6d6',\n\t};\n\n\treturn others[ value ];\n} //end getOsColor()\n\nfunction getBrowserColor( value: string ) {\n\tconst colors: Record< string, string > = {\n\t\t'Opera Mini': '#ff6060',\n\t\t'Opera Mobi': '#ff9090',\n\t\t'Samsung Browser': '#93648d',\n\t\tChrome: '#7bc8a4',\n\t\tChromium: '#6cbc6d',\n\t\tEdge: '#024b6e',\n\t\tFirefox: '#f28b4a',\n\t\tMozilla: '#f29f79',\n\t\tOpera: '#f24a4a',\n\t\tSafari: '#ffc65d',\n\t\tVivaldi: '#ef6dd2',\n\t};\n\treturn colors[ `${ value }` ];\n} //end getBrowserColor()\n\nfunction getDayOfWeekColor( value: number ) {\n\tconst palette: ReadonlyArray< string > = [\n\t\t'#ec82b6',\n\t\t'#f17b45',\n\t\t'#ffc65d',\n\t\t'#7bc8a4',\n\t\t'#4cc3d9',\n\t\t'#4c8ad9',\n\t\t'#93648d',\n\t\t'#ec82b6',\n\t];\n\treturn palette[ value ];\n} //end getDayOfWeekColor()\n\nfunction getHourOfDayColor( value: number ) {\n\tconst palette = [\n\t\t'#003e6b',\n\t\t'#034d71',\n\t\t'#066b96',\n\t\t'#64c8c6',\n\t\t'#dbeabf',\n\t\t'#e3e075',\n\t\t'#faca5c',\n\t\t'#f28b4a',\n\t\t'#d1618b',\n\t\t'#9a4987',\n\t\t'#5e2c80',\n\t\t'#15205a',\n\t];\n\treturn palette[ value ];\n} //end getHourOfDayColor()\n\nfunction getGenericColor( value: number ) {\n\tconst palette = [\n\t\t'#cb0a0a',\n\t\t'#ef4444',\n\t\t'#f17b45',\n\t\t'#ffb039',\n\t\t'#ffc65d',\n\t\t'#bfe656',\n\t\t'#7bc8a4',\n\t\t'#59d1b7',\n\t\t'#4cc3d9',\n\t\t'#42b0ec',\n\t\t'#4a87d5',\n\t\t'#5b52f3',\n\t\t'#91628b',\n\t\t'#753966',\n\t];\n\treturn palette[ value ];\n} //end getGenericColor()\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { keyBy, orderBy, values } from 'lodash';\nimport type {\n\tConfettiOption,\n\tConfettiType,\n\tDict,\n\tHeatmapFrameAction,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getClicks } from './store';\nimport { getConfettiColor } from './confetti-colors';\nimport { createOverlayElement, maximizeElement } from './utils';\n\nimport type { Click, Dispatch } from './types';\n\n// NOTE. No @nab packages in front.\nconst NAB_DATA = 'nab/data';\n\nconst DEFAULT_PALETTE = [\n\t'#753966',\n\t'#91628b',\n\t'#5b52f3',\n\t'#4a87d5',\n\t'#42b0ec',\n\t'#4cc3d9',\n\t'#59d1b7',\n\t'#7bc8a4',\n\t'#bfe656',\n\t'#ffc65d',\n\t'#ffb039',\n\t'#f17b45',\n\t'#ef4444',\n\t'#cb0a0a',\n];\n\nconst confetti: {\n\tcanvas?: HTMLCanvasElement;\n\toverlay?: HTMLElement;\n} = {};\n\nlet actualFilterOptions: Partial<\n\tRecord< ConfettiType, Dict< ConfettiOption > >\n>;\n\nexport function reactToParentMessages(\n\taction: HeatmapFrameAction,\n\tdispatch: Dispatch\n): void {\n\tif ( 'update-opacity' === action.type ) {\n\t\tsetOverlayOpacity( action.value );\n\t\treturn;\n\t} //end if\n\n\tif ( 'render-results' !== action.type ) {\n\t\treturn;\n\t} //end if\n\n\tif ( 'confetti' !== action.mode ) {\n\t\tremoveConfettiFromBody();\n\t\treturn;\n\t} //end if\n\n\tif ( ! action.areResultsLoaded ) {\n\t\treturn;\n\t} //end if\n\n\tif ( ! confetti.canvas ) {\n\t\tinitConfetti();\n\t} //end if\n\n\tif ( ! actualFilterOptions ) {\n\t\tinitFilterOptions();\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/confettiFilterOptions',\n\t\t\tactualFilterOptions\n\t\t);\n\t} //end if\n\n\tsetOverlayOpacity( action.opacity );\n\tappendConfettiInBody();\n\trenderConfetti( action.activeFilter, action.disabledFilterOptions );\n} //end reactToParentMessages()\n\n// =======\n// HELPERS\n// =======\n\nfunction setOverlayOpacity( opacity: number ) {\n\tif ( ! confetti.overlay || undefined === opacity ) {\n\t\treturn;\n\t} //end if\n\tconfetti.overlay.style.opacity = `${ opacity / 100 }`;\n} //end setOverlayOpacity()\n\nfunction removeConfettiFromBody() {\n\tif ( document.body === confetti.canvas?.parentNode ) {\n\t\tdocument.body.removeChild( confetti.canvas );\n\t} //end if\n\n\tif ( document.body === confetti.overlay?.parentNode ) {\n\t\tdocument.body.removeChild( confetti.overlay );\n\t} //end if\n} //end removeConfettiFromBody()\n\nfunction appendConfettiInBody() {\n\tif ( ! confetti.overlay || ! confetti.canvas ) {\n\t\treturn;\n\t} //end if\n\n\tmaximizeElement( confetti.overlay, 'desktop' );\n\tmaximizeElement( confetti.canvas, 'desktop' );\n\n\tif ( document.body === confetti.canvas.parentNode ) {\n\t\treturn;\n\t} //end if\n\n\tdocument.body.appendChild( confetti.overlay );\n\tdocument.body.appendChild( confetti.canvas );\n} //end appendConfettiInBody()\n\nfunction initConfetti() {\n\tconfetti.overlay = createOverlayElement( 'div', 'desktop' );\n\tconfetti.overlay.style.background = '#000';\n\tconfetti.canvas = createOverlayElement< HTMLCanvasElement >(\n\t\t'canvas',\n\t\t'desktop'\n\t);\n} //end initConfetti()\n\nfunction initFilterOptions() {\n\tconst clicks = getClicks();\n\tactualFilterOptions = getFilterOptions( clicks );\n} //end initFilterOptions()\n\nfunction shouldClickBeRendered(\n\tclick: Click,\n\tactiveFilter: ConfettiType,\n\tdisabledFilterOptions: ReadonlyArray< string >\n) {\n\tlet filterValue = click[ activeFilter ];\n\tif (\n\t\t! Object.keys( actualFilterOptions[ activeFilter ] || {} ).includes(\n\t\t\t`${ filterValue }`\n\t\t)\n\t) {\n\t\tfilterValue = 'other';\n\t} //end if\n\n\treturn ! disabledFilterOptions.includes( `${ filterValue }` );\n} //end shouldClickBeRendered()\n\nexport function getFilterOptions(\n\tclicks: ReadonlyArray< Click >\n): Record< ConfettiType, Dict< ConfettiOption > > {\n\tconst resultsSummary: Record< ConfettiType, Dict< number > > = {\n\t\tcountry: {},\n\t\tdevice: {},\n\t\tos: {},\n\t\tbrowser: {},\n\t\tdayOfWeek: {},\n\t\thourOfDay: {},\n\t\ttimeToClick: {},\n\t\twindowWidth: {},\n\t};\n\n\tclicks.forEach( ( click ) => {\n\t\tresultsSummary.country[ click.country ] =\n\t\t\t( resultsSummary.country[ click.country ] || 0 ) + click.intensity;\n\t\tresultsSummary.device[ click.device ] =\n\t\t\t( resultsSummary.device[ click.device ] || 0 ) + click.intensity;\n\t\tresultsSummary.os[ click.os ] =\n\t\t\t( resultsSummary.os[ click.os ] || 0 ) + click.intensity;\n\t\tresultsSummary.browser[ click.browser ] =\n\t\t\t( resultsSummary.browser[ click.browser ] || 0 ) + click.intensity;\n\t\tresultsSummary.dayOfWeek[ click.dayOfWeek ] =\n\t\t\t( resultsSummary.dayOfWeek[ click.dayOfWeek ] || 0 ) +\n\t\t\tclick.intensity;\n\t\tresultsSummary.hourOfDay[ click.hourOfDay ] =\n\t\t\t( resultsSummary.hourOfDay[ click.hourOfDay ] || 0 ) +\n\t\t\tclick.intensity;\n\t\tresultsSummary.timeToClick[ click.timeToClick ] =\n\t\t\t( resultsSummary.timeToClick[ click.timeToClick ] || 0 ) +\n\t\t\tclick.intensity;\n\t\tresultsSummary.windowWidth[ click.windowWidth ] =\n\t\t\t( resultsSummary.windowWidth[ click.windowWidth ] || 0 ) +\n\t\t\tclick.intensity;\n\t} );\n\n\tconst keys = Object.keys( resultsSummary ) as ReadonlyArray< ConfettiType >;\n\treturn keys.reduce(\n\t\t( memo, key ) => ( {\n\t\t\t...memo,\n\t\t\t[ key ]: processFilter( key, resultsSummary[ key ] ),\n\t\t} ),\n\t\t{} as Record< ConfettiType, Dict< ConfettiOption > >\n\t);\n} //end getFilterOptions()\n\nfunction processFilter(\n\tfilter: ConfettiType,\n\tfilterOptions: Dict< number >\n): Dict< ConfettiOption > {\n\tswitch ( filter ) {\n\t\tcase 'country':\n\t\t\treturn getFilterOptionsForDiscreteFilter( filter, filterOptions );\n\n\t\tcase 'device':\n\t\t\treturn getFilterOptionsForDiscreteFilter( filter, filterOptions );\n\n\t\tcase 'os':\n\t\t\treturn sortOsOptions(\n\t\t\t\tgetFilterOptionsForDiscreteFilter( filter, filterOptions )\n\t\t\t);\n\n\t\tcase 'browser': {\n\t\t\treturn sortBrowserOptions(\n\t\t\t\tgetFilterOptionsForDiscreteFilter( filter, filterOptions )\n\t\t\t);\n\t\t}\n\n\t\tcase 'dayOfWeek':\n\t\tcase 'hourOfDay':\n\t\tcase 'timeToClick':\n\t\tcase 'windowWidth':\n\t\t\treturn getFilterOptionsForContinuousFilter( filter, filterOptions );\n\t} //end switch\n} //end processFilterOption()\n\nfunction getFilterOptionsForDiscreteFilter(\n\tfilter: ConfettiType,\n\tfilterOptions: Dict< number >\n): Dict< ConfettiOption > {\n\tconst orderedOptions = orderBy(\n\t\tObject.keys( filterOptions ).map( ( key ) => ( {\n\t\t\tkey,\n\t\t\tvalue: filterOptions[ key ],\n\t\t} ) ),\n\t\t'value',\n\t\t'desc'\n\t);\n\n\tlet relevantOptions = orderedOptions.splice( 0, 14 );\n\trelevantOptions = orderBy( relevantOptions, 'key' );\n\n\tif ( orderedOptions.length ) {\n\t\trelevantOptions.push( {\n\t\t\tkey: 'other',\n\t\t\tvalue: orderedOptions.reduce(\n\t\t\t\t( total, { value } ) => total + value,\n\t\t\t\t0\n\t\t\t),\n\t\t} );\n\t} //end if\n\n\tlet defaultColor = 0;\n\treturn keyBy(\n\t\trelevantOptions.map( ( { key, value } ) => ( {\n\t\t\tkey,\n\t\t\tlabel: getLabelOfDiscreteFilterOption( filter, key ),\n\t\t\tvalue: `${ value }`,\n\t\t\tcolor:\n\t\t\t\tgetConfettiColor( filter, key ) ||\n\t\t\t\tDEFAULT_PALETTE[ defaultColor++ ],\n\t\t} ) ),\n\t\t'key'\n\t);\n} //end getFilterOptionsForDiscreteFilter()\n\nfunction getLabelOfDiscreteFilterOption(\n\tfilter: ConfettiType,\n\tfilterOptionKey: string\n) {\n\tif ( 'other' === filterOptionKey ) {\n\t\treturn _x( 'Other', 'text', 'nelio-ab-testing' );\n\t} //end if\n\n\tswitch ( filter ) {\n\t\tcase 'device':\n\t\t\treturn (\n\t\t\t\tfilterOptionKey[ 0 ].toUpperCase() + filterOptionKey.slice( 1 )\n\t\t\t);\n\n\t\tcase 'country':\n\t\tcase 'os':\n\t\tcase 'browser':\n\t\tdefault:\n\t\t\treturn filterOptionKey;\n\t} //end switch\n} //end getLabelOfDiscreteFilterOption()\n\nfunction getFilterOptionsForContinuousFilter(\n\tfilter: 'dayOfWeek' | 'hourOfDay' | 'timeToClick' | 'windowWidth',\n\tfilterOptions: Dict< number >\n) {\n\tconst filterCategories = {\n\t\tdayOfWeek: [\n\t\t\t{ label: _x( 'Sunday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Monday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Tuesday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Wednesday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Thursday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Friday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Saturday', 'text', 'nelio-ab-testing' ) },\n\t\t],\n\t\thourOfDay: [\n\t\t\t{ label: _x( '12a - 2a', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '2a - 4a', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '4a - 6a', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '6a - 8a', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '8a - 10a', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '10a - 12p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '12p - 2p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '2p - 4p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '4p - 6p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '6p - 8p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '8p - 10p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '10p - 12a', 'text', 'nelio-ab-testing' ) },\n\t\t],\n\t\ttimeToClick: [\n\t\t\t{ label: _x( '0 - 2s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '2 - 3s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '3 - 4s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '4 - 5s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '5 - 10s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '10 - 15s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '15 - 20s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '20 - 25s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '25 - 30s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '30 - 60s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '1 - 2min', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '2 - 3min', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '3 - 5min', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '+5min', 'text', 'nelio-ab-testing' ) },\n\t\t],\n\t\twindowWidth: [\n\t\t\t{ label: _x( '< 300 px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '300 - 600px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '600 - 900px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '900 - 1200px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '1200 - 1500px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '1500 - 1800px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '1800 - 2100px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '+2100px', 'text', 'nelio-ab-testing' ) },\n\t\t],\n\t};\n\n\tconst categoriesOfFilter = filterCategories[ filter ].map(\n\t\t( { label }, index ) => ( {\n\t\t\tkey: `${ index }`,\n\t\t\tlabel,\n\t\t\tvalue: filterOptions[ index ] || 0,\n\t\t\tcolor: '',\n\t\t} )\n\t);\n\n\tlet defaultColor = 0;\n\treturn keyBy(\n\t\tcategoriesOfFilter.map( ( category ) => ( {\n\t\t\t...category,\n\t\t\tcolor:\n\t\t\t\tgetConfettiColor( filter, category.key ) ||\n\t\t\t\tDEFAULT_PALETTE[ defaultColor++ ],\n\t\t} ) ),\n\t\t'key'\n\t);\n} //end getFilterOptionsForContinuousFilter()\n\nfunction sortOsOptions( options: Dict< ConfettiOption > ) {\n\tconst windows: Dict< string > = {\n\t\t'Windows 10': 'Windows 01',\n\t\t'Windows Phone': 'Windows 02',\n\t\t'Windows 7': 'Windows 03',\n\t\t'Windows Vista': 'Windows 04',\n\t\t'Windows XP': 'Windows 05',\n\t\t'Windows 98': 'Windows 06',\n\t\t'Windows 95': 'Windows 07',\n\t\tWindows: 'Windows 08',\n\t};\n\n\tlet aux = values( options ).map( ( { key, ...option } ) => ( {\n\t\tkey,\n\t\t...option,\n\t\tsorting: windows[ key ] ? windows[ key ] : key,\n\t} ) );\n\taux = orderBy( aux, 'sorting' );\n\n\tconst sortedOptions = aux.map( ( opt ) => ( {\n\t\tkey: opt.key,\n\t\tcolor: opt.color,\n\t\tvalue: opt.value,\n\t\tlabel: opt.label,\n\t} ) );\n\n\treturn keyBy( sortedOptions, 'key' );\n} //end sortOsOptions()\n\nfunction sortBrowserOptions( options: Dict< ConfettiOption > ) {\n\tconst sortedOptions = orderBy( values( options ), 'key' );\n\treturn keyBy( sortedOptions, 'key' );\n} //end sortBrowserOptions()\n\nfunction renderConfetti(\n\tactiveFilter: ConfettiType,\n\tdisabledFilterOptions: ReadonlyArray< string >\n) {\n\tif ( ! confetti.canvas ) {\n\t\treturn;\n\t} //end if\n\n\tconst ctx = confetti.canvas.getContext( '2d' );\n\tif ( ! ctx ) {\n\t\treturn;\n\t} //end if\n\n\tctx.clearRect( 0, 0, confetti.canvas.width, confetti.canvas.height );\n\tctx.lineWidth = 1;\n\tctx.strokeStyle = '#000';\n\n\tconst clicks = getClicks();\n\tclicks\n\t\t.filter( ( c ) =>\n\t\t\tshouldClickBeRendered( c, activeFilter, disabledFilterOptions )\n\t\t)\n\t\t.forEach( ( c ) => renderClick( ctx, c, activeFilter ) );\n} //end renderConfetti()\n\nfunction renderClick(\n\tctx: CanvasRenderingContext2D,\n\tclick: Click,\n\tactiveFilter: ConfettiType\n) {\n\tif ( ! click.realCoordinates || ! click.realCoordinates.desktop ) {\n\t\treturn;\n\t} //end if\n\n\tif ( ! click.isVisibleInResolution?.desktop ) {\n\t\treturn;\n\t} //end if\n\n\tconst { x, y } = click.realCoordinates.desktop;\n\tconst options = actualFilterOptions[ activeFilter ] || {};\n\n\tctx.fillStyle = options[ click[ activeFilter ] ]?.color\n\t\t? options[ click[ activeFilter ] ].color\n\t\t: getConfettiColor( activeFilter, 'other' );\n\tctx.beginPath();\n\tctx.arc( x, y, 6, 0, 2 * Math.PI, true );\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n} //end renderClick()\n","/**\n * External dependencies\n */\nimport type { Dims, HeatmapFrameAction, HeatmapResolution } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport {\n\tareClickCoordinatesAlreadyComputedInResolution,\n\tgetClicksInResolution,\n} from './store';\nimport {\n\tcreateOverlayElement,\n\tgetDocumentHeight,\n\tmaximizeElement,\n} from './utils';\nimport { createWebGLHeatmap } from './lib/webgl-heatmap';\nimport type { Click, WebGLHeatmap } from './types';\n\nconst GL_CANVAS_SCALE = 0.25;\n\nconst HEATMAP_POINT_SIZE = 100;\nconst MAX_SIZE_MULTIPLIER = 2;\nconst MIN_INTENSITY = 0.4;\nconst MAX_INTENSITY = 2;\nconst INTENSITY_RANGE = MAX_INTENSITY - MIN_INTENSITY;\n\ntype Heatmap = {\n\tcanvas?: HTMLCanvasElement;\n\tinstance?: WebGLHeatmap;\n\toverlay?: HTMLElement;\n};\n\ntype ClicksPerSquare = {\n\treadonly columns: number;\n\treadonly data: ReadonlyArray< number >;\n\treadonly height: number;\n\treadonly max: number;\n\treadonly rows: number;\n\treadonly width: number;\n};\n\nconst heatmap: Heatmap = {};\nlet clicksPerSquare: Partial<\n\tRecord< HeatmapResolution, ClicksPerSquare >\n> = {};\n\nexport function reactToParentMessages( action: HeatmapFrameAction ): void {\n\tif ( 'update-opacity' === action.type ) {\n\t\tsetOverlayOpacity( action.value );\n\t\treturn;\n\t} //end if\n\n\tif ( 'recompute-click-coordinates' === action.type ) {\n\t\tclicksPerSquare = {};\n\t\treturn;\n\t} //end if\n\n\tif ( 'render-results' !== action.type ) {\n\t\treturn;\n\t} //end if\n\n\tif ( 'heatmap' !== action.mode ) {\n\t\tremoveHeatmapFromBody();\n\t\treturn;\n\t} //end if\n\n\tif ( ! action.areResultsLoaded ) {\n\t\treturn;\n\t} //end if\n\n\tif ( ! heatmap.instance ) {\n\t\tinitWebGLHeatmap( action.activeResolution );\n\t} //end if\n\n\tsetOverlayOpacity( action.opacity );\n\tappendHeatmapInBody( action.activeResolution );\n\trenderHeatmap(\n\t\taction.heatmapIntensity,\n\t\taction.activeResolution,\n\t\taction.resolutions\n\t);\n} //end reactToParentMessages()\n\n// =======\n// HELPERS\n// =======\n\nfunction setOverlayOpacity( opacity: number ) {\n\tif ( ! heatmap.overlay || undefined === opacity ) {\n\t\treturn;\n\t} //end if\n\theatmap.overlay.style.opacity = `${ opacity / 100 }`;\n} //end setOverlayOpacity()\n\nfunction removeHeatmapFromBody() {\n\tif ( document.body === heatmap.canvas?.parentNode ) {\n\t\tdocument.body.removeChild( heatmap.canvas );\n\t} //end if\n\n\tif ( document.body === heatmap.overlay?.parentNode ) {\n\t\tdocument.body.removeChild( heatmap.overlay );\n\t} //end if\n} //end removeHeatmapFromBody()\n\nfunction appendHeatmapInBody( resolution: HeatmapResolution ) {\n\tif ( ! heatmap.canvas || ! heatmap.overlay ) {\n\t\treturn;\n\t} //end if\n\n\tif ( document.body === heatmap.canvas.parentNode ) {\n\t\tmaximizeHeatmap( resolution );\n\t\treturn;\n\t} //end if\n\n\tdocument.body.appendChild( heatmap.overlay );\n\tdocument.body.appendChild( heatmap.canvas );\n\tmaximizeHeatmap( resolution );\n} //end appendHeatmapInBody()\n\nfunction maximizeHeatmap( resolution: HeatmapResolution ) {\n\tif ( ! heatmap.canvas || ! heatmap.instance || ! heatmap.overlay ) {\n\t\treturn;\n\t} //end if\n\n\tmaximizeElement( heatmap.overlay, resolution );\n\n\tconst width = document.body.clientWidth * GL_CANVAS_SCALE;\n\tconst height = getDocumentHeight( resolution ) * GL_CANVAS_SCALE;\n\theatmap.canvas.style.width = `${ width }px`;\n\theatmap.canvas.style.height = `${ height }px`;\n\theatmap.instance.adjustSize( width, height );\n} //end maximizeHeatmap()\n\nfunction initWebGLHeatmap( resolution: HeatmapResolution ) {\n\theatmap.overlay = createOverlayElement( 'div', resolution );\n\theatmap.overlay.style.background = '#000';\n\n\theatmap.canvas = createOverlayElement< HTMLCanvasElement >(\n\t\t'canvas',\n\t\tresolution\n\t);\n\theatmap.canvas.style.mixBlendMode = 'screen';\n\theatmap.canvas.style.transform = `scale(${ ( 1 / GL_CANVAS_SCALE ).toFixed(\n\t\t3\n\t) })`;\n\theatmap.canvas.style.transformOrigin = '0 0';\n\n\ttry {\n\t\theatmap.instance = createWebGLHeatmap( {\n\t\t\tcanvas: heatmap.canvas,\n\t\t} ) as WebGLHeatmap;\n\t} catch ( e ) {\n\t\tconsole.error( e ); // eslint-disable-line\n\t} //end if\n} //end initWebGLHeatmap()\n\nfunction renderHeatmap(\n\theatmapIntensity: number,\n\tactiveResolution: HeatmapResolution,\n\tresolutions: Record< HeatmapResolution, Dims >\n) {\n\tif ( ! heatmap.instance ) {\n\t\treturn;\n\t} //end if\n\n\tconst clicks = getClicksInResolution( activeResolution, resolutions );\n\tif ( ! clicksPerSquare[ activeResolution ] ) {\n\t\tcomputeClicksPerSquareInResolution( clicks, activeResolution );\n\t} //end if\n\n\tconst cps = clicksPerSquare[ activeResolution ];\n\tif ( ! cps ) {\n\t\treturn;\n\t} //end if\n\n\tconst maxClicksInSquare = cps.max;\n\tconst intensity = heatmapIntensity / 100;\n\n\theatmap.instance.clear();\n\tclicks.forEach( ( click ) =>\n\t\trenderClick( click, maxClicksInSquare, activeResolution )\n\t);\n\theatmap.instance.update();\n\theatmap.instance.multiply( intensity );\n\theatmap.instance.update();\n\theatmap.instance.display();\n} //end renderHeatmap()\n\nfunction renderClick(\n\tclick: Click,\n\tmaxClicksInSquare: number,\n\tresolution: HeatmapResolution\n) {\n\tif ( ! heatmap.instance ) {\n\t\treturn;\n\t} //end if\n\n\tif ( ! click.isVisibleInResolution[ resolution ] ) {\n\t\treturn;\n\t} //end if\n\n\tconst coords = click.realCoordinates[ resolution ];\n\tif ( ! coords ) {\n\t\treturn;\n\t} //end if\n\n\tconst { x, y } = coords;\n\tconst clicksInSquare = getClicksInSquare( click, resolution );\n\tconst normalizedSquareIntensity =\n\t\t( clicksInSquare / maxClicksInSquare ) * INTENSITY_RANGE +\n\t\tMIN_INTENSITY;\n\tconst clickIntensity = normalizedSquareIntensity / clicksInSquare;\n\n\tconst scale = mapScale(\n\t\tclicksInSquare,\n\t\t0,\n\t\tmaxClicksInSquare,\n\t\tMAX_SIZE_MULTIPLIER,\n\t\t1\n\t);\n\n\theatmap.instance.addPoint(\n\t\tx * GL_CANVAS_SCALE,\n\t\ty * GL_CANVAS_SCALE,\n\t\tscale * HEATMAP_POINT_SIZE * GL_CANVAS_SCALE,\n\t\tclickIntensity\n\t);\n} //end renderClick()\n\nfunction mapScale(\n\tvalue: number,\n\tinputStart: number,\n\tinputEnd: number,\n\toutputStart: number,\n\toutputEnd: number\n) {\n\tconst slope = ( outputEnd - outputStart ) / ( inputEnd - inputStart );\n\treturn outputStart + slope * ( value - inputStart );\n} //end mapScale()\n\nfunction getClicksInSquare( click: Click, resolution: HeatmapResolution ) {\n\tconst cps = clicksPerSquare[ resolution ];\n\tconst coords = click.realCoordinates[ resolution ];\n\tif ( ! cps || ! coords ) {\n\t\treturn 1;\n\t} //end if\n\n\tconst { x, y } = coords;\n\tconst { columns, data } = cps;\n\tconst col = Math.floor( x / HEATMAP_POINT_SIZE );\n\tconst row = Math.floor( y / HEATMAP_POINT_SIZE );\n\n\tconst index = row * columns + col;\n\tif ( index < 0 && data.length <= index ) {\n\t\treturn 1;\n\t} //end if\n\n\treturn cps.data[ index ];\n} //end getClicksInSquare\n\nfunction computeClicksPerSquareInResolution(\n\tclicks: ReadonlyArray< Click >,\n\tresolution: HeatmapResolution\n) {\n\tif ( ! areClickCoordinatesAlreadyComputedInResolution( resolution ) ) {\n\t\treturn;\n\t} //end if\n\n\tif ( clicksPerSquare[ resolution ] ) {\n\t\treturn;\n\t} //end if\n\n\tconst width = document.body.clientWidth;\n\tconst height = getDocumentHeight( resolution );\n\n\tconst NUM_OF_COLS = Math.ceil( width / HEATMAP_POINT_SIZE );\n\tconst NUM_OF_ROWS = Math.ceil( height / HEATMAP_POINT_SIZE );\n\n\tconst data = new Array( NUM_OF_ROWS * NUM_OF_COLS ).fill( 0 );\n\tclicks.forEach( ( click ) => {\n\t\tif ( ! click.isVisibleInResolution[ resolution ] ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tconst coords = click.realCoordinates[ resolution ];\n\t\tif ( ! coords ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tconst { x, y } = coords;\n\t\tconst col = Math.floor( x / HEATMAP_POINT_SIZE );\n\t\tconst row = Math.floor( y / HEATMAP_POINT_SIZE );\n\n\t\tconst index = row * NUM_OF_COLS + col;\n\t\tif ( index < 0 && data.length <= index ) {\n\t\t\treturn;\n\t\t} //end if\n\t\tdata[ index ] += click.intensity;\n\t} );\n\n\tclicksPerSquare[ resolution ] = {\n\t\tcolumns: NUM_OF_COLS,\n\t\tdata,\n\t\theight,\n\t\tmax: Math.max(\n\t\t\t1,\n\t\t\tdata.reduce( ( max, value ) => Math.max( max, value || 0 ) )\n\t\t),\n\t\trows: NUM_OF_ROWS,\n\t\twidth,\n\t};\n} //end computeClicksPerSquareInResolution()\n","/**\n * External dependencies.\n */\nimport type { HeatmapFrameAction, HeatmapResolution } from '@nab/types';\n\n/**\n * Internal dependencies.\n */\nimport {\n\tareClickCoordinatesAlreadyComputedInResolution,\n\tcomputeClickCoordinatesInResolution as doComputeClickCoordinatesInResolution,\n\trecomputeClickCoordinatesInResolution as doRecomputeClickCoordinatesInResolution,\n} from './store';\nimport { getDocumentHeight } from './utils';\n\nimport type { Dispatch } from './types';\n\n// NOTE. No @nab packages in front.\nconst NAB_DATA = 'nab/data';\n\nconst ELEMENT_HEIGHT_COMPUTATION_DELAY = 100;\n\ntype ElementHeights = {\n\toriginal: false | ReadonlyArray< OriHeights >;\n} & Partial< Record< HeatmapResolution, ReadonlyArray< ResHeights > > >;\n\ntype OriHeights = {\n\treadonly el: HTMLElement;\n\treadonly cssHeight: string;\n\treadonly cssMinHeight: string;\n};\n\ntype ResHeights = {\n\treadonly el: HTMLElement;\n\tactualHeight: string;\n\tdidHeightChange?: boolean;\n\treadonly style: {\n\t\theight: string;\n\t\tmaxHeight: string;\n\t};\n};\n\nconst elementHeights: ElementHeights = {\n\toriginal: false,\n};\n\nconst areProperHeightsComputed: Record< HeatmapResolution, boolean > = {\n\tdesktop: false,\n\tsmartphone: false,\n\ttablet: false,\n};\n\nexport function reactToParentMessages(\n\taction: HeatmapFrameAction,\n\tdispatch: Dispatch\n): void {\n\tswitch ( action.type ) {\n\t\tcase 'reset-heights':\n\t\t\tresetHeights( action.activeResolution, dispatch );\n\t\t\tbreak;\n\n\t\tcase 'fetch-lazy-load-images':\n\t\t\tfetchLazyLoadImages( dispatch );\n\t\t\tbreak;\n\n\t\tcase 'calculate-heights-in-double-sized-iframe':\n\t\t\tstoreHeightsInDoubleSizedIFrame(\n\t\t\t\taction.activeResolution,\n\t\t\t\tdispatch\n\t\t\t);\n\t\t\tbreak;\n\n\t\tcase 'calculate-actual-heights':\n\t\t\tstoreProperHeightsAndMaximizeIFrame(\n\t\t\t\taction.activeResolution,\n\t\t\t\tdispatch\n\t\t\t);\n\t\t\tbreak;\n\n\t\tcase 'fix-heights':\n\t\t\tfixInvalidHeights( action.activeResolution, dispatch );\n\t\t\tbreak;\n\n\t\tcase 'compute-click-coordinates':\n\t\t\tcomputeClickCoordinatesInResolution(\n\t\t\t\taction.activeResolution,\n\t\t\t\tdispatch\n\t\t\t);\n\t\t\tbreak;\n\n\t\tcase 'recompute-click-coordinates':\n\t\t\trecomputeClickCoordinatesInResolution(\n\t\t\t\taction.activeResolution,\n\t\t\t\tdispatch\n\t\t\t);\n\t\t\tbreak;\n\t} //end switch\n} //end reactToParentMessages()\n\nfunction resetHeights(\n\tactiveResolution: HeatmapResolution,\n\tdispatch: Dispatch\n) {\n\tif (\n\t\tareImagesAlreadyFetched &&\n\t\tareProperHeightsComputed[ activeResolution ]\n\t) {\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/iframeContentHeight',\n\t\t\tgetDocumentHeight( activeResolution )\n\t\t);\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/resolutionChangeMode',\n\t\t\t'fix-heights'\n\t\t);\n\t\treturn;\n\t} //end if\n\n\tif ( elementHeights[ activeResolution ] ) {\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/resolutionChangeMode',\n\t\t\t'fetch-lazy-load-images'\n\t\t);\n\t\treturn;\n\t} //end if\n\n\tif ( ! elementHeights.original ) {\n\t\tconst nabElements = Array.from(\n\t\t\tdocument.querySelectorAll< HTMLElement >(\n\t\t\t\t'.nab-overlay-element, .nab-overlay-element *'\n\t\t\t)\n\t\t);\n\t\tconst elements = Array.from(\n\t\t\tdocument.querySelectorAll< HTMLElement >( '*' )\n\t\t).filter( ( el ) => ! nabElements.includes( el ) );\n\n\t\telementHeights.original = elements.map( ( el ) => ( {\n\t\t\tel,\n\t\t\tcssHeight: el.style.height,\n\t\t\tcssMinHeight: el.style.minHeight,\n\t\t} ) );\n\t} //end if\n\n\telementHeights.original.forEach( ( { el, cssHeight, cssMinHeight } ) => {\n\t\tel.style.height = cssHeight;\n\t\tel.style.minHeight = cssMinHeight;\n\t} );\n\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'heatmap/resolutionChangeMode',\n\t\t'fetch-lazy-load-images'\n\t);\n} //end resetHeights()\n\nlet areImagesAlreadyFetched = false;\nfunction fetchLazyLoadImages( dispatch: Dispatch ) {\n\tif ( areImagesAlreadyFetched ) {\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/resolutionChangeMode',\n\t\t\t'calculate-heights-in-double-sized-iframe'\n\t\t);\n\t\treturn;\n\t} //end if\n\n\tconst images = Array.from(\n\t\tdocument.querySelectorAll< HTMLElement >( 'img[data-src]' )\n\t).reverse();\n\timages.forEach( ( img ) => {\n\t\tconst src = img.getAttribute( 'data-src' );\n\t\tif ( src ) {\n\t\t\timg.setAttribute( 'src', src );\n\t\t} //end if\n\t} );\n\n\tconst delay = images.length ? 500 : 0;\n\tsetTimeout( () => {\n\t\tareImagesAlreadyFetched = true;\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/resolutionChangeMode',\n\t\t\t'calculate-heights-in-double-sized-iframe'\n\t\t);\n\t}, delay );\n} //end fetchLazyLoadImages()\n\nfunction storeHeightsInDoubleSizedIFrame(\n\tactiveResolution: HeatmapResolution,\n\tdispatch: Dispatch\n) {\n\tif ( elementHeights[ activeResolution ] ) {\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/resolutionChangeMode',\n\t\t\t'calculate-actual-heights'\n\t\t);\n\t\treturn;\n\t} //end if\n\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'heatmap/iframeContentHeight',\n\t\twindow.innerHeight * 50\n\t);\n\n\tsetTimeout( () => {\n\t\tconst nabElements = Array.from(\n\t\t\tdocument.querySelectorAll< HTMLElement >(\n\t\t\t\t'.nab-overlay-element, .nab-overlay-element *'\n\t\t\t)\n\t\t);\n\t\tconst elements = Array.from(\n\t\t\tdocument.querySelectorAll< HTMLElement >( '*' )\n\t\t).filter( ( el ) => ! nabElements.includes( el ) );\n\n\t\telementHeights[ activeResolution ] = elements.map( ( el ) => ( {\n\t\t\tel,\n\t\t\tactualHeight: window.getComputedStyle( el ).height,\n\t\t\tstyle: {\n\t\t\t\theight: el.style.height,\n\t\t\t\tmaxHeight: el.style.maxHeight,\n\t\t\t},\n\t\t} ) );\n\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/resolutionChangeMode',\n\t\t\t'calculate-actual-heights'\n\t\t);\n\t}, ELEMENT_HEIGHT_COMPUTATION_DELAY );\n} //end storeHeightsInDoubleSizedIFrame()\n\nfunction storeProperHeightsAndMaximizeIFrame(\n\tactiveResolution: HeatmapResolution,\n\tdispatch: Dispatch\n) {\n\tif ( areProperHeightsComputed[ activeResolution ] ) {\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/iframeContentHeight',\n\t\t\tgetDocumentHeight( activeResolution )\n\t\t);\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/resolutionChangeMode',\n\t\t\t'fix-heights'\n\t\t);\n\t\treturn;\n\t} //end if\n\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'heatmap/iframeContentHeight',\n\t\twindow.innerHeight / 50\n\t);\n\n\tsetTimeout( () => {\n\t\telementHeights[ activeResolution ]?.forEach( ( data ) => {\n\t\t\tconst actualHeight = window.getComputedStyle( data.el ).height;\n\t\t\tdata.didHeightChange = data.actualHeight !== actualHeight;\n\t\t\tdata.actualHeight = actualHeight;\n\t\t\tdata.style.height = data.el.style.height;\n\t\t\tdata.style.maxHeight = data.el.style.maxHeight;\n\t\t} );\n\n\t\tareProperHeightsComputed[ activeResolution ] = true;\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/iframeContentHeight',\n\t\t\tgetDocumentHeight( activeResolution )\n\t\t);\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/resolutionChangeMode',\n\t\t\t'fix-heights'\n\t\t);\n\t}, ELEMENT_HEIGHT_COMPUTATION_DELAY );\n} //end storeProperHeightsAndMaximizeIFrame()\n\nfunction fixInvalidHeights(\n\tactiveResolution: HeatmapResolution,\n\tdispatch: Dispatch\n) {\n\telementHeights[ activeResolution ]?.forEach( ( info ) => {\n\t\tconst { el, actualHeight, didHeightChange } = info;\n\n\t\t// Check if alt heights where set by another resolution.\n\t\tif ( 'true' === el.dataset.nabCustomHeights ) {\n\t\t\tel.style.height = '';\n\t\t\tel.style.minHeight = '';\n\t\t} //end if\n\n\t\tif ( ! didHeightChange ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tel.dataset.nabCustomHeights = 'true';\n\t\tel.style.height = actualHeight;\n\t\tel.style.minHeight = actualHeight;\n\t} );\n\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'heatmap/iframeContentHeight',\n\t\tgetDocumentHeight( activeResolution )\n\t);\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'heatmap/resolutionChangeMode',\n\t\t'compute-click-coordinates'\n\t);\n} //end fixInvalidHeights()\n\nfunction computeClickCoordinatesInResolution(\n\tactiveResolution,\n\tdispatch: Dispatch\n) {\n\tif ( areClickCoordinatesAlreadyComputedInResolution( activeResolution ) ) {\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/resolutionChangeMode',\n\t\t\t'none'\n\t\t);\n\t\treturn;\n\t} //end if\n\n\tsetTimeout( () => {\n\t\tdoComputeClickCoordinatesInResolution( activeResolution );\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/iframeContentHeight',\n\t\t\tgetDocumentHeight( activeResolution )\n\t\t);\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'heatmap/resolutionChangeMode',\n\t\t\t'none'\n\t\t);\n\t}, ELEMENT_HEIGHT_COMPUTATION_DELAY );\n} //end computeClickCoordinatesInResolution()\n\nfunction recomputeClickCoordinatesInResolution(\n\tactiveResolution,\n\tdispatch: Dispatch\n) {\n\tdoRecomputeClickCoordinatesInResolution( activeResolution );\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'heatmap/resolutionChangeMode',\n\t\t'none'\n\t);\n} //end recomputeClickCoordinatesInResolution()\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport * as StackBlur from 'stackblur-canvas';\nimport type {\n\tDict,\n\tDims,\n\tHeatmapFrameAction,\n\tHeatmapResolution,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getScrolls } from './store';\nimport {\n\tcreateOverlayElement,\n\tgetDocumentHeight,\n\tgetMinMaxWidthInResolution,\n\tmaximizeElement,\n} from './utils';\nimport type { Scroll } from './types';\n\ntype Scrollmap = {\n\taverageFold?: HTMLElement;\n\tcanvas?: HTMLCanvasElement;\n\tactiveResolution: HeatmapResolution;\n\tdata: Partial< Record< HeatmapResolution, ScrollmapData > >;\n\timages: Record< string, HTMLCanvasElement >;\n\tscrolls?: ReadonlyArray< Scroll >;\n\tstats?: HTMLElement;\n\tstatsTracker?: HTMLElement;\n};\n\ntype ScrollmapData = {\n\treadonly maxHits: number;\n\treadonly rows: ReadonlyArray< number >;\n\treadonly averageFold: number | false;\n};\n\nconst scrollmap: Scrollmap = {\n\tactiveResolution: 'desktop',\n\tdata: {},\n\timages: {},\n};\n\nconst ROW_HEIGHT = 50;\nconst COLORS = [\n\t'#000000',\n\t'#00031d',\n\t'#00052d',\n\t'#00094f',\n\t'#000c6a',\n\t'#000f7f',\n\t'#0014ac',\n\t'#0017c6',\n\t'#001dff',\n\t'#003dff',\n\t'#0074ff',\n\t'#009cff',\n\t'#00bcff',\n\t'#00d3ff',\n\t'#00ebff',\n\t'#00ffeb',\n\t'#00ffac',\n\t'#00ff74',\n\t'#00ff4d',\n\t'#2aff00',\n\t'#62ff00',\n\t'#91ff00',\n\t'#b1ff00',\n\t'#d1ff00',\n\t'#f8ff00',\n\t'#ffde00',\n\t'#ffbe00',\n\t'#ff9700',\n\t'#ff7700',\n\t'#ff5f00',\n\t'#ff4700',\n\t'#ff0000',\n];\n\nexport function reactToParentMessages( action: HeatmapFrameAction ): void {\n\tif ( 'update-opacity' === action.type ) {\n\t\tsetOverlayOpacity( action.value );\n\t\treturn;\n\t} //end if\n\n\tif ( 'render-results' !== action.type ) {\n\t\treturn;\n\t} //end if\n\n\tif ( 'scrollmap' !== action.mode ) {\n\t\tremoveScrollmapFromBody();\n\t\treturn;\n\t} //end if\n\n\tif ( ! action.areResultsLoaded ) {\n\t\treturn;\n\t} //end if\n\n\tif ( ! scrollmap.scrolls ) {\n\t\tscrollmap.scrolls = getScrolls();\n\t} //end if\n\n\tif ( ! scrollmap.canvas ) {\n\t\tinitScrollmap( action.activeResolution );\n\t} //end if\n\n\tscrollmap.activeResolution = action.activeResolution;\n\n\tsetOverlayOpacity( action.opacity );\n\tappendScrollmapInBody( action.activeResolution );\n\trenderScrollmap( action.activeResolution, action.resolutions );\n} //end reactToParentMessages()\n\nfunction setOverlayOpacity( opacity: number ) {\n\tif ( ! scrollmap.canvas || undefined === opacity ) {\n\t\treturn;\n\t} //end if\n\tscrollmap.canvas.style.opacity = `${ opacity / 100 }`;\n} //end setOverlayOpacity()\n\nfunction removeScrollmapFromBody() {\n\tif ( document.body === scrollmap.canvas?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.canvas );\n\t} //end if\n\n\tif ( document.body === scrollmap.stats?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.stats );\n\t} //end if\n\n\tif ( document.body === scrollmap.averageFold?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.averageFold );\n\t} //end if\n\n\tif ( document.body === scrollmap.statsTracker?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.statsTracker );\n\t} //end if\n} //end removeScrollmapFromBody()\n\nfunction appendScrollmapInBody( resolution: HeatmapResolution ) {\n\tif (\n\t\t! scrollmap.averageFold ||\n\t\t! scrollmap.stats ||\n\t\t! scrollmap.canvas ||\n\t\t! scrollmap.statsTracker\n\t) {\n\t\treturn;\n\t} //end if\n\n\tscrollmap.averageFold.style.width = `${ document.body.clientWidth }px`;\n\tscrollmap.stats.style.width = `${ document.body.clientWidth }px`;\n\tmaximizeElement( scrollmap.canvas, resolution );\n\tmaximizeElement( scrollmap.statsTracker, resolution );\n\n\tif ( document.body === scrollmap.canvas.parentNode ) {\n\t\treturn;\n\t} //end if\n\n\tdocument.body.appendChild( scrollmap.canvas );\n\tdocument.body.appendChild( scrollmap.averageFold );\n\tdocument.body.appendChild( scrollmap.stats );\n\tdocument.body.appendChild( scrollmap.statsTracker );\n} //end appendScrollmapInBody()\n\nfunction initScrollmap( resolution ) {\n\t// Canvas.\n\tscrollmap.canvas = createOverlayElement< HTMLCanvasElement >(\n\t\t'canvas',\n\t\tresolution\n\t);\n\tscrollmap.canvas.style.opacity = '0.75';\n\n\t// Average Fold.\n\tscrollmap.averageFold = createOverlayElement( 'div', resolution );\n\tscrollmap.averageFold.style.display = 'none';\n\tscrollmap.averageFold.style.height = 'auto';\n\tscrollmap.averageFold.style.borderBottom = '2px dashed #262b2d';\n\tscrollmap.averageFold.style.textAlign = 'center';\n\n\tconst averageFoldContainer = createElement( 'span', {\n\t\tstyle: {\n\t\t\tfontSize: '18px',\n\t\t\tmargin: '0 auto',\n\t\t\tborderRadius: '4px',\n\t\t\tfontWeight: '600',\n\t\t\tfontFamily:\n\t\t\t\t'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif',\n\t\t\tbackground: '#262b2d',\n\t\t\tpointerEvents: 'none',\n\t\t\tcolor: '#eee',\n\t\t\tdisplay: 'inline-block',\n\t\t\ttransform: 'translate(-50%, -50%)',\n\t\t\tposition: 'absolute',\n\t\t\twhiteSpace: 'nowrap',\n\t\t},\n\t} );\n\n\tscrollmap.averageFold.appendChild( averageFoldContainer );\n\tconst scrollmapSpan = createElement( 'span', {\n\t\tclassName: 'nab-data-block',\n\t\tstyle: { padding: '0 1em' },\n\t} );\n\tconst scrollmapSpanIcon = createElement( 'span', {\n\t\tclassName: 'dashicons dashicons-image-flip-vertical',\n\t\tstyle: {\n\t\t\tverticalAlign: 'text-top',\n\t\t\tmarginRight: '5px',\n\t\t},\n\t} );\n\tconst scrollmapLabel = document.createTextNode(\n\t\t_x( 'Average Fold:', 'text', 'nelio-ab-testing' ) + ' '\n\t);\n\tconst scrollmapValue = createElement( 'output', {\n\t\tid: 'nab-average-fold',\n\t} );\n\taverageFoldContainer.appendChild( scrollmapSpan );\n\tscrollmapSpan.appendChild( scrollmapSpanIcon );\n\tscrollmapSpan.appendChild( scrollmapLabel );\n\tscrollmapSpan.appendChild( scrollmapValue );\n\n\t// Stats.\n\tscrollmap.stats = createOverlayElement( 'div', resolution );\n\tscrollmap.stats.style.height = 'auto';\n\tscrollmap.stats.style.borderBottom = '2px dashed #262b2d';\n\tscrollmap.stats.style.opacity = '0';\n\tscrollmap.stats.style.transition = 'opacity 200ms ease-in-out';\n\n\tconst scrollStatsContainer = createElement( 'span', {\n\t\tstyle: {\n\t\t\tfontSize: '18px',\n\t\t\tleft: '1em',\n\t\t\tborderRadius: '4px',\n\t\t\tfontWeight: '600',\n\t\t\tfontFamily:\n\t\t\t\t'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif',\n\t\t\tbackground: '#262b2d',\n\t\t\tpointerEvents: 'none',\n\t\t\tcolor: '#eee',\n\t\t\tdisplay: 'inline-block',\n\t\t\tposition: 'absolute',\n\t\t\ttransform: 'translate(0, -50%)',\n\t\t\twhiteSpace: 'nowrap',\n\t\t},\n\t} );\n\n\tconst statsPopularity = createElement( 'span', {\n\t\tclassName: 'nab-data-block',\n\t\tstyle: { padding: '0 1em' },\n\t} );\n\tconst statsPopularityLabel = document.createTextNode(\n\t\t_x( 'Popularity:', 'text', 'nelio-ab-testing' ) + ' '\n\t);\n\tconst statsPopularityValue = createElement( 'output', {\n\t\tid: 'nab-popularity',\n\t} );\n\tscrollStatsContainer.appendChild( statsPopularity );\n\tstatsPopularity.appendChild( statsPopularityLabel );\n\tstatsPopularity.appendChild( statsPopularityValue );\n\n\t// Stats tracker.\n\tscrollmap.statsTracker = createOverlayElement( 'div', resolution );\n\n\t// Event listeners.\n\tscrollmap.stats.appendChild( scrollStatsContainer );\n\n\tscrollmap.statsTracker.addEventListener( 'mouseenter', () => {\n\t\tif ( scrollmap.stats ) {\n\t\t\tscrollmap.stats.style.opacity = '1';\n\t\t} //end if\n\t} );\n\n\tscrollmap.statsTracker.addEventListener( 'mouseleave', () => {\n\t\tif ( scrollmap.stats ) {\n\t\t\tscrollmap.stats.style.opacity = '0';\n\t\t} //end if\n\t} );\n\n\tscrollmap.statsTracker.addEventListener( 'mousemove', ( event ) => {\n\t\tconst data = scrollmap.data[ scrollmap.activeResolution ];\n\t\tif ( ! data ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tconst { rows, maxHits } = data;\n\t\tconst rowIndex = Math.floor( event.y / ROW_HEIGHT );\n\t\tconst intensity = rows[ rowIndex ];\n\t\tconst popularity = Math.round( ( 100 * intensity ) / maxHits ) || 0;\n\n\t\tconst popularityEl = document.getElementById( 'nab-popularity' );\n\t\tif ( ! popularityEl || ! scrollmap.stats ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tpopularityEl.textContent = `${ popularity.toLocaleString() }%`;\n\t\tscrollmap.stats.style.top = `${ Math.max( event.y, 0 ) }px`;\n\t} );\n} //end initScrollmap()\n\nfunction renderScrollmap(\n\tactiveResolution: HeatmapResolution,\n\tresolutions: Record< HeatmapResolution, Dims >\n): void {\n\tif ( ! scrollmap.images[ activeResolution ] ) {\n\t\tgenerateScrollmapImage( activeResolution, resolutions );\n\t} //end if\n\n\tif ( ! scrollmap.canvas ) {\n\t\treturn;\n\t} //end if\n\n\tconst image = scrollmap.images[ activeResolution ];\n\tconst ctx = scrollmap.canvas.getContext( '2d' );\n\tif ( image && ctx ) {\n\t\tscrollmap.canvas.width = image.width;\n\t\tscrollmap.canvas.height = image.height;\n\t\tctx.clearRect( 0, 0, scrollmap.canvas.width, scrollmap.canvas.height );\n\t\tctx.drawImage( image, 0, 0 );\n\t} //end if\n\n\trenderAverageFold( activeResolution, resolutions );\n} //end renderScrollmap()\n\nfunction renderAverageFold(\n\tactiveResolution: HeatmapResolution,\n\tresolutions: Record< HeatmapResolution, Dims >\n) {\n\tconst avgFoldEl = document.getElementById( 'nab-average-fold' );\n\tif ( ! avgFoldEl || ! scrollmap.averageFold ) {\n\t\treturn;\n\t} //end if\n\n\tconst firstFoldPosition = resolutions[ activeResolution ].height;\n\tconst { averageFold } = scrollmap.data[ activeResolution ] || {};\n\tif ( averageFold ) {\n\t\tavgFoldEl.textContent = `${ averageFold.toLocaleString() }px`;\n\t\tscrollmap.averageFold.style.top = `${ firstFoldPosition }px`;\n\t\tscrollmap.averageFold.style.display = 'block';\n\t} else {\n\t\tavgFoldEl.textContent = ``;\n\t\tscrollmap.averageFold.style.display = 'none';\n\t} //end if\n} //end renderAverageFold()\n\nfunction generateScrollmapImage(\n\tactiveResolution: HeatmapResolution,\n\tresolutions: Record< HeatmapResolution, Dims >\n) {\n\tif ( ! scrollmap.data[ activeResolution ] ) {\n\t\tprocessScrollDataForCurrentResolution( activeResolution, resolutions );\n\t} //end if\n\n\tconst data = scrollmap.data[ activeResolution ];\n\tif ( ! data ) {\n\t\treturn;\n\t} //end if\n\n\tconst { rows, maxHits } = data;\n\tconst narrowCanvas = createElement< HTMLCanvasElement >( 'canvas' );\n\tnarrowCanvas.width = 1;\n\tnarrowCanvas.height = rows.length;\n\tconst narrowCtx = narrowCanvas.getContext( '2d' );\n\n\tconst colorIndexes = rows.map( ( hits ) =>\n\t\tMath.floor( ( hits / maxHits ) * ( COLORS.length - 1 ) )\n\t);\n\tsmoothColorIndexTransition( colorIndexes ).forEach(\n\t\t( colorIndex, rowNumber ) => {\n\t\t\tif ( ! narrowCtx || ! scrollmap.canvas ) {\n\t\t\t\treturn;\n\t\t\t} //end if\n\t\t\tnarrowCtx.fillStyle = COLORS[ colorIndex ];\n\t\t\tnarrowCtx.fillRect( 0, rowNumber, scrollmap.canvas.width, 1 );\n\t\t}\n\t);\n\n\tStackBlur.canvasRGB(\n\t\tnarrowCanvas,\n\t\t0,\n\t\t0,\n\t\tnarrowCanvas.width,\n\t\tnarrowCanvas.height,\n\t\t100 / ROW_HEIGHT\n\t);\n\tscrollmap.images[ activeResolution ] = narrowCanvas;\n} //end generateScrollmapImage()\n\nfunction processScrollDataForCurrentResolution(\n\tactiveResolution: HeatmapResolution,\n\tresolutions: Record< HeatmapResolution, Dims >\n) {\n\tconst bodyHeight = window.document.body.clientHeight;\n\tconst iframeHeight = getDocumentHeight( activeResolution );\n\tconst numOfRows = Math.ceil( iframeHeight / ROW_HEIGHT );\n\tconst rows = new Array( numOfRows ).fill( 0 );\n\n\tlet heightFromTop = 0;\n\n\tconst scrollsInResolution = getScrollsInResolution(\n\t\tscrollmap.scrolls ?? [],\n\t\tactiveResolution,\n\t\tresolutions\n\t);\n\n\tscrollsInResolution.forEach(\n\t\t( { firstFold, maxScroll, sweetSpot, documentHeight } ) => {\n\t\t\t// Accumulate first fold heights.\n\t\t\theightFromTop += firstFold;\n\n\t\t\tmaxScroll = Math.round(\n\t\t\t\t( maxScroll / documentHeight ) * bodyHeight\n\t\t\t);\n\t\t\tsweetSpot = Math.round(\n\t\t\t\t( sweetSpot / documentHeight ) * bodyHeight\n\t\t\t);\n\n\t\t\tconst maxScrollRow = Math.ceil( maxScroll / ROW_HEIGHT );\n\n\t\t\t// Add max scrolling relevance.\n\t\t\tconst lastScrollRow = Math.min( maxScrollRow, numOfRows - 1 );\n\t\t\tfor ( let i = 0; i <= lastScrollRow; ++i ) {\n\t\t\t\trows[ i ] = ++rows[ i ] || 1;\n\t\t\t} //end for\n\n\t\t\t// Add sweetspot relevance.\n\t\t\tconst sweetSpotMinRow = Math.floor(\n\t\t\t\t( sweetSpot - firstFold / 2 ) / ROW_HEIGHT\n\t\t\t);\n\t\t\tconst sweetSpotMaxRow = Math.ceil(\n\t\t\t\t( sweetSpot + firstFold / 2 ) / ROW_HEIGHT\n\t\t\t);\n\t\t\tconst lastSweetSpotRow = Math.min( sweetSpotMaxRow, numOfRows - 1 );\n\t\t\tfor (\n\t\t\t\tlet i = Math.max( 0, sweetSpotMinRow );\n\t\t\t\ti <= lastSweetSpotRow;\n\t\t\t\t++i\n\t\t\t) {\n\t\t\t\trows[ i ] = ++rows[ i ] || 1;\n\t\t\t} //end for\n\t\t}\n\t);\n\n\tscrollmap.data[ activeResolution ] = {\n\t\trows,\n\t\tmaxHits: max( rows ),\n\t\taverageFold: !! scrollsInResolution.length\n\t\t\t? Math.ceil( heightFromTop / scrollsInResolution.length )\n\t\t\t: false,\n\t};\n} //end processScrollData()\n\nfunction getScrollsInResolution(\n\tscrolls: ReadonlyArray< Scroll >,\n\tactiveResolution: HeatmapResolution,\n\tresolutions: Record< HeatmapResolution, Dims >\n) {\n\tconst { minWidth, maxWidth } = getMinMaxWidthInResolution(\n\t\tactiveResolution,\n\t\tresolutions\n\t);\n\treturn scrolls.filter(\n\t\t( { windowWidth } ) =>\n\t\t\tminWidth <= windowWidth && windowWidth <= maxWidth\n\t);\n} //end getScrollsInResolution()\n\nfunction smoothColorIndexTransition( values: ReadonlyArray< number > ) {\n\tlet result = values;\n\tfor ( let i = 0; i < 5; ++i ) {\n\t\tresult = smooth( result );\n\t} //end for\n\treturn result;\n} //end smoothColorIndexTransition()\n\nfunction smooth( values: ReadonlyArray< number > ) {\n\tif ( ! values.length ) {\n\t\treturn values;\n\t} //end if\n\n\tconst weighted = average( values );\n\tconst originalMin = min( values );\n\tconst originalMax = max( values );\n\tconst originalSize = originalMax - originalMin;\n\n\tconst numOfItems = values.length;\n\tconst padding = 10;\n\tconst firstValue = values[ 0 ] || 0;\n\tconst lastValue = values[ values.length - 1 ] || 0;\n\tvalues = [\n\t\t...( new Array( padding ).fill( firstValue ) as number[] ),\n\t\t...values,\n\t\t...( new Array( padding ).fill( lastValue ) as number[] ),\n\t];\n\n\tlet smoothed: number[] = [];\n\tfor ( let i = 1; i < values.length - 1; ++i ) {\n\t\tconst curr = values[ i ];\n\t\tconst prev = smoothed[ i - 1 ] || values[ i - 1 ];\n\t\tconst next = values[ i + 1 ];\n\t\tconst improved = average( [ weighted, prev, curr, next ] );\n\t\tsmoothed.push( improved );\n\t} //end for\n\tsmoothed = smoothed.splice( padding - 1, numOfItems );\n\n\tconst smoothedMin = min( smoothed );\n\tconst smoothedMax = max( smoothed );\n\tconst smoothedSize = smoothedMax - smoothedMin;\n\tconst normalized = smoothed.map(\n\t\t( value ) => ( value - smoothedMin ) / smoothedSize\n\t);\n\n\treturn normalized.map(\n\t\t( value ) => Math.round( value * originalSize ) + originalMin\n\t);\n} //end smooth()\n\nfunction average( values: ReadonlyArray< number > ) {\n\tconst sum = values.reduce( ( res, val ) => res + val, 0 );\n\tconst avg = sum / values.length;\n\treturn avg;\n} //end average()\n\nfunction min( values: ReadonlyArray< number > ) {\n\treturn values.reduce(\n\t\t( memo, value ) => Math.min( memo, value ),\n\t\tNumber.POSITIVE_INFINITY\n\t);\n} //end if\n\nfunction max( values: ReadonlyArray< number > ) {\n\treturn values.reduce(\n\t\t( memo, value ) => Math.max( memo, value ),\n\t\tNumber.NEGATIVE_INFINITY\n\t);\n} //end if\n\nfunction createElement< T extends HTMLElement = HTMLElement >(\n\ttype: string,\n\toptions: Dict & { style?: Dict< string > } = {}\n): T {\n\tconst el = document.createElement( type );\n\n\tconst { id, className, style, ...props } = options;\n\tif ( 'string' === typeof id ) {\n\t\tel.id = id;\n\t} //end if\n\n\tif ( 'string' === typeof className ) {\n\t\tel.className = className;\n\t} //end if\n\n\tif ( 'object' === typeof style ) {\n\t\tObject.keys( style ).forEach( ( k ) => {\n\t\t\tel.style[ k ] = style[ k ];\n\t\t} );\n\t} //end if\n\n\tObject.keys( props ).forEach( ( p ) => {\n\t\tel[ p ] = props[ p ];\n\t} );\n\n\treturn el as T;\n} //end createElement()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { _x } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * External dependencies\n */\nimport type { Dims, Experiment, HeatmapResolution } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getElementByXPath } from '../../../public/tracking/regular/xpath';\nimport { getMinMaxWidthInResolution } from './utils';\nimport type {\n\tClick,\n\tHeatmapResults,\n\tResultLoadingOptions,\n\tScroll,\n} from './types';\n\ntype BoundingBox = {\n\treadonly top: number;\n\treadonly left: number;\n\treadonly width: number;\n\treadonly height: number;\n};\n\ntype AlternativeIndex = number;\n\n// NOTE. No @nab packages in front.\nconst NAB_DATA = 'nab/data';\n\nlet isLoadingResults = false;\nlet results: false | HeatmapResults = false;\nlet areClickCoordinatesComputed: Record< HeatmapResolution, boolean > = {\n\tdesktop: false,\n\ttablet: false,\n\tsmartphone: false,\n};\nlet boundingBoxes: Record<\n\tHeatmapResolution,\n\tRecord< string, false | BoundingBox >\n> = { desktop: {}, tablet: {}, smartphone: {} };\n\nexport function loadResults(\n\texperiment: Experiment,\n\talternative: AlternativeIndex,\n\toptions: ResultLoadingOptions\n): void {\n\tif ( isLoadingResults ) {\n\t\treturn;\n\t} //end if\n\tisLoadingResults = true;\n\n\tresults = false;\n\tareClickCoordinatesComputed = {\n\t\tdesktop: false,\n\t\ttablet: false,\n\t\tsmartphone: false,\n\t};\n\tconst { dispatch } = options;\n\tconst { setPageAttribute } = dispatch( NAB_DATA );\n\tsetPageAttribute( 'heatmap/dataStatus', { mode: 'loading' } );\n\n\tPromise.all( [\n\t\tpaginatedLoad< Click >( 'clicks', experiment, alternative, options ),\n\t\tpaginatedLoad< Scroll >( 'scrolls', experiment, alternative, options ),\n\t] )\n\t\t.then( ( [ clicks, scrolls ] ) => {\n\t\t\tsetPageAttribute( 'heatmap/dataStatus', {\n\t\t\t\tmode: 'processing',\n\t\t\t} );\n\t\t\tisLoadingResults = false;\n\t\t\tresults = { clicks, scrolls };\n\t\t\tbeautifyClicks();\n\t\t\tsetPageAttribute( 'heatmap/dataStatus', { mode: 'ready' } );\n\t\t\tsetPageAttribute( 'heatmap/resolutionChangeMode', 'reset-heights' );\n\t\t} )\n\t\t.catch( () => {\n\t\t\tsetPageAttribute( 'heatmap/dataStatus', {\n\t\t\t\tmode: 'error',\n\t\t\t\trationale: 'promise-failed',\n\t\t\t} );\n\t\t} );\n} //end loadResults()\n\nexport function getClicks(): HeatmapResults[ 'clicks' ] {\n\tif ( isLoadingResults ) {\n\t\treturn [];\n\t} //end if\n\n\tif ( ! results ) {\n\t\treturn [];\n\t} //end if\n\n\tif ( ! areClickCoordinatesComputed.desktop ) {\n\t\treturn [];\n\t} //end if\n\n\treturn results.clicks;\n} //end getClicks()\n\nexport function getClicksInResolution(\n\tresolution: HeatmapResolution,\n\tavailableResolutions: Record< HeatmapResolution, Dims >\n): HeatmapResults[ 'clicks' ] {\n\tif ( isLoadingResults ) {\n\t\treturn [];\n\t} //end if\n\n\tif ( ! results ) {\n\t\treturn [];\n\t} //end if\n\n\tif ( ! areClickCoordinatesComputed[ resolution ] || ! results.clicks ) {\n\t\treturn [];\n\t} //end if\n\n\tconst { minWidth, maxWidth } = getMinMaxWidthInResolution(\n\t\tresolution,\n\t\tavailableResolutions\n\t);\n\treturn results.clicks.filter(\n\t\t( { realCoordinates: rc, windowWidthInPx: w } ) =>\n\t\t\tminWidth <= w && w <= maxWidth && !! rc?.[ resolution ]\n\t);\n} //end getClicksInResolution()\n\nexport function getScrolls(): HeatmapResults[ 'scrolls' ] {\n\tif ( isLoadingResults ) {\n\t\treturn [];\n\t} //end if\n\n\tif ( ! results ) {\n\t\treturn [];\n\t} //end if\n\n\treturn results.scrolls;\n} //end getScrolls()\n\nexport function areClickCoordinatesAlreadyComputedInResolution(\n\tresolution: HeatmapResolution\n): boolean {\n\treturn !! areClickCoordinatesComputed[ resolution ];\n} //end if\n\nexport function computeClickCoordinatesInResolution(\n\tresolution: HeatmapResolution\n): void {\n\tif ( isLoadingResults || ! results ) {\n\t\treturn;\n\t} //end if\n\n\tif ( areClickCoordinatesComputed[ resolution ] ) {\n\t\treturn;\n\t} //end if\n\n\tcomputeClickCoordinates( resolution );\n} //end computeClickCoordinatesInResolution()\n\nexport function recomputeClickCoordinatesInResolution(\n\tresolution: HeatmapResolution\n): void {\n\tif ( isLoadingResults || ! results ) {\n\t\treturn;\n\t} //end if\n\n\tareClickCoordinatesComputed = {\n\t\tdesktop: false,\n\t\ttablet: false,\n\t\tsmartphone: false,\n\t};\n\tboundingBoxes = { desktop: {}, tablet: {}, smartphone: {} };\n\tcomputeClickCoordinates( resolution );\n} //end recomputeClickCoordinatesInResolution()\n\n// =======\n// HELPERS\n// =======\n\nfunction paginatedLoad< T >(\n\twhat: 'clicks' | 'scrolls',\n\texperiment: Experiment,\n\talternative: AlternativeIndex,\n\toptions: ResultLoadingOptions\n): Promise< ReadonlyArray< T > > {\n\tconst { siteId } = options;\n\n\tconst args = {\n\t\talternative,\n\t\tstart: experiment.startDate,\n\t\tend: experiment?.endDate,\n\t\ttz: options.timezone,\n\t};\n\n\treturn new Promise( ( resolve ) => {\n\t\tconst url = addQueryArgs(\n\t\t\t`https://api.nelioabtesting.com/v1/site/${ siteId }/experiment/${ experiment.id }/${ what }`,\n\t\t\targs\n\t\t);\n\t\tloadPage< T >(\n\t\t\turl,\n\t\t\toptions.awsAuthToken,\n\t\t\t[] as ReadonlyArray< T >,\n\t\t\tresolve\n\t\t);\n\t} );\n} //end paginatedLoad()\n\nfunction loadPage< T >(\n\turl: string,\n\tauthToken: string,\n\tresult: ReadonlyArray< T >,\n\tresolve: ( r: unknown ) => void\n): void {\n\ttype Result = {\n\t\treadonly data: ReadonlyArray< T >;\n\t\treadonly page: number;\n\t};\n\n\tapiFetch< Result >( {\n\t\turl,\n\t\tmethod: 'GET',\n\t\tcredentials: 'omit',\n\t\tmode: 'cors',\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${ authToken }`,\n\t\t},\n\t} ).then(\n\t\t( { data, page } ) => {\n\t\t\tresult = [ ...result, ...data ];\n\t\t\tconst newUrl = addQueryArgs( url, { page } );\n\t\t\tif ( page && url !== newUrl ) {\n\t\t\t\tloadPage( newUrl, authToken, result, resolve );\n\t\t\t} else {\n\t\t\t\tresolve( result );\n\t\t\t} //end if\n\t\t},\n\t\t() => resolve( result )\n\t);\n} //end loadPage()\n\nfunction beautifyClicks(): void {\n\tif ( ! results ) {\n\t\treturn;\n\t} //end if\n\n\tconst UNKNOWN = _x( 'unknown', 'text', 'nelio-ab-testing' );\n\tresults = {\n\t\t...results,\n\t\tclicks: results.clicks.map( ( click ) => ( {\n\t\t\t...click,\n\t\t\tbrowser: click.browser || UNKNOWN,\n\t\t\tcountry: click.country || UNKNOWN,\n\t\t\tdayOfWeek: getDayOfWeekCategory( click.dayOfWeek ),\n\t\t\tdevice: click.device || UNKNOWN,\n\t\t\thourOfDay: getHourOfDayCategory( click.hourOfDay ),\n\t\t\tintensity: click.intensity || 1,\n\t\t\tos: click.os || UNKNOWN,\n\t\t\ttimeToClick: getTimeToClickCategory( click.timeToClick ),\n\t\t\twindowWidth: getWindowWidthCategory( click.windowWidth ),\n\t\t\twindowWidthInPx:\n\t\t\t\t'number' === typeof click.windowWidth\n\t\t\t\t\t? click.windowWidth\n\t\t\t\t\t: Number.parseInt( click.windowWidth ) || 0,\n\t\t\tisVisibleInResolution: {},\n\t\t\trealCoordinates: {},\n\t\t} ) ),\n\t};\n} //end beautifyClicks()\n\nfunction computeClickCoordinates( resolution: HeatmapResolution ): void {\n\tif ( ! results ) {\n\t\treturn;\n\t} //end if\n\n\tresults.clicks.forEach( ( click ) => {\n\t\tconst { x, y } = click;\n\t\tconst { top, left, width, height } = getElementBoundingBox(\n\t\t\tclick,\n\t\t\tresolution\n\t\t) || { top: 0, left: 0, width: 0, height: 0 };\n\n\t\tconst realX = left + x * width;\n\t\tconst realY = top + y * height;\n\n\t\tclick.realCoordinates = click.realCoordinates || {};\n\t\tclick.realCoordinates[ resolution ] = {\n\t\t\t...( click.realCoordinates[ resolution ] || {} ),\n\t\t\tx: realX,\n\t\t\ty: realY,\n\t\t};\n\n\t\tclick.isVisibleInResolution = click.isVisibleInResolution || {};\n\t\tclick.isVisibleInResolution[ resolution ] = width > 0 && height > 0;\n\t} );\n\n\tareClickCoordinatesComputed[ resolution ] = true;\n} //end computeClickCoordinates()\n\nfunction getElementBoundingBox(\n\tclick: Click,\n\tresolution: HeatmapResolution\n): BoundingBox | false {\n\tconst selector = click.xpath || click.cssPath;\n\tif ( ! selector ) {\n\t\treturn false;\n\t} //end if\n\n\tif ( undefined !== boundingBoxes[ resolution ][ selector ] ) {\n\t\treturn boundingBoxes[ resolution ][ selector ];\n\t} //end if\n\n\tlet el: Node | null = null;\n\ttry {\n\t\tel = click.xpath\n\t\t\t? getElementByXPath( selector )\n\t\t\t: document.querySelector( selector );\n\t} catch ( e ) {\n\t\tconsole.log( 'OOPS', click.xpath );\n\t} //end if\n\n\tif ( isHTMLElement( el ) ) {\n\t\tboundingBoxes[ resolution ][ selector ] = el.getBoundingClientRect();\n\t} else {\n\t\tboundingBoxes[ resolution ][ selector ] = false;\n\t} //end if\n\n\treturn boundingBoxes[ resolution ][ selector ];\n} //end getElementBoundingBox()\n\nfunction getHourOfDayCategory( hourOfDay: string | number ): string {\n\tif ( 'string' === typeof hourOfDay ) {\n\t\thourOfDay = Number.parseInt( hourOfDay );\n\t\tif ( isNaN( hourOfDay ) ) {\n\t\t\thourOfDay = 0;\n\t\t} //end if\n\t} //end if\n\treturn `${ Math.floor( hourOfDay / 2 ) }`;\n} //end getHourOfDayCategory()\n\nfunction getDayOfWeekCategory( dayOfWeek: string | number ): string {\n\treturn `${ dayOfWeek }`;\n} //end getDayOfWeekCategory()\n\nfunction getTimeToClickCategory( timeToClick: string | number ): string {\n\tif ( 'string' === typeof timeToClick ) {\n\t\ttimeToClick = Number.parseInt( timeToClick );\n\t} //end if\n\tconst cuts = [ 2, 3, 4, 5, 10, 15, 20, 25, 30, 60, 120, 180, 300 ];\n\tfor ( let i = 0; i < cuts.length; ++i ) {\n\t\tif ( timeToClick <= cuts[ i ] ) {\n\t\t\treturn `${ i }`;\n\t\t} //end if\n\t} //end for\n\n\treturn `${ cuts[ cuts.length - 1 ] }`;\n} //end getTimeToClickCategory()\n\nfunction getWindowWidthCategory( windowWidth: string | number ): string {\n\tif ( 'string' === typeof windowWidth ) {\n\t\twindowWidth = Number.parseInt( windowWidth );\n\t} //end if\n\n\tconst cuts = [ 300, 600, 900, 1200, 1500, 1800, 2100 ];\n\tfor ( let i = 0; i < cuts.length; ++i ) {\n\t\tif ( windowWidth < cuts[ i ] ) {\n\t\t\treturn `${ i }`;\n\t\t} //end if\n\t} //end for\n\n\treturn `${ cuts[ cuts.length - 1 ] }`;\n} //end getWindowWidthCategory()\n\nfunction isHTMLElement( n: Node | null ): n is HTMLElement {\n\treturn !! n && Node.ELEMENT_NODE === n.nodeType;\n} //end isHTMLElement()\n","/**\n * External dependencies\n */\nimport type { Dims, HeatmapResolution } from '@nab/types';\n\nconst MAX_DESKTOP_HEIGHT = 30000;\nconst HEIGHT_SCALE_FACTOR = 1.2;\n\nexport function createOverlayElement< T extends HTMLElement = HTMLElement >(\n\ttype: string,\n\tresolution: HeatmapResolution\n): T {\n\tconst el = document.createElement( type );\n\tel.className = 'nab-overlay-element';\n\tel.style.position = 'absolute';\n\tel.style.left = '0px';\n\tel.style.top = '0px';\n\tel.style.zIndex = '999999';\n\tmaximizeElement( el, resolution );\n\n\treturn el as T;\n} //end createOverlayElement()\n\nexport function maximizeElement(\n\tel: HTMLElement,\n\tresolution: HeatmapResolution\n): void {\n\tconst width = document.body.clientWidth;\n\tconst height = getDocumentHeight( resolution );\n\n\tel.style.width = `${ width }px`;\n\tel.style.height = `${ height }px`;\n\n\tif ( isHTMLCanvas( el ) ) {\n\t\tel.width = width;\n\t\tel.height = height;\n\t} //end if\n} //end maximizeElement()\n\nexport function getDocumentHeight( resolution: HeatmapResolution ): number {\n\tconst bodyActualHeight = document.body.clientHeight;\n\n\tswitch ( resolution ) {\n\t\tcase 'smartphone':\n\t\t\treturn Math.min(\n\t\t\t\tbodyActualHeight,\n\t\t\t\tMAX_DESKTOP_HEIGHT * HEIGHT_SCALE_FACTOR * HEIGHT_SCALE_FACTOR\n\t\t\t);\n\n\t\tcase 'tablet':\n\t\t\treturn Math.min(\n\t\t\t\tbodyActualHeight,\n\t\t\t\tMAX_DESKTOP_HEIGHT * HEIGHT_SCALE_FACTOR\n\t\t\t);\n\n\t\tcase 'desktop':\n\t\tdefault:\n\t\t\treturn Math.min( bodyActualHeight, MAX_DESKTOP_HEIGHT );\n\t} //end switch\n} //end getDocumentHeight()\n\nexport function getMinMaxWidthInResolution(\n\tactiveResolution: HeatmapResolution,\n\tresolutions: Record< HeatmapResolution, Dims >\n): {\n\treadonly minWidth: number;\n\treadonly maxWidth: number;\n} {\n\tconst expectedWidth = resolutions[ activeResolution ].width;\n\tconst cuts = Object.values( resolutions ).map( ( { width } ) => width );\n\n\tconst minWidth = cuts.reduce(\n\t\t( memo, width ) =>\n\t\t\twidth < expectedWidth ? Math.max( width, memo ) : memo,\n\t\t-1\n\t);\n\n\tlet maxWidth = cuts.reduce(\n\t\t( memo, width ) =>\n\t\t\texpectedWidth < width ? Math.min( width, memo ) : memo,\n\t\tNumber.POSITIVE_INFINITY\n\t);\n\tif ( Number.POSITIVE_INFINITY !== maxWidth ) {\n\t\tmaxWidth = expectedWidth;\n\t} //end if\n\n\treturn { minWidth: minWidth + 1, maxWidth };\n} //end getMinMaxWidthInResolution()\n\nconst isHTMLCanvas = ( el: HTMLElement ): el is HTMLCanvasElement =>\n\t'canvas' === el.nodeName.toLowerCase();\n","const Node = window.Node;\nconst XPathResult = window.XPathResult;\n\ntype Step = {\n\treadonly value: string;\n\treadonly optimized: boolean;\n};\n\n// Code from Chromium project.\n// https://github.com/chromium/chromium/blob/master/third_party/blink/renderer/devtools/front_end/elements/DOMPath.js\n\nexport function getElementByXPath( xpath: string ): Node | null {\n\treturn document.evaluate(\n\t\txpath,\n\t\tdocument,\n\t\tnull,\n\t\tXPathResult.FIRST_ORDERED_NODE_TYPE,\n\t\tnull\n\t).singleNodeValue;\n} //end getElementByXPath()\n\nexport function xPath( node: Node, optimized: boolean ): string {\n\tif ( node.nodeType === Node.DOCUMENT_NODE ) {\n\t\treturn '/';\n\t} //end if\n\n\tconst steps: Step[] = [];\n\n\tlet contextNode: Node | null = node;\n\twhile ( contextNode ) {\n\t\tconst step = _xPathValue( contextNode, optimized );\n\t\tif ( ! step ) {\n\t\t\tbreak; // Error - bail out early.\n\t\t} //end if\n\n\t\tsteps.push( step );\n\t\tif ( step.optimized ) {\n\t\t\tbreak;\n\t\t} //end if\n\n\t\tcontextNode = contextNode.parentNode;\n\t} //end while\n\n\tsteps.reverse();\n\tconst path = steps.map( ( s ) => s.value ).join( '/' );\n\treturn steps[ 0 ]?.optimized ? path : `/${ path }`;\n} //end xPath()\n\nfunction _xPathValue( node: Node, optimized: boolean ): Step | null {\n\tconst ownIndex = _xPathIndex( node );\n\tif ( ownIndex === -1 ) {\n\t\treturn null; // Error.\n\t} //end if\n\n\tlet ownValue = '';\n\tswitch ( node.nodeType ) {\n\t\tcase Node.ELEMENT_NODE:\n\t\t\tif ( ! isHTMLElement( node ) ) {\n\t\t\t\tbreak;\n\t\t\t} //end if\n\t\t\tif ( optimized && node.getAttribute( 'id' ) ) {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: `//*[@id=\"${ node.getAttribute( 'id' ) || '' }\"]`,\n\t\t\t\t\toptimized: true,\n\t\t\t\t};\n\t\t\t} //end if\n\t\t\townValue = node.localName;\n\t\t\tbreak;\n\n\t\tcase Node.ATTRIBUTE_NODE:\n\t\t\townValue = `@${ node.nodeName }`;\n\t\t\tbreak;\n\n\t\tcase Node.TEXT_NODE:\n\t\tcase Node.CDATA_SECTION_NODE:\n\t\t\townValue = 'text()';\n\t\t\tbreak;\n\n\t\tcase Node.PROCESSING_INSTRUCTION_NODE:\n\t\t\townValue = 'processing-instruction()';\n\t\t\tbreak;\n\n\t\tcase Node.COMMENT_NODE:\n\t\t\townValue = 'comment()';\n\t\t\tbreak;\n\n\t\tcase Node.DOCUMENT_NODE:\n\t\t\townValue = '';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\townValue = '';\n\t\t\tbreak;\n\t} //end switch\n\n\tif ( ownIndex > 0 ) {\n\t\townValue += `[${ ownIndex }]`;\n\t} //end if\n\n\treturn {\n\t\tvalue: ownValue,\n\t\toptimized: node.nodeType === Node.DOCUMENT_NODE,\n\t};\n}\n\nfunction _xPathIndex( node: Node ): number {\n\t// Returns -1 in case of error,\n\t//          0 if no siblings matching the same expression,\n\t//          <XPath index among the same expression-matching sibling nodes> otherwise.\n\tfunction areNodesSimilar( left: Node, right: Node ): boolean {\n\t\tif ( left === right ) {\n\t\t\treturn true;\n\t\t} //end if\n\n\t\tif ( isHTMLElement( left ) && isHTMLElement( right ) ) {\n\t\t\treturn left.localName === right.localName;\n\t\t} //end if\n\n\t\tif ( left.nodeType === right.nodeType ) {\n\t\t\treturn true;\n\t\t} //end if\n\n\t\t// XPath treats CDATA as text nodes.\n\t\tconst leftType =\n\t\t\tleft.nodeType === Node.CDATA_SECTION_NODE\n\t\t\t\t? Node.TEXT_NODE\n\t\t\t\t: left.nodeType;\n\t\tconst rightType =\n\t\t\tright.nodeType === Node.CDATA_SECTION_NODE\n\t\t\t\t? Node.TEXT_NODE\n\t\t\t\t: right.nodeType;\n\t\treturn leftType === rightType;\n\t} //end areNodesSimilar()\n\n\tconst siblings = node.parentNode ? node.parentNode.children : null;\n\tif ( ! siblings ) {\n\t\treturn 0; // Root node - no siblings.\n\t} //end if\n\n\tlet hasSameNamedElements;\n\tfor ( let i = 0; i < siblings.length; ++i ) {\n\t\tif (\n\t\t\tareNodesSimilar( node, siblings[ i ] ) &&\n\t\t\tsiblings[ i ] !== node\n\t\t) {\n\t\t\thasSameNamedElements = true;\n\t\t\tbreak;\n\t\t} //end if\n\t} //end for\n\n\tif ( ! hasSameNamedElements ) {\n\t\treturn 0;\n\t} //end if\n\n\tlet ownIndex = 1; // XPath indices start with 1.\n\tfor ( let i = 0; i < siblings.length; ++i ) {\n\t\tif ( areNodesSimilar( node, siblings[ i ] ) ) {\n\t\t\tif ( siblings[ i ] === node ) {\n\t\t\t\treturn ownIndex;\n\t\t\t} //end if\n\t\t\t++ownIndex;\n\t\t} //end if\n\t} //end for\n\treturn -1; // An error occurred: |node| not found in parent's children.\n} //end _xPathIndex()\n\nconst isHTMLElement = ( n: Node ): n is HTMLElement =>\n\tNode.ELEMENT_NODE === n.nodeType;\n","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * External dependencies\n */\nimport type { HeatmapFrameAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { reactToParentMessages as resolutionReact } from './screen-resolution';\nimport { reactToParentMessages as heatmapReact } from './heatmap';\nimport { reactToParentMessages as scrollmapReact } from './scrollmap';\nimport { reactToParentMessages as confettiReact } from './confetti';\nimport { loadResults } from './store';\n\nimport type { Dispatch, Select } from './types';\n\n// NOTE. No @nab packages in front.\nconst NAB_DATA = 'nab/data';\n\n// Data Status Diagram:\n//    waiting-script  script-loaded  loading  processing  ready\n//      error (rationale)\n\nfunction init() {\n\tif ( ! hasWordPressData( window.parent ) ) {\n\t\tconsole.error( 'Parent window doesnt have expected API. Bye!' ); // eslint-disable-line\n\t\treturn;\n\t} //end if\n\n\tconst { dispatch } = window.parent.wp.data;\n\tconst { setPageAttribute } = dispatch( NAB_DATA );\n\tsetPageAttribute( 'heatmap/dataStatus', { mode: 'script-loaded' } );\n\n\tconst { select } = window.parent.wp.data;\n\tconst { getExperiment, getPageAttribute } = select( NAB_DATA );\n\n\tconst experimentId = getPageAttribute( 'editor/activeExperiment' ) ?? 0;\n\tconst alternativeId = getPageAttribute( 'heatmap/activeAlternative' ) ?? '';\n\tconst experiment = getExperiment( experimentId );\n\tif ( ! experiment ) {\n\t\tsetPageAttribute( 'heatmap/dataStatus', {\n\t\t\tmode: 'error',\n\t\t\trationale: 'experiment-not-found',\n\t\t} );\n\t\treturn;\n\t} //end if\n\n\tconst alternativeIndex = ( experiment.alternatives ?? [] )\n\t\t.map( ( { id } ) => id )\n\t\t.indexOf( alternativeId );\n\tif ( -1 === alternativeIndex ) {\n\t\tsetPageAttribute( 'heatmap/dataStatus', {\n\t\t\tmode: 'error',\n\t\t\trationale: 'alternative-not-found',\n\t\t} );\n\t\treturn;\n\t} //end if\n\n\tconst options = {\n\t\tawsAuthToken: getPageAttribute( 'heatmap/awsAuthToken' ) ?? '',\n\t\tsiteId: getPageAttribute( 'heatmap/siteId' ) ?? '',\n\t\ttimezone: getPageAttribute( 'heatmap/timezone' ) ?? '',\n\t\tdispatch: window.parent.wp.data.dispatch,\n\t};\n\n\tfixBodyHeight();\n\twindow.addEventListener( 'message', reactToParentMessages, false );\n\tloadResults( experiment, alternativeIndex, options );\n} //end init()\n\nfunction reactToParentMessages( message: { data: HeatmapFrameAction } ) {\n\tif ( ! hasWordPressData( window.parent ) ) {\n\t\treturn;\n\t} //end if\n\n\tconst action = message.data;\n\tconst { dispatch } = window.parent.wp.data;\n\n\tresolutionReact( action, dispatch );\n\theatmapReact( action );\n\tscrollmapReact( action );\n\tconfettiReact( action, dispatch );\n} //end reactToParentMessages()\n\nfunction fixBodyHeight() {\n\ttry {\n\t\tdocument.body.style.height = 'auto';\n\t} catch ( e ) {}\n} //end fixBodyHeight()\n\ntype WordPressData = {\n\treadonly wp: {\n\t\treadonly data: {\n\t\t\treadonly dispatch: Dispatch;\n\t\t\treadonly select: Select;\n\t\t};\n\t};\n};\n\nfunction hasWordPressData( win: unknown ): win is WordPressData {\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n\treturn !! ( win as any ).wp.data;\n} //end hasWordPressData()\n\n// =======\n// KICKOFF\n// =======\n\ndomReady( init );\n"],"names":["Framebuffer","Heights","Node","Shader","Texture","WebGLHeatmap","fragmentShaderBlit","nukeVendorPrefix","textureFloatShims","vertexShaderBlit","__indexOf","indexOf","item","i","l","length","getExtension","getSupportedExtensions","vendorRe","vendors","window","WebGLRenderingContext","prototype","name","extobj","match","vendor","_i","_len","call","extension","result","supported","push","checkColorBuffer","checkFloatLinear","checkSupport","checkTexture","createSourceCanvas","shimExtensions","shimLookup","unshimExtensions","unshimLookup","canvas","ctx","imageData","document","createElement","width","height","getContext","getImageData","data","set","Uint8ClampedArray","putImageData","gl","sourceType","buffer","cleanup","fragmentShader","framebuffer","positionLoc","program","readBuffer","source","sourceCanvas","sourceLoc","target","vertexShader","vertices","createProgram","createShader","VERTEX_SHADER","attachShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","FRAGMENT_SHADER","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","deleteShader","deleteProgram","deleteBuffer","deleteTexture","deleteFramebuffer","bindBuffer","ARRAY_BUFFER","bindTexture","TEXTURE_2D","bindFramebuffer","FRAMEBUFFER","createTexture","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","createFramebuffer","framebufferTexture2D","COLOR_ATTACHMENT0","Float32Array","createBuffer","bufferData","STATIC_DRAW","getAttribLocation","getUniformLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform1i","drawArrays","TRIANGLES","Uint8Array","readPixels","Math","abs","targetType","getError","check","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","halfFloatExt","halfFloatTexturing","singleFloatExt","singleFloatTexturing","_error","OES_texture_float","shim","WEBGL_color_buffer_float","RGBA32F_EXT","RGB32F_EXT","FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT","UNSIGNED_NORMALIZED_EXT","OES_texture_float_linear","OES_texture_half_float","HALF_FLOAT_OES","EXT_color_buffer_half_float","RGBA16F_EXT","RGB16F_EXT","OES_texture_half_float_linear","_j","_k","_len1","_len2","getFloatExtension","spec","candidate","candidates","half","halfFramebuffer","halfLinear","halfTexture","importance","preference","single","singleFramebuffer","singleLinear","singleTexture","use","_l","_len3","_len4","_m","_ref","_ref1","_ref2","prefer","require","throws","texture","filterable","renderable","score","precision","type","pow","sort","a","b","join","_arg","fragment","vertex","vs","fs","link","value_cache","uniform_cache","attribCache","attribLocation","location","shader","uniformLoc","int","value","cached","loc","vec2","uniform2f","float","uniform1f","destroy","deleteFRamebuffer","bind","unbind","FRAMEBUFFER_UNSUPPORTED","FRAMEBUFFER_INCOMPLETE_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_DIMENSIONS","FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT","color","handle","depth","framebufferRenderbuffer","DEPTH_ATTACHMENT","RENDERBUFFER","id","params","channels","toUpperCase","chancount","RGB","LUMINANCE_ALPHA","unit","activeTexture","TEXTURE0","setSize","upload","linear","nearest","NEAREST","clampToEdge","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","repeat","REPEAT","floatExt","fbo","end","resize","heatmap","clampShader","multiplyShader","blurShader","nodeBack","nodeFront","vertexBuffer","vertexSize","maxPointCount","vertexBufferData","vertexBufferViews","bufferIndex","pointCount","update","intensityLoc","enable","BLEND","STREAM_DRAW","disableVertexAttribArray","disable","clear","clearColor","COLOR_BUFFER_BIT","clamp","min","max","quad","swap","multiply","blur","tmp","addVertex","x","y","xs","ys","intensity","addPoint","size","s","alphaEnd","alphaRange","alphaStart","error","getColorFun","gradientTexture","image","intensityToAlpha","output","textureGradient","antialias","WebGLDebugUtils","console","log","makeDebugContext","err","funcName","args","glEnumToString","blendFunc","ONE","Image","onload","src","toFixed","offsetWidth","offsetHeight","viewport","heights","adjustSize","canvasHeight","canvasWidth","display","addPoints","items","_results","createWebGLHeatmap"],"sourceRoot":""}