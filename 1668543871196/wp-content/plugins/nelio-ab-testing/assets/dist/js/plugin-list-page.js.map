{"version":3,"file":"js/plugin-list-page.js","mappings":"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","sources":["webpack://nab/./assets/src/admin/pages/plugin-list/components/deactivation-action/style.scss?dfba","webpack://nab/./assets/src/admin/pages/plugin-list/style.scss?eca2","webpack://nab/./assets/src/admin/pages/plugin-list/components/deactivation-action/index.tsx","webpack://nab/external window [\"nab\",\"components\"]","webpack://nab/external window [\"wp\",\"apiFetch\"]","webpack://nab/external window [\"wp\",\"components\"]","webpack://nab/external window [\"wp\",\"domReady\"]","webpack://nab/external window [\"wp\",\"element\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/./assets/src/admin/pages/plugin-list/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport * as React from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { Button, Dashicon, Modal } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { _x } from '@wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { RadioControl } from '@nab/components';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport type DeactivationActionProps = {\n\treadonly isSubscribed: boolean;\n\treadonly cleanNonce: string;\n\treadonly deactivationUrl: string;\n};\n\ntype State = {\n\treadonly isModalOpen: boolean;\n\treadonly isDeactivating: boolean;\n\treadonly reason: {\n\t\treadonly value:\n\t\t\t| 'temporary-deactivation'\n\t\t\t| 'clean-stuff'\n\t\t\t| 'plugin-no-longer-needed'\n\t\t\t| 'plugin-doesnt-work'\n\t\t\t| 'better-plugin-found'\n\t\t\t| 'other';\n\t\treadonly details: string;\n\t};\n};\n\nexport const DeactivationAction = (\n\tprops: DeactivationActionProps\n): JSX.Element => {\n\tconst { isSubscribed } = props;\n\tconst {\n\t\t// Modal state.\n\t\tisModalOpen,\n\t\topenModal,\n\t\tcloseModal,\n\t\tmainActionLabel,\n\t\t// Deactivation state.\n\t\tisDeactivating,\n\t\tdeactivate,\n\t\tcleanAndDeactivate,\n\t\t// Reason.\n\t\treason,\n\t\tsetReason,\n\t} = useModalState( props );\n\n\treturn (\n\t\t<div className=\"nelio-ab-testing-deactivation\">\n\t\t\t<Button\n\t\t\t\tclassName=\"nelio-ab-testing-deactivation__button\"\n\t\t\t\tonClick={ openModal }\n\t\t\t\tisLink\n\t\t\t>\n\t\t\t\t{ _x( 'Deactivate', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\n\t\t\t{ isModalOpen && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ _x(\n\t\t\t\t\t\t'Nelio A/B Testing Deactivation',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t\tisDismissable={ ! isDeactivating }\n\t\t\t\t\tisDismissible={ ! isDeactivating }\n\t\t\t\t\tshouldCloseOnEsc={ ! isDeactivating }\n\t\t\t\t\tshouldCloseOnClickOutside={ ! isDeactivating }\n\t\t\t\t\tonRequestClose={ closeModal }\n\t\t\t\t>\n\t\t\t\t\t{ 'temporary-deactivation' === reason.value ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\t\tselected={ reason.value }\n\t\t\t\t\t\t\t\toptions={ DEACTIVATION_MODES }\n\t\t\t\t\t\t\t\tonChange={ (\n\t\t\t\t\t\t\t\t\tvalue: State[ 'reason' ][ 'value' ]\n\t\t\t\t\t\t\t\t) => setReason( { value, details: '' } ) }\n\t\t\t\t\t\t\t\tdisabled={ isDeactivating }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t'If you have a moment, please share why you are deactivating Nelio A/B Testing:',\n\t\t\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\t\tclassName=\"nelio-ab-testing-deactivation__options\"\n\t\t\t\t\t\t\t\tselected={ reason.value }\n\t\t\t\t\t\t\t\toptions={ DEACTIVATION_REASONS }\n\t\t\t\t\t\t\t\tonChange={ (\n\t\t\t\t\t\t\t\t\tvalue: State[ 'reason' ][ 'value' ]\n\t\t\t\t\t\t\t\t) => setReason( { value, details: '' } ) }\n\t\t\t\t\t\t\t\textraValue={ reason.details }\n\t\t\t\t\t\t\t\tonExtraChange={ ( details ) =>\n\t\t\t\t\t\t\t\t\tsetReason( { ...reason, details } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={ isDeactivating }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ isSubscribed &&\n\t\t\t\t\t\t'temporary-deactivation' !== reason.value && (\n\t\t\t\t\t\t\t<p className=\"nelio-ab-testing-deactivation__subscription-warning\">\n\t\t\t\t\t\t\t\t<Dashicon icon=\"warning\" />\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'Please keep in mind your subscription to Nelio A/B Testing will remain active after removing the plugin from this site. If you want to unsubscribe from our service, you can do so from the plugin’s Account page before you deactivate the plugin.',\n\t\t\t\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t<div className=\"nelio-ab-testing-deactivation__actions\">\n\t\t\t\t\t\t{ 'temporary-deactivation' === reason.value ||\n\t\t\t\t\t\tisDeactivating ? (\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tisLink\n\t\t\t\t\t\t\t\tdisabled={ isDeactivating }\n\t\t\t\t\t\t\t\tonClick={ () => cleanAndDeactivate() }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t'Just Delete Data',\n\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tisDeactivating || 'clean-stuff' === reason.value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t'temporary-deactivation' === reason.value\n\t\t\t\t\t\t\t\t\t? deactivate()\n\t\t\t\t\t\t\t\t\t: cleanAndDeactivate(\n\t\t\t\t\t\t\t\t\t\t\t! reason.details\n\t\t\t\t\t\t\t\t\t\t\t\t? reason.value\n\t\t\t\t\t\t\t\t\t\t\t\t: `${ reason.value }: ${ reason.details }`\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ mainActionLabel }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useModalState = ( {\n\tcleanNonce,\n\tdeactivationUrl,\n}: DeactivationActionProps ) => {\n\tconst [ state, setState ] = useState( INIT_STATE );\n\n\tconst redirect = () => {\n\t\twindow.location.href = deactivationUrl; // phpcs:ignore\n\t};\n\n\tconst openModal = () =>\n\t\tsetState( {\n\t\t\t...INIT_STATE,\n\t\t\tisModalOpen: true,\n\t\t} );\n\n\tconst closeModal = () =>\n\t\tsetState( {\n\t\t\t...INIT_STATE,\n\t\t\tisModalOpen: false,\n\t\t} );\n\n\tconst deactivate = () => {\n\t\tsetState( {\n\t\t\t...state,\n\t\t\treason: INIT_STATE.reason,\n\t\t\tisDeactivating: true,\n\t\t} );\n\t\tredirect();\n\t};\n\n\tconst cleanAndDeactivate = ( reason?: string ): void => {\n\t\tsetState( { ...state, isDeactivating: true } );\n\t\tvoid apiFetch( {\n\t\t\tpath: '/nab/v1/plugin/clean',\n\t\t\tmethod: 'POST',\n\t\t\tdata: { reason, _nonce: cleanNonce },\n\t\t} ).then(\n\t\t\tredirect, // on success\n\t\t\tcloseModal // on error\n\t\t);\n\t};\n\n\tconst setReason = ( reason: State[ 'reason' ] ) =>\n\t\tsetState( { ...state, reason } );\n\n\tconst mainActionLabel =\n\t\t'temporary-deactivation' === state.reason.value\n\t\t\t? getDeactivationLabel( state.isDeactivating )\n\t\t\t: getCleanAndDeactivateLabel( state.isDeactivating );\n\n\treturn {\n\t\tisModalOpen: state.isModalOpen,\n\t\topenModal,\n\t\tcloseModal,\n\n\t\tisDeactivating: state.isDeactivating,\n\t\tmainActionLabel,\n\t\tdeactivate,\n\t\tcleanAndDeactivate,\n\n\t\treason: state.reason,\n\t\tsetReason,\n\t};\n};\n\nconst getDeactivationLabel = ( isDeactivating ) =>\n\tisDeactivating\n\t\t? _x( 'Deactivating…', 'text', 'nelio-ab-testing' )\n\t\t: _x( 'Deactivate', 'command', 'nelio-ab-testing' );\n\nconst getCleanAndDeactivateLabel = ( isDeleting ) =>\n\tisDeleting\n\t\t? _x( 'Deleting Data…', 'text', 'nelio-ab-testing' )\n\t\t: _x( 'Submit and Delete Data', 'command', 'nelio-ab-testing' );\n\n// ====\n// DATA\n// ====\n\nconst INIT_STATE: State = {\n\tisModalOpen: false,\n\tisDeactivating: false,\n\treason: {\n\t\tvalue: 'temporary-deactivation',\n\t\tdetails: '',\n\t},\n};\n\nconst DEACTIVATION_MODES: ReadonlyArray< {\n\treadonly value: State[ 'reason' ][ 'value' ];\n\treadonly label: string;\n} > = [\n\t{\n\t\tvalue: 'temporary-deactivation',\n\t\tlabel: _x(\n\t\t\t'It’s a temporary deactivation',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\t{\n\t\tvalue: 'clean-stuff',\n\t\tlabel: _x(\n\t\t\t'Delete Nelio A/B Testing’s data and deactivate plugin',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n];\n\nconst DEACTIVATION_REASONS: ReadonlyArray< {\n\treadonly value: State[ 'reason' ][ 'value' ];\n\treadonly label: string;\n\treadonly extra?: string;\n} > = [\n\t{\n\t\tvalue: 'plugin-no-longer-needed',\n\t\tlabel: _x( 'I no longer need the plugin', 'text', 'nelio-ab-testing' ),\n\t},\n\t{\n\t\tvalue: 'plugin-doesnt-work',\n\t\tlabel: _x(\n\t\t\t'I couldn’t get the plugin to work',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\textra: _x( 'What went wrong?', 'text', 'nelio-ab-testing' ),\n\t},\n\t{\n\t\tvalue: 'better-plugin-found',\n\t\tlabel: _x( 'I found a better plugin', 'text', 'nelio-ab-testing' ),\n\t\textra: _x( 'What’s the plugin’s name?', 'text', 'nelio-ab-testing' ),\n\t},\n\t{\n\t\tvalue: 'other',\n\t\tlabel: _x( 'Other', 'text', 'nelio-ab-testing' ),\n\t\textra: _x( 'Please share the reason…', 'user', 'nelio-ab-testing' ),\n\t},\n];\n","module.exports = window[\"nab\"][\"components\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport * as React from '@wordpress/element';\nimport '@wordpress/dom-ready';\nimport { render } from '@wordpress/element';\nimport { Popover, SlotFillProvider } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nimport { DeactivationAction } from './components/deactivation-action';\nimport type { DeactivationActionProps } from './components/deactivation-action';\n\ntype Settings = DeactivationActionProps;\n\nexport function initPage( settings: Settings ): void {\n\tconst { isSubscribed, cleanNonce, deactivationUrl } = settings;\n\n\tconst wrapper = document.querySelector(\n\t\t'.nelio-ab-testing-deactivate-link'\n\t);\n\tif ( ! wrapper ) {\n\t\treturn;\n\t} //end if\n\n\trender(\n\t\t<SlotFillProvider>\n\t\t\t<DeactivationAction\n\t\t\t\tisSubscribed={ isSubscribed }\n\t\t\t\tdeactivationUrl={ deactivationUrl }\n\t\t\t\tcleanNonce={ cleanNonce }\n\t\t\t/>\n\t\t\t<Popover.Slot />\n\t\t</SlotFillProvider>,\n\t\twrapper\n\t);\n} //end initPage()\n"],"names":[],"sourceRoot":""}