{"version":3,"file":"js/heatmap-editor.js","mappings":"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","sources":["webpack://nab/./node_modules/@automattic/interpolate-components/dist/esm/index.js","webpack://nab/./node_modules/@automattic/interpolate-components/dist/esm/tokenize.js","webpack://nab/./packages/heatmap-editor/components/tracked-page/style.scss?60cc","webpack://nab/./packages/heatmap-editor/components/editor.tsx","webpack://nab/./packages/heatmap-editor/components/layout.tsx","webpack://nab/./packages/heatmap-editor/components/status-manager.ts","webpack://nab/./packages/heatmap-editor/components/tracked-page/index.tsx","webpack://nab/./packages/heatmap-editor/components/tracked-page/post-searcher.tsx","webpack://nab/./packages/heatmap-editor/components/utils.ts","webpack://nab/./packages/heatmap-editor/index.tsx","webpack://nab/external window \"React\"","webpack://nab/external window \"lodash\"","webpack://nab/external window [\"nab\",\"components\"]","webpack://nab/external window [\"nab\",\"conversionActionLibrary\"]","webpack://nab/external window [\"nab\",\"data\"]","webpack://nab/external window [\"nab\",\"date\"]","webpack://nab/external window [\"nab\",\"editor\"]","webpack://nab/external window [\"nab\",\"experimentLibrary\"]","webpack://nab/external window [\"nab\",\"utils\"]","webpack://nab/external window [\"wp\",\"components\"]","webpack://nab/external window [\"wp\",\"data\"]","webpack://nab/external window [\"wp\",\"domReady\"]","webpack://nab/external window [\"wp\",\"element\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/external window [\"wp\",\"notices\"]","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/./packages/heatmap-editor/export.ts"],"sourcesContent":["import { cloneElement, createElement, Fragment } from 'react';\nimport tokenize from './tokenize';\n\nfunction getCloseIndex(openIndex, tokens) {\n  const openToken = tokens[openIndex];\n  let nestLevel = 0;\n\n  for (let i = openIndex + 1; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if (token.value === openToken.value) {\n      if (token.type === 'componentOpen') {\n        nestLevel++;\n        continue;\n      }\n\n      if (token.type === 'componentClose') {\n        if (nestLevel === 0) {\n          return i;\n        }\n\n        nestLevel--;\n      }\n    }\n  } // if we get this far, there was no matching close token\n\n\n  throw new Error('Missing closing component token `' + openToken.value + '`');\n}\n\nfunction buildChildren(tokens, components) {\n  let children = [];\n  let openComponent;\n  let openIndex;\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if (token.type === 'string') {\n      children.push(token.value);\n      continue;\n    } // component node should at least be set\n\n\n    if (components[token.value] === undefined) {\n      throw new Error(`Invalid interpolation, missing component node: \\`${token.value}\\``);\n    } // should be either ReactElement or null (both type \"object\"), all other types deprecated\n\n\n    if (typeof components[token.value] !== 'object') {\n      throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \\`${token.value}\\``);\n    } // we should never see a componentClose token in this loop\n\n\n    if (token.type === 'componentClose') {\n      throw new Error(`Missing opening component token: \\`${token.value}\\``);\n    }\n\n    if (token.type === 'componentOpen') {\n      openComponent = components[token.value];\n      openIndex = i;\n      break;\n    } // componentSelfClosing token\n\n\n    children.push(components[token.value]);\n    continue;\n  }\n\n  if (openComponent) {\n    const closeIndex = getCloseIndex(openIndex, tokens);\n    const grandChildTokens = tokens.slice(openIndex + 1, closeIndex);\n    const grandChildren = buildChildren(grandChildTokens, components);\n    const clonedOpenComponent = /*#__PURE__*/cloneElement(openComponent, {}, grandChildren);\n    children.push(clonedOpenComponent);\n\n    if (closeIndex < tokens.length - 1) {\n      const siblingTokens = tokens.slice(closeIndex + 1);\n      const siblings = buildChildren(siblingTokens, components);\n      children = children.concat(siblings);\n    }\n  }\n\n  children = children.filter(Boolean);\n\n  if (children.length === 0) {\n    return null;\n  }\n\n  if (children.length === 1) {\n    return children[0];\n  }\n\n  return /*#__PURE__*/createElement(Fragment, null, ...children);\n}\n\nexport default function interpolate(options) {\n  const {\n    mixedString,\n    components,\n    throwErrors\n  } = options;\n\n  if (!components) {\n    return mixedString;\n  }\n\n  if (typeof components !== 'object') {\n    if (throwErrors) {\n      throw new Error(`Interpolation Error: unable to process \\`${mixedString}\\` because components is not an object`);\n    }\n\n    return mixedString;\n  }\n\n  const tokens = tokenize(mixedString);\n\n  try {\n    return buildChildren(tokens, components);\n  } catch (error) {\n    if (throwErrors) {\n      throw new Error(`Interpolation Error: unable to process \\`${mixedString}\\` because of error \\`${error.message}\\``);\n    }\n\n    return mixedString;\n  }\n}","function identifyToken(item) {\n  // {{/example}}\n  if (item.startsWith('{{/')) {\n    return {\n      type: 'componentClose',\n      value: item.replace(/\\W/g, '')\n    };\n  } // {{example /}}\n\n\n  if (item.endsWith('/}}')) {\n    return {\n      type: 'componentSelfClosing',\n      value: item.replace(/\\W/g, '')\n    };\n  } // {{example}}\n\n\n  if (item.startsWith('{{')) {\n    return {\n      type: 'componentOpen',\n      value: item.replace(/\\W/g, '')\n    };\n  }\n\n  return {\n    type: 'string',\n    value: item\n  };\n}\n\nexport default function tokenize(mixedString) {\n  const tokenStrings = mixedString.split(/(\\{\\{\\/?\\s*\\w+\\s*\\/?\\}\\})/g); // split to components and strings\n\n  return tokenStrings.map(identifyToken);\n}","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport * as React from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { StrictMode } from '@wordpress/element';\n\n/**\n * External dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { EditorProvider } from '@nab/editor';\nimport type { ExperimentId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { Layout } from './layout';\n\nexport type EditorProps = {\n\treadonly experimentId: ExperimentId;\n};\n\nexport const Editor = ( { experimentId }: EditorProps ): JSX.Element | null => {\n\tconst experiment = useSelect( ( select ) =>\n\t\tselect( NAB_DATA ).getExperiment( experimentId )\n\t);\n\n\tif ( ! experiment ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<StrictMode>\n\t\t\t<EditorProvider experiment={ experiment }>\n\t\t\t\t<Layout />\n\t\t\t</EditorProvider>\n\t\t</StrictMode>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@wordpress/element';\nimport { NoticeList } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { _x } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\n\nconst NOTICES = noticesStore?.name ?? 'core/notices';\n\n/**\n * External dependencies\n */\nimport { ExperimentName, Header, Sidebar } from '@nab/editor';\nimport { isEmpty } from '@nab/utils';\n\n/**\n * Internal dependencies\n */\nimport { StatusManager } from './status-manager';\nimport { TrackedPage } from './tracked-page';\n\nexport const Layout = (): JSX.Element => {\n\tconst notices = useNotices();\n\tconst { removeNotice } = useDispatch( NOTICES );\n\n\treturn (\n\t\t<div className=\"nab-edit-experiment-layout\">\n\t\t\t<StatusManager />\n\t\t\t<Header />\n\t\t\t<div className=\"nab-edit-experiment-layout__body\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"nab-edit-experiment-layout__content\"\n\t\t\t\t\trole=\"region\"\n\t\t\t\t\t/* translators: accessibility text for the content landmark region. */\n\t\t\t\t\taria-label={ _x(\n\t\t\t\t\t\t'Editor content',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t>\n\t\t\t\t\t{ ! isEmpty( notices ) && (\n\t\t\t\t\t\t<NoticeList\n\t\t\t\t\t\t\tclassName=\"nab-edit-experiment-layout__notices\"\n\t\t\t\t\t\t\tnotices={ notices }\n\t\t\t\t\t\t\tonRemove={ removeNotice }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<ExperimentName />\n\t\t\t\t\t<TrackedPage />\n\t\t\t\t</div>\n\n\t\t\t\t<Sidebar />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nimport type { Notice } from 'wordpress__notices';\nconst useNotices = (): ReadonlyArray< Notice > =>\n\tuseSelect( ( select ) => select( NOTICES ).getNotices() );\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { _x } from '@wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { isInTheFuture } from '@nab/date';\nimport { STORE_NAME as NAB_EDITOR } from '@nab/editor';\nimport { isEmpty } from '@nab/utils';\nimport type { Experiment } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getLocalUrlError } from './utils';\n\nexport const StatusManager = (): null => {\n\tconst attributes = useAttributes();\n\tconst updateStatus = useStatusUpdater();\n\n\tuseEffect( () => {\n\t\tconst {\n\t\t\thomeUrl,\n\t\t\tmode,\n\t\t\tname,\n\t\t\tpostId,\n\t\t\tpostType,\n\t\t\tstartDate,\n\t\t\tstatus,\n\t\t\turl,\n\t\t} = attributes;\n\n\t\tif ( 'running' === status ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tif ( isEmpty( name ) ) {\n\t\t\tupdateStatus(\n\t\t\t\t'draft',\n\t\t\t\t_x(\n\t\t\t\t\t'Please name your Heatmap test',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn;\n\t\t} //end if\n\n\t\tif ( 'post' === mode && ! postId ) {\n\t\t\tswitch ( postType ) {\n\t\t\t\tcase 'product':\n\t\t\t\t\tupdateStatus(\n\t\t\t\t\t\t'draft',\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'Please select the product to track',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\tcase 'post':\n\t\t\t\t\tupdateStatus(\n\t\t\t\t\t\t'draft',\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'Please select the post to track',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\tcase 'page':\n\t\t\t\t\tupdateStatus(\n\t\t\t\t\t\t'draft',\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'Please select the page to track',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\tdefault:\n\t\t\t\t\tupdateStatus(\n\t\t\t\t\t\t'draft',\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'Please select a page to track',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t} //end switch\n\t\t} //end if\n\n\t\tif ( 'url' === mode && getLocalUrlError( url, homeUrl ) ) {\n\t\t\tupdateStatus( 'draft', getLocalUrlError( url, homeUrl ) || '' );\n\t\t\treturn;\n\t\t} //end if\n\n\t\tif ( 'ready' === status ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tif ( 'scheduled' === status && ! isInTheFuture( startDate ) ) {\n\t\t\tupdateStatus( 'ready' );\n\t\t\treturn;\n\t\t} //end if\n\n\t\tif ( 'scheduled' !== status ) {\n\t\t\tupdateStatus( 'ready' );\n\t\t} //end if\n\t}, [ JSON.stringify( attributes ) ] );\n\n\treturn null;\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useAttributes = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getPluginSetting } = select( NAB_DATA );\n\t\tconst { getExperimentAttribute, getHeatmapAttribute } = select(\n\t\t\tNAB_EDITOR\n\t\t);\n\n\t\treturn {\n\t\t\thomeUrl: getPluginSetting( 'homeUrl' ),\n\t\t\tmode: getHeatmapAttribute( 'trackingMode' ) ?? 'post',\n\t\t\tname: getExperimentAttribute( 'name' ),\n\t\t\tpostId: getHeatmapAttribute( 'trackedPostId' ) ?? 0,\n\t\t\tpostType: getHeatmapAttribute( 'trackedPostType' ) ?? 'page',\n\t\t\tstartDate: getExperimentAttribute( 'startDate' ),\n\t\t\tstatus: getExperimentAttribute( 'status' ),\n\t\t\turl: getHeatmapAttribute( 'trackedUrl' ) ?? '',\n\t\t};\n\t} );\n\nconst useStatusUpdater = () => {\n\tconst { setDraftStatusRationale, setExperimentData } = useDispatch(\n\t\tNAB_EDITOR\n\t);\n\n\treturn ( status: Experiment[ 'status' ], rationale?: string ) => {\n\t\tsetExperimentData( { status } );\n\t\tsetDraftStatusRationale( rationale ?? '' );\n\t};\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@wordpress/element';\nimport {\n\tCheckboxControl,\n\tDashicon,\n\tExternalLink,\n\tTextControl,\n} from '@wordpress/components';\nimport { _x, sprintf } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { ErrorText } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { STORE_NAME as NAB_EDITOR } from '@nab/editor';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { getLocalUrlError } from '../utils';\nimport { PostSearcher } from './post-searcher';\n\nexport const TrackedPage = (): JSX.Element => {\n\tconst [ attributes, setAttributes ] = useAttributes();\n\tconst { mode, postId, postType, url, urlError } = attributes;\n\n\treturn (\n\t\t<div className=\"nab-edit-experiment__alternative-section\">\n\t\t\t<h2>\n\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t/* translators: dashicon */\n\t\t\t\t\t\t_x( '%s WordPress Page', 'text', 'nelio-ab-testing' ),\n\t\t\t\t\t\t'{{icon}}{{/icon}}'\n\t\t\t\t\t),\n\t\t\t\t\tcomponents: {\n\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t<Dashicon\n\t\t\t\t\t\t\t\tclassName=\"nab-alternative-section__title-icon\"\n\t\t\t\t\t\t\t\ticon=\"welcome-view-site\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t} ) }\n\t\t\t</h2>\n\n\t\t\t<div className=\"nab-tracked-element\">\n\t\t\t\t{ 'url' !== mode ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"nab-tracked-element__p\">\n\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t'Select the page you want to generate a heatmap for:',\n\t\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<PostSearcher\n\t\t\t\t\t\t\tclassName=\"nab-tracked-element__post\"\n\t\t\t\t\t\t\tpostId={ postId ?? 0 }\n\t\t\t\t\t\t\tpostType={ postType }\n\t\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"nab-tracked-element__p\">\n\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t'Type in the URL of the page you want to generate a heatmap for:',\n\t\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"nab-tracked-element__url\">\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tclassName=\"nab-tracked-element__url-value\"\n\t\t\t\t\t\t\t\tvalue={ url }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { url: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tplaceholder={ _x(\n\t\t\t\t\t\t\t\t\t'URL…',\n\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div className=\"nab-tracked-element__url-preview\">\n\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\tclassName=\"components-button is-secondary\"\n\t\t\t\t\t\t\t\t\thref={ ! urlError ? url : undefined }\n\t\t\t\t\t\t\t\t\tdisabled={ !! urlError }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'View',\n\t\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{ !! urlError && (\n\t\t\t\t\t\t\t<div className=\"nab-tracked-element__p\">\n\t\t\t\t\t\t\t\t<ErrorText value={ urlError } />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\n\t\t\t\t<div className=\"nab-tracked-element__p\">\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tclassName=\"nab-tracked-element__mode\"\n\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t'Track heatmap of a page specified using its URL.',\n\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tchecked={ 'url' === mode }\n\t\t\t\t\t\tonChange={ ( checked ) =>\n\t\t\t\t\t\t\tsetAttributes( { mode: checked ? 'url' : 'post' } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useAttributes = () => {\n\tconst attributes = useSelect( ( select ) => {\n\t\tconst { getPluginSetting } = select( NAB_DATA );\n\t\tconst { getHeatmapAttribute } = select( NAB_EDITOR );\n\n\t\tconst url = getHeatmapAttribute( 'trackedUrl' ) || '';\n\t\tconst homeUrl = getPluginSetting( 'homeUrl' );\n\n\t\treturn {\n\t\t\tmode: getHeatmapAttribute( 'trackingMode' ) || 'post',\n\t\t\tpostId: getHeatmapAttribute( 'trackedPostId' ) || undefined,\n\t\t\tpostType: getHeatmapAttribute( 'trackedPostType' ) || 'page',\n\t\t\turl,\n\t\t\turlError: getLocalUrlError( url, homeUrl ),\n\t\t};\n\t} );\n\n\ttype Attributes = {\n\t\treadonly mode: 'post' | 'url';\n\t\treadonly postId: number;\n\t\treadonly postType: string;\n\t\treadonly url: string;\n\t};\n\n\tconst { setHeatmapData } = useDispatch( NAB_EDITOR );\n\tconst setAttributes = ( attrs: Partial< Attributes > ): void =>\n\t\tsetHeatmapData( {\n\t\t\ttrackingMode: attrs.mode ?? attributes.mode,\n\t\t\ttrackedPostId: attrs.postId ?? attributes.postId,\n\t\t\ttrackedPostType: attrs.postType ?? attributes.postType,\n\t\t\ttrackedUrl: attrs.url ?? attributes.url,\n\t\t} );\n\n\treturn [ attributes, setAttributes ] as const;\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@wordpress/element';\nimport { SelectControl } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { _x } from '@wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { PostSearcher as Searcher } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { isEmpty } from '@nab/utils';\n\nexport type PostSearcherProps = {\n\treadonly className: string;\n\treadonly postId: number;\n\treadonly postType: string;\n\treadonly setAttributes: ( attrs: Partial< SAP > ) => void;\n};\n\ntype SAP = {\n\treadonly postId: number;\n\treadonly postType: string;\n};\n\nexport const PostSearcher = ( {\n\tclassName,\n\tpostId,\n\tpostType: currentPostType,\n\tsetAttributes,\n}: PostSearcherProps ): JSX.Element => {\n\tconst postTypes = usePostTypes();\n\n\tconst selectablePostTypes = postTypes.map( ( type ) => ( {\n\t\tvalue: type.name,\n\t\tlabel: type.labels.singular_name,\n\t} ) );\n\tconst postType = currentPostType || 'page';\n\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<SelectControl\n\t\t\t\tclassName={ `${ className }-type-selector` }\n\t\t\t\tvalue={ postType }\n\t\t\t\toptions={ selectablePostTypes }\n\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\tsetAttributes( { postId: 0, postType: value } )\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<Searcher\n\t\t\t\tclassName={ `${ className }-selector` }\n\t\t\t\ttype={ postType }\n\t\t\t\tvalue={ postId }\n\t\t\t\tperPage={ 10 }\n\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\tsetAttributes( { postId: value, postType } )\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst usePostTypes = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getKindEntities } = select( NAB_DATA );\n\t\tconst defaultPostTypes = [\n\t\t\t{\n\t\t\t\tkind: 'entity' as const,\n\t\t\t\tname: 'page',\n\t\t\t\tlabels: {\n\t\t\t\t\tsingular_name: _x( 'Page', 'text', 'nelio-ab-testing' ),\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tkind: 'entity' as const,\n\t\t\t\tname: 'post',\n\t\t\t\tlabels: {\n\t\t\t\t\tsingular_name: _x( 'Post', 'text', 'nelio-ab-testing' ),\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\tlet postTypes = getKindEntities();\n\t\tpostTypes = isEmpty( postTypes ) ? defaultPostTypes : postTypes;\n\t\tpostTypes = postTypes.filter( ( pt ) => 'entity' === pt.kind );\n\t\tpostTypes = postTypes.filter( ( pt ) => 'attachment' !== pt.name );\n\n\t\treturn postTypes;\n\t} );\n","/**\n * WordPress dependencies\n */\nimport { sprintf, _x } from '@wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { isUrlFragmentInvalid } from '@nab/utils';\n\nexport function getLocalUrlError( url = '', homeUrl?: string ): string | false {\n\tif ( ! homeUrl ) {\n\t\treturn false;\n\t} //end if\n\n\tif ( 0 !== url.indexOf( homeUrl ) ) {\n\t\treturn sprintf(\n\t\t\t/* translators: a URL */\n\t\t\t_x(\n\t\t\t\t'URL doesn’t start with your WordPress’ home URL (i.e. “%s”)',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t\thomeUrl\n\t\t);\n\t} //end if\n\n\tif ( isUrlFragmentInvalid( url.replace( homeUrl, '' ) ) ) {\n\t\treturn _x(\n\t\t\t'Please type in a valid URL to track',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t);\n\t} //end if\n\n\treturn false;\n} //end getLocalUrlError()\n","/**\n * WordPress dependencies\n */\nimport * as React from '@wordpress/element';\nimport { render } from '@wordpress/element';\nimport { dispatch } from '@wordpress/data';\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * External dependencies\n */\nimport { debounce } from 'lodash';\nimport '@nab/editor';\nimport { registerCoreConversionActions } from '@nab/conversion-action-library';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { registerCoreExperiments } from '@nab/experiment-library';\nimport type { ExperimentId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { Editor } from './components/editor';\n\nexport function initializeExperimentEditor(\n\tid: string,\n\texperimentId: ExperimentId\n): void {\n\tconst target = document.getElementById( id );\n\n\tregisterCoreExperiments();\n\tregisterCoreConversionActions();\n\n\trender( <Editor experimentId={ experimentId } />, target );\n} //end initializeExperimentEditor()\n\n// =======\n// HELPERS\n// =======\n\nfunction fixSidebarDimensions() {\n\tconst height = window.innerHeight;\n\tconst wpAdminBar = document.getElementById( 'wpadminbar' );\n\tconst adminBarHeight = wpAdminBar\n\t\t? wpAdminBar.getBoundingClientRect().height\n\t\t: 0;\n\n\tconst { setPageAttribute } = dispatch( NAB_DATA );\n\tsetPageAttribute( 'sidebarDimensions', {\n\t\ttop: adminBarHeight,\n\t\theight: `${ height - adminBarHeight }px`,\n\t\tapplyFix: 782 <= window.innerWidth, // medium breakpoint\n\t} );\n} //end fixSidebarDimensions()\nwindow.addEventListener( 'resize', debounce( fixSidebarDimensions, 100 ) );\ndomReady( fixSidebarDimensions );\n","module.exports = window[\"React\"];","module.exports = window[\"lodash\"];","module.exports = window[\"nab\"][\"components\"];","module.exports = window[\"nab\"][\"conversionActionLibrary\"];","module.exports = window[\"nab\"][\"data\"];","module.exports = window[\"nab\"][\"date\"];","module.exports = window[\"nab\"][\"editor\"];","module.exports = window[\"nab\"][\"experimentLibrary\"];","module.exports = window[\"nab\"][\"utils\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * as heatmapEditor from './index';\n"],"names":[],"sourceRoot":""}